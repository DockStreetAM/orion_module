# Eclipse REST API Documentation

This document contains the API reference for the Eclipse REST API.

---


---

# Authentication


## Get Authorized User

This API gets user id from Orion Connect application and fetch respective user details from Eclipse.

**GET** `https://baseurl/v1/admin/authorization/user`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/admin/authorization/user
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The User-ID. |
| actualUserId | Number | The Actual User-ID. |
| name | String | Full Name of the User. |
| userLogo | String | User logo path |
| status | Boolean | User status - Active/Inactive. |
| email | String | User email id. |
| userLoginId | String | User login id. |
| role | Object | User role details. |
| team | String[] | User team details. |
| firmId | String | Firm Id of user. |
| firmName | String | Firm Name of user. |
| firmLogo | String | Firm logo path. |
| startDate | Date | Date from which user will be active in system. |
| expireDate | Date | Date after which user will be inactive in system. |
| isDeleted | Boolean | User exist or not into the system. |
| createdOn | Date | User creation date into application. |
| createdBy | Number | Full Name of user who created the User into the system. |
| editedOn | Date | User edited date into application. |
| editedBy | String | Full Name of user who edited the User details into the system. |

```http
HTTP/1.1 200 OK
{
"id": 66,
"actualUserId": null,
"name": "Demo Unit",
"userLogo":"https://PATH/TO/FILE",
"status": 1,
"email": "emial@primetgi.com",
"userLoginId": "prime@tgi.com",
"role": {
"id": 1,
"name": "Rep Manag1er",
"status": 1,
"roleTypeId": 1,
"roleType": "FIRM ADMIN",
"startDate": "2016-01-21T18:30:00.000Z",
"expireDate": "2016-12-24T18:30:00.000Z",
"privileges": [
{
"id": 57,
"name": "Teams",
"code": "TEAMS",
"category": "Admin",
"type": 0,
"canAdd": 1,
"addDisabled": 0,
"canUpdate": 1,
"updateDisabled": 0,
"canDelete": 1,
"deleteDisabled": 0,
"canRead": 1,
"readDisabled": "0",
"isDeleted": 0
}
],
"isDeleted": 0,
"createdOn": "2016-07-29T06:35:20.000Z",
"createdBy": "prime@tgi.com",
"editedOn": "2016-11-30T06:04:58.000Z",
"editedBy": "prime@tgi.com"
},
"teams": [
{
"id": 1,
"name": "10221 team"
}
],
"firmId": 3,
"firmName": null,
"firmLogo":"https://PATH/TO/FILE",
"startDate": "2016-06-21T18:30:00.000Z",
"expireDate": "2016-12-24T18:30:00.000Z",
"isDeleted": 0,
"createdOn": "2016-06-17T05:57:22.000Z",
"createdBy": null,
"editedOn": "2016-12-06T03:44:55.000Z",
"editedBy": "prime@tgi.com"
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| INTERNAL_SERVER_ERROR | Internal Server Error. |
| UNAUTHORIZED | Invalid JWT token. |

```http
HTTP/1.1 401 Not Authenticated
{
"message": "UNAUTHORIZED"
}
```


## Login (OrionConnect Auth Token)

This API gets validates Orion Connect auth token and returns JWT token.

**GET** `https://baseurl/v1/admin/token`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/admin/token
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | Orion connect auth token |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| eclipse_access_token | String | The JWT Token. |
| orion_access_token | String | The Orion Connect Auth Token. |
| expires_in | String | Token Expire Time in Second. |

### Error 4xx

| Name | Description |
|------|-------------|
| BAD_REQUEST | Login credentials missing. |
| UNAUTHORIZED | Invalid login credentials. |

```http
HTTP/1.1 401 Not Authenticated
{
"message": "UNAUTHORIZED"
}
```


## Login As

This API return token for logIn as another user for already logged in user.

**POST** `https://baseurl/v1/admin/token/loginas`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/admin/token/loginas
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| userId | number | Full Name of user to logIn as. |

```json
{
"userId": 1
}
```

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| eclipse_access_token | String | The JWT Token. |
| orion_access_token | String | The Orion Connect Auth Token. |
| expires_in | String | Token Expire Time in Second. |

```http
HTTP/1.1 201 OK
{
"eclipse_access_token": The Eclipse JWT Token,
"orion_access_token": The Orion Connect Auth Token,
"expire_time": 36000
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |
| Bad_Request | When without request data. |
| NOT_FOUND | When user firm association not found. |
| UNAUTHORIZED | When user is unauthorized to loginAs. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```

```http
HTTP/1.1 400 Bad_Request
{
"message": "Bad Request: Verify request data"
}
```


## Logout

This API invalidates token and logouts user from application.

**GET** `https://baseurl/v1/admin/logout`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/admin/logout
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| message | String | Success message. |

### Error 4xx

| Name | Description |
|------|-------------|
| INTERNAL_SERVER_ERROR | Internal Server Error. |
| UNAUTHORIZED | Invalid JWT token. |

```http
HTTP/1.1 401 Not Authenticated
{
"message": "UNAUTHORIZED"
}
```


## Revert Login As

This API Revert the loggedInAs user to actual user

**GET** `https://baseurl/v1/admin/token/loginas/revert`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/admin/token/loginas/revert
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| eclipse_access_token | String | The JWT Token. |
| orion_access_token | String | The Orion Connect Auth Token. |
| expires_in | String | Token Expire Time in Second. |

```http
HTTP/1.1 201 OK
{
"eclipse_access_token": The Eclipse JWT Token,
"orion_access_token": The Orion Connect Auth Token,
"expire_time": 36000
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```


## Switch user firm

This API change the user firm

**POST** `https://baseurl/v1/admin/token/firm`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/admin/token/firm
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| firmId | number | firm Id to be changed |

```json
{
"firmId": 1
}
```

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| eclipse_access_token | String | The JWT Token. |
| orion_access_token | String | The Orion Connect Auth Token. |
| expires_in | String | Token Expire Time in Second. |

```http
HTTP/1.1 201 OK
{
"eclipse_access_token": The Eclipse JWT Token,
"orion_access_token": The Orion Connect Auth Token,
"expire_time": 36000
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |
| Bad_Request | When without request data. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```

```http
HTTP/1.1 400 Bad_Request
{
"message": "Bad Request: Verify request data"
}
```


## Switch user firm

This API gets a token for a different firm

**GET** `https://baseurl/v1/admin/token/firm/:firmId`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/admin/token/firm/1
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| firmId | number | firm Id to be changed |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| eclipse_access_token | String | The JWT Token. |
| orion_access_token | String | The Orion Connect Auth Token. |
| expires_in | String | Token Expire Time in Second. |

```http
HTTP/1.1 201 OK
{
"eclipse_access_token": The Eclipse JWT Token,
"orion_access_token": Authorization eclipse_access_token,
"expire_time": 36000
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |
| Bad_Request | When without request data. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```

```http
HTTP/1.1 400 Bad_Request
{
"message": "Bad Request: Verify request data"
}
```


---

# Users


## Add User Profile logo

This API adds Profile logo to logged in user.

**POST** `https://baseurl/v1/admin/users/profile`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/admin/users/profile
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| logo | File | Logo file for logged in user. |

```json
{
"logo":filepath
}
```

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The User Id. |
| firstName | String | First Name of the User. |
| lastName | String | Last Name of the User. |
| email | String | Email of the User. |
| imagePath | String | Path of user profile image. |

```http
HTTP/1.1 200 OK
{
"id": 66,
"firstName": "Demo",
"lastName": "Unit",
"email":"karam@gmail.com",
"imagePath":"https://PATH/TO/FILE"
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```


## Add User

This API adds Orion Connect User into application.

**POST** `https://baseurl/v1/admin/users`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/admin/users
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| orionUserId | Number | The user orion connect external id. |
| name | String | Full name of the User. |
| email | String | User email id. |
| userLoginId | String | User Login id. |
| roleId | Number | Actual role Id. |
| teamIds | String[] | Actual team Id. |
| status | Boolean | User status - Active/Inactive. |
| startDate | Date | User started date into application. |
| expireDate | Date | User expired date into application(should be null if user expire date is never ending). |

```json
{
"orionUserId": 1122,
"name": "param singh",
"email": "param1@gmail.com",
"userLoginId": "prime@tgi.com",
"roleId": 1,
"teamIds": [
1,
2
],
"status": 0,
"startDate": "05/12/2016",
"expireDate": "12/22/2016"
}
```

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The User Id. |
| name | String | Full Name of the User. |
| orionUserId | Number | The user orion connect external id. |
| status | Boolean | User status - Active/Inactive. |
| email | String | User email id. |
| userLoginId | String | User Login id. |
| role | String | User role details. |
| teams | String[] | User teams details. |
| isDeleted | Boolean | User exist or not into the system. |
| startDate | Date | Date from which user will be active in system. |
| expireDate | Date | Date after which user will be inactive in system. |
| createdOn | Date | User creation date into application. |
| createdBy | Number | Full Name of user who created the User into the system. |
| editedOn | Date | User edited date into application. |
| editedBy | String | Full Name of user who edited the User details into the system. |

```http
HTTP/1.1 200 OK
[{
"id": 34,
"name": "RajneeshFinalTest ",
"orionUserId": 33,
"status": 0,
"email": "param1@gmail.com",
"userLoginId": "prime@tgi.com",
"role": {
"id": 170,
"name": "Agent Manager"
},
"teams": [
{
"id": 30,
"name": "newestteam"
},
{
"id": 38,
"name": "newest team2"
},
{
"id": 40,
"name": "11"
}
],
"startDate": "2016-01-03T18:30:00.000Z",
"expireDate": "2050-12-30T18:30:00.000Z",
"isDeleted": 0,
"createdOn": "2016-07-07T01:17:52.000Z",
"createdBy": "Prime Prime",
"editedOn": "2016-07-09T02:00:47.000Z",
"editedBy": "Prime Prime"
}]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |
| Bad_Request | When without request data. |
| Unprocessable_Entity | When user already exist with same id. |
| Not_Found | ,When user does not exist. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```

```http
HTTP/1.1 400 Bad_Request
{
"message": "Bad Request: Verify request data"
}
```

```http
HTTP/1.1 422 Unprocessable_Entity
{
"message": "User already exist with same id"
}
```

```http
HTTP/1.1 404 Not_Found
{
"message": "User does not exist"
}
```


## Delete User

This API deletes (soft delete) user in application.

**DELETE** `https://baseurl/v1/admin/users/:id`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/admin/users/324578
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| message | String | User deleted message. |

```http
HTTP/1.1 200 OK
{
"message": "User deleted successfully"
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |
| Not_Found | When user does not exist or already deleted. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```

```http
HTTP/1.1 404 Not_Found
{
"message": "Notification does not exist or already deleted"
}
```


## Get All Users

This API gets user list.

**GET** `https://baseurl/v1/admin/users`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/admin/users
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The User Id. |
| name | Date | Full Name of the User. |
| orionUserId | Number | The user orion connect external id. |
| status | Boolean | User status - Active/Inactive. |
| email | String | User email id. |
| userLoginId | String | User Login id. |
| role | String | User role details. |
| teams | String[] | User teams details. |
| isDeleted | Boolean | User exist or not into the system. |
| startDate | Date | Date from which user will be active in system. |
| expireDate | Date | Date after which user will be inactive in system. |
| createdOn | Date | User creation date into application. |
| createdBy | Number | Full Name of user who created the User into the system. |
| editedOn | Date | User edited date into application. |
| editedBy | String | Full Name of user who edited the User details into the system. |

```http
HTTP/1.1 200 OK
[{
"id": 34,
"name": "RajneeshFinalTest ",
"orionUserId": 33,
"status": 0,
"email": "param1@gmail.com",
"userLoginId": "prime@tgi.com",
"role": {
"id": 170,
"name": "Agent Manager"
},
"teams": [
{
"id": 30,
"name": "newestteam"
},
{
"id": 38,
"name": "newest team2"
},
{
"id": 40,
"name": "11"
}
],
"startDate": "2016-01-03T18:30:00.000Z",
"expireDate": "2050-12-30T18:30:00.000Z",
"isDeleted": 0,
"createdOn": "2016-07-07T01:17:52.000Z",
"createdBy": "Prime Prime",
"editedOn": "2016-07-09T02:00:47.000Z",
"editedBy": "Prime Prime"
}]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get User Details

This API gets user details.

**GET** `https://baseurl/v1/admin/users/:id`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/admin/users/370925
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | String | The User Id. |
| name | Date | Full Name of the User. |
| orionUserId | Number | The user orion connect external id. |
| status | Boolean | User status - Active/Inactive. |
| email | String | User email id. |
| userLoginId | String | User Login id. |
| role | String | User role details. |
| teams | String[] | User teams details. |
| isDeleted | Boolean | User exist or not into the system. |
| startDate | Date | Date from which user will be active in system. |
| expireDate | Date | Date after which user will be inactive in system. |
| createdOn | Date | User creation date into application. |
| createdBy | Number | Full Name of user who created the User into the system. |
| editedOn | Date | User edited date into application. |
| editedBy | String | Full Name of user who edited the User details into the system. |

```http
HTTP/1.1 200 OK
[{
"id": 34,
"name": "Paramveer Singh",
"orionUserId": 33,
"status": 0,
"email": "param1@gmail.com",
"userLoginId": "karam@gmail.com"
"role": {
"id": 170,
"name": "Agent Manager"
},
"teams": [
{
"id": 30,
"name": "newestteam"
},
{
"id": 38,
"name": "newest team2"
},
{
"id": 40,
"name": "11"
}
],
"startDate": "2016-01-03T18:30:00.000Z",
"expireDate": "2050-12-30T18:30:00.000Z",
"isDeleted": 0,
"createdOn": "2016-07-07T01:17:52.000Z",
"createdBy": "Prime Prime",
"editedOn": "2016-07-09T02:00:47.000Z",
"editedBy": "Prime Prime"
}]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |
| Not | Found Invalid UserId. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```

```http
HTTP/1.1 404 Not_Found
{
"message": "User does not exist"
}
```


## Get User From Orion Connect

This API searches user in Orion Connect.

**GET** `https://baseurl/v1/admin/users/connect/:loginUserId`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/admin/users//connect/john
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| userName | String | Orion connect userName |
| loginUserId | number | Orion connect user login id |
| userId | number | Orion connect user id |
| userDetailId | number | Orion connect user detail Id |
| selected | String | Orion connect user selected value |
| userGuid | String | Orion connect user GUID |
| entity | String | Orion connect user entity value |
| entityId | String | Orion connect user entity Id |
| entityName | String | Orion connect user entity name |

```http
HTTP/1.1 200 OK
[
{
"userName": "Leyboldt, Joe",
"loginUserId": "joe.leyboldt",
"userId": 2801,
"userDetailId": 186055,
"selected": false,
"userGuid": "20af52c4-0bed-4da9-97b6-29bd639536ac",
"entity": "Administrator",
"entityId": null,
"entityName": "Leyboldt, Joe"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```


## Get User Privileges

This API gets user privileges.

**GET** `https://baseurl/v1/admin/users/:userId/privileges`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/admin/users/324578/privileges
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | number | Privilege id. |
| name | String | Privilege name. |
| canAdd | Boolean | Can Add - 0/1. |
| canUpdate | Boolean | Can Update - 0/1. |
| canRead | Boolean | Can Read - 0/1. |
| canDelete | Boolean | Can Delete - 0/1. |
| isDeleted | Boolean | User Privilege exist or not in system - 0/1. |
| createdOn | Date | User Privilege creation date into application. |
| createdBy | Number | Full Name of user who created the User Privilege into the system. |
| editedOn | Date | User Privilege edited date into application. |
| editedBy | String | Full Name of user who edited the User Privilege into the system. |

```http
HTTP/1.1 200 OK
[
{
"id": 57,
"name": "Teams",
"canAdd": 1,
"canUpdate": 1,
"canDelete": 1,
"canRead": 1,
"isDeleted": 0,
"createdOn": "0000-00-00 00:00:00",
"createdBy": "rahyikg TGI",
"editedOn": "2016-07-14T07:48:16.000Z",
"editedBy": "Prime Prime"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | ,Invalid / without JWT Token. |
| Not_Found | ,When user does not exist. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```

```http
HTTP/1.1 404 Not_Found
{
"message": "User does not exist"
}
```


## Get User Profile

This API get Profile of logged in user.

**GET** `https://baseurl/v1/admin/users/profile`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/admin/users/profile
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The User Id. |
| firstName | String | First Name of the User. |
| lastName | String | Last Name of the User. |
| email | String | Email of the User. |
| imagePath | String | Path of user profile image. |

```http
HTTP/1.1 200 OK
{
"id": 66,
"firstName": "Demo",
"lastName": "Unit",
"email":"karam@gmail.com",
"imagePath":"https://PATH/TO/FILE"
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```


## Get Users Summary

This API gets user summary.

**GET** `https://baseurl/v1/admin/users/summary`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/admin/users/summary
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| totalUsers | Number | Total Users |
| newUsers | Number | New Users |
| existingUsers | Number | Existing Users |

```http
HTTP/1.1 200 OK
{
"totalUsers": 38,
"newUsers": 30,
"existingUsers": 8
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Search Users

Searches for a user

**GET** `https://baseurl/v1/admin/users?search={id/name}&amp;active=true`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/admin/users?search=370925
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The User Id. |
| name | Date | Full Name of the User. |
| orionUserId | Number | The user orion connect external id. |
| status | Boolean | User status - Active/Inactive. |
| email | String | User email id. |
| userLoginId | String | User Login id. |
| role | String | User role details. |
| teams | String[] | User teams details. |
| isDeleted | Boolean | User exist or not into the system. |
| startDate | Date | Date from which user will be active in system. |
| expireDate | Date | Date after which user will be inactive in system. |
| createdOn | Date | User creation date into application. |
| createdBy | Number | Full Name of user who created the User into the system. |
| editedOn | Date | User edited date into application. |
| editedBy | String | Full Name of user who edited the User details into the system. |

```http
HTTP/1.1 200 OK
[{
"id": 34,
"name": "RajneeshFinalTest ",
"orionUserId": 33,
"status": 0,
"email": "param1@gmail.com",
"userLoginId": "prime@tgi.com",
"role": {
"id": 170,
"name": "Agent Manager"
},
"teams": [
{
"id": 30,
"name": "newestteam"
},
{
"id": 38,
"name": "newest team2"
},
{
"id": 40,
"name": "11"
}
],
"startDate": "2016-01-03T18:30:00.000Z",
"expireDate": "2050-12-30T18:30:00.000Z",
"isDeleted": 0,
"createdOn": "2016-07-07T01:17:52.000Z",
"createdBy": "Prime Prime",
"editedOn": "2016-07-09T02:00:47.000Z",
"editedBy": "Prime Prime"
}]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Update User

This API updates user details.

**PUT** `https://baseurl/v1/admin/users/:id`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/admin/users/370925
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| name | String | Full Name of the User. |
| email | String | User email id. |
| userLoginId | String | User Login id. |
| roleId | Number | Actual role Id. |
| teamIds | String[] | Actual team Id. |
| status | Boolean | User status - Active/Inactive. |
| startDate | Date | User started date into application. |
| expireDate | Date | User expired date into application. |

```json
{
"name": "param singh",
"email": "param1@gmail.com",
"userLoginId": "prime@tgi.com",
"roleId": 167,
"teamIds": [
27,
2
],
"status": 0,
"startDate": "06/22/2016",
"expireDate": "12/25/2016"
}
```

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The User Id. |
| name | Date | Full Name of the User. |
| orionUserId | Number | The user orion connect external id. |
| status | Boolean | User status - Active/Inactive. |
| email | String | User email id. |
| userLoginId | String | User Login id. |
| role | String | User role details. |
| teams | String[] | User teams details. |
| isDeleted | Boolean | User exist or not into the system. |
| startDate | Date | Date from which user will be active in system. |
| expireDate | Date | Date after which user will be inactive in system. |
| createdOn | Date | User creation date into application. |
| createdBy | Number | Full Name of user who created the User into the system. |
| editedOn | Date | User edited date into application. |
| editedBy | String | Full Name of user who edited the User details into the system. |

```http
HTTP/1.1 200 OK
[{
"id": 34,
"name": "RajneeshFinalTest ",
"orionUserId": 33,
"status": 0,
"email": "param1@gmail.com",
"userLoginId": "prime@tgi.com",
"role": {
"id": 170,
"name": "Agent Manager"
},
"teams": [
{
"id": 30,
"name": "newestteam"
},
{
"id": 38,
"name": "newest team2"
},
{
"id": 40,
"name": "11"
}
],
"startDate": "2016-01-03T18:30:00.000Z",
"expireDate": "2050-12-30T18:30:00.000Z",
"isDeleted": 0,
"createdOn": "2016-07-07T01:17:52.000Z",
"createdBy": "Prime Prime",
"editedOn": "2016-07-09T02:00:47.000Z",
"editedBy": "Prime Prime"
}]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |
| Bad_Request | When Invalid request data. |
| Not_Found | When user does not exist. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```

```http
HTTP/1.1 400 Bad_Request
{
"message": "Bad Request: Verify request data"
}
```

```http
HTTP/1.1 404 Not_Found
{
"message": "User does not exist"
}
```


---

# Privileges


## Get All Privileges

This API gets privileges list.

**GET** `https://baseurl/v1/admin/privileges`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/admin/privileges
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | String | The privilege Id. |
| name | String | Name of the Privilege. |
| code | String | Code of the Privilege. |
| type | Number | Type of the Privilege. |
| userLevel | Number | User Level of the Privilege. |
| category | String | Category of the Privilege. |
| isDeleted | Boolean | Privilege exist or not into the system. |
| createdOn | Date | Privilege creation date into application. |
| createdBy | Number | Full Name of user who created the Privilege into the system. |
| editedOn | Date | Privilege edited date into application. |
| editedBy | Number | Full Name of user who edited the Privilege details into the system. |

```http
HTTP/1.1 200 OK
[ {
"id": 57,
"name": "Teams",
"code": "TEAMS",
"type": 0,
"userLevel": 1,
"category": "Security",
"isDeleted": 0,
"createdOn": "2016-06-14T11:25:16.000Z",
"createdBy": "Prime Prime",
"editedOn": "2016-06-14T11:25:16.000Z",
"editedBy": "Prime Prime"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get Privileges based on roleTypeId

This API gets privileges list based on roleTypeId

**GET** `https://baseurl/v1/admin/privileges?roleTypeId={roleTypeid}`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/admin/privileges?roleTypeId=3
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | String | The privilege Id. |
| name | String | Name of the Privilege. |
| code | String | Code of the Privilege. |
| type | Number | Type of the Privilege. |
| userLevel | Number | User Level of the Privilege. |
| category | String | Category of the Privilege. |
| addDisabled | Boolean | Add privilege is enabled/disabled for roleType. |
| updateDisabled | Boolean | Update privilege is enabled/disabled for roleType. |
| deleteDisabled | Boolean | Delete privilege is enabled/disabled for roleType. |
| readDisabled | Boolean | Read privilege is enabled/disabled for roleType. |
| isDeleted | Boolean | Privilege exist or not into the system. |
| createdOn | Date | Privilege creation date into application. |
| createdBy | Number | Full Name of user who created the Privilege into the system. |
| editedOn | Date | Privilege edited date into application. |
| editedBy | Number | Full Name of user who edited the Privilege details into the system. |

```http
HTTP/1.1 200 OK
[ {
"id": 60,
"name": "Models",
"code": "MODELS",
"type": 0,
"userLevel": 7,
"category": "Modeling",
"addDisabled": 0,
"updateDisabled": 0,
"deleteDisabled": 0,
"readDisabled": "0",
"isDeleted": 0,
"createdOn": "2016-06-14T16:55:16.000Z",
"createdBy": "Prime Prime",
"editedOn": "2016-06-14T16:55:16.000Z",
"editedBy": "Prime Prime"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get the state of a feature flag for the current user

This API gets the current state of a feature flag (true/false/null).

**GET** `https://baseurl/v1/admin/privileges`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/admin/privileges/featureflag/feature_flag_name
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| Privilege | Boolean | is enabled, disabled, or does not exist (null). |

```http
HTTP/1.1 200 OK
true
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```


---

# Roles


## Add Role

This API Add Role.

**POST** `https://baseurl/v1/admin/roles`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/admin/roles
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| name | String | Full Name of the Role. |
| roleTypeId | String | RoleType id. |
| privileges | String[] | Privileges list. |

```json
{
"name": "test14",
"roleTypeId": 1,
"status": 1,
"startDate": "01/22/2016",
"expireDate": "12/25/2016",
"privileges": [
{
"id": 67,
"canAdd": true,
"canUpdate": false,
"canDelete": true,
"canRead": false
}
]
}
```

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The Role ID. |
| name | String | Name of the Role. |
| roleTypeId | number | RoleType id |
| roleType | String | RoleType name. |
| status | Boolean | Status of the Role |
| startDate | Date | Role start date into application. |
| expireDate | Date | Role expire date into application. |
| isDeleted | Boolean | Role exist or not into the system. |
| createdOn | Date | Role creation date into application. |
| createdBy | Number | Full Name of user who created the Role into the system. |
| editedOn | Date | Role edited date into application. |
| editedBy | Number | Full Name of user who edited the Role details into the system. |
| privileges | String[] | Privileges list. |

```http
HTTP/1.1 201 OK
{
"id": 1,
"name": "Madan sinha",
"roleTypeId": "1",
"roleType": "FIRM ADMIN",
"isDeleted": 1,
"createdOn": "2016-06-08T09:24:16.000Z",
"createdBy": "Prime Prime",
"editedOn": "2016-06-30T04:33:14.000Z",
"editedBy" : "Prime Prime",
"privileges": [
{
"id": 57,
"name": "Teams",
"code": "TEAMS",
"category": "Security",
"canAdd": true,
"canUpdate": false,
"canDelete": true,
"canRead": false,
"isDeleted": 0,
"type": "Record"
}
]
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |
| Bad_Request | When missing required parameters. |
| Unprocessable_Entity | When role already exist with same name. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```

```http
HTTP/1.1 400 Bad_Request
{
"message": "Missing required parameters"
}
```

```http
HTTP/1.1 422 Unprocessable_Entity
{
"message": "Role already exist with same name"
}
```


## Assign Privileges to Role

This API add privilege to role.

**POST** `https://baseurl/v1/admin/roles/:id`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/admin/roles/1
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

```json
{
"privileges": [
{
"id": 67,
"canAdd": true,
"canUpdate": false,
"canDelete": true,
"canRead": false
}
]
}
```

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| privileges | String[] | Privileges list. |
| data | String | Role privileges message. |

```http
HTTP/1.1 200 OK
{
"data":"Privileges Added Successfully"
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |
| Not_Found | When role does not exist. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```

```http
HTTP/1.1 404 Not_Found
{
"message": "Role does not exist"
}
```


## Delete Role

This API deletes role (soft delete).

**DELETE** `https://baseurl/v1/admin/roles/:id`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/admin/roles/1
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| message | String | Success message. |

```http
HTTP/1.1 200 OK
{
"message": "Role deleted successfully"
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |
| Not_Found | When role does not exist or already deleted. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```

```http
HTTP/1.1 404 Not_Found
{
"message": "Role does not exist or already deleted"
}
```


## Get All Roles

This API gets role list.

**GET** `https://baseurl/v1/admin/roles`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/admin/roles
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The Role ID. |
| name | String | Name of the Role. |
| roleType | String | Name of the Role Type. |
| numberOfUsers | Number | Number of Users associated with Role. |
| status | Boolean | Status of the Role |
| startDate | Date | Role start date into application. |
| expireDate | Date | Role expire date into application. |
| isDeleted | Boolean | Role exist or not into the system. |
| createdOn | Date | Role creation date into application. |
| createdBy | Number | Full Name of user who created the Role into the system. |
| editedOn | Date | Role edited date into application. |
| editedBy | Number | Full Name of user who edited the Role details into the system. |

```http
HTTP/1.1 200 OK
[
{
"id": 1,
"name": "Manager",
"roleType": "FIRM ADMIN",
"numberOfUsers": 19,
"status" : 1
"startDate": "2016-05-05T18:30:00.000Z",
"expireDate": "2016-06-05T18:30:00.000Z",
"isDeleted": 1,
"createdOn": "2016-06-08T09:24:16.000Z",
"createdBy": "Prime Prime",
"editedOn": "2016-06-30T04:33:14.000Z",
"editedBy" : "Prime Prime"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get Role Details

This API gets role details.

**GET** `https://baseurl/v1/admin/roles/:id`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/admin/roles/168
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The Role ID. |
| name | String | Name of the Role. |
| roleTypeId | String | Role type id. |
| roleTypeName | String | Role type name. |
| status | Boolean | Status of the Role |
| startDate | Date | Role start date into application. |
| expireDate | Date | Role expire date into application. |
| isDeleted | Boolean | Role exist or not into the system. |
| createdOn | Date | Role creation date into application. |
| createdBy | Number | Full Name of user who created the Role into the system. |
| editedOn | Date | Role edited date into application. |
| editedBy | String | Full Name of user who edited the Role details into the system. |
| privileges | JSON[] | List of Privileges details associated with Role. |

```http
HTTP/1.1 200 OK
{
"id": 168,
"name": "Sub Advisor",
"roleTypeId": "2",
"roleType": "TEAM ADMIN",
"status" : 1,
"startDate": "2016-05-05T18:30:00.000Z",
"expireDate": "2016-06-05T18:30:00.000Z",
"isDeleted": 1,
"createdOn": "2016-06-13T09:02:20.000Z",
"createdBy": "Prime Prime",
"editedOn": "2016-06-22T09:34:20.000Z",
"editedBy": "Prime Prime",
"privileges": [
{
"id": 59,
"name": "Roles",
"code": "ROLES",
"category": "Admin",
"type": 0,
"canAdd": 1,
"addDisabled": 0,
"canUpdate": 1,
"updateDisabled": 0,
"canDelete": 1,
"deleteDisabled": 0,
"canRead": 1,
"readDisabled": "0",
"isDeleted": 0
},
{
"id": 57,
"name": "Teams",
"code": "TEAMS",
"category": "Admin",
"type": 0,
"canAdd": 0,
"addDisabled": 0,
"canUpdate": 0,
"updateDisabled": 0,
"canDelete": 0,
"deleteDisabled": 0,
"canRead": 0,
"readDisabled": "0",
"isDeleted": 0
}]
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |
| Not_Found | When role does not exist. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```

```http
HTTP/1.1 404 Not_Found
{
"message": "Role does not exist"
}
```


## Get Role Types List

This API gets role type list.

**GET** `https://baseurl/v1/admin/roles/roleType`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/admin/roles/roleType
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The Role type ID. |
| roleTypeName | String | Role type name. |
| bitValue | Number | Role type bit value. |

```http
HTTP/1.1 200 OK
[
{
"id": 1,
"roleType": "FIRM ADMIN",
"bitValue": 1
},
{
"id": 2,
"roleType": "TEAM ADMIN",
"bitValue": 2
},
{
"id": 3,
"roleType": "USER",
"bitValue": 4
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```


## Get Role Users

This API gets role users.

**GET** `https://baseurl/v1/admin/roles/:id/users`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/admin/roles/168/users
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The User ID. |
| name | String | Full Name of the User. |
| status | Boolean | Status of the User. |
| email | String | User email id. |
| startDate | Date | Date from which user will be active in system. |
| expireDate | Date | Date after which user will be inactive in system. |
| isDeleted | Boolean | User exist or not into the system. |
| createdOn | Date | User Role creation date into application. |
| createdBy | String | Full Name of user who created the User Role into the system. |
| editedOn | Date | User Role edited date into application. |
| editedBy | String | Full Name of user who edited the User Role details into the system. |

```http
HTTP/1.1 200 OK
[
{
"id": 34,
"name": "RajneeshFinalTest ",
"status": 1,
"email": "param1@gmail.com",
"startDate": "2015-12-30T18:30:00.000Z",
"expireDate": "2050-12-30T18:30:00.000Z",
"isDeleted": 0,
"createdOn": "2016-07-07T01:17:52.000Z",
"createdBy": 370925,
"editedOn": "2016-07-09T02:00:47.000Z",
"editedBy": 370925
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |
| Not_Found | When role does not exist. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```

```http
HTTP/1.1 404 Not_Found
{
"message": "Role does not exist"
}
```


## Get Roles Summary

This API gets role summary.

**GET** `https://baseurl/v1/admin/roles/summary`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/admin/roles/summary
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| totalRoles | Number | Total roles. |
| newRoles | Number | New Roles. |
| existingRoles | Number | Existing Roles. |

```http
HTTP/1.1 200 OK
{
"totalRoles": 139,
"newRoles": 116,
"existingRoles": 23
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get Roles

This API gets role list.

**GET** `https://baseurl/v1/admin/roles?search={NAME/ID}`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/admin/roles
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The Role ID. |
| name | String | Name of the Role. |
| roleType | String | Name of the Role Type. |
| numberOfUsers | Number | Number of Users associated with Role. |
| status | Boolean | Status of the Role |
| startDate | Date | Role start date into application. |
| expireDate | Date | Role expire date into application. |
| isDeleted | Boolean | Role exist or not into the system. |
| createdOn | Date | Role creation date into application. |
| createdBy | Number | Full Name of user who created the Role into the system. |
| editedOn | Date | Role edited date into application. |
| editedBy | Number | Full Name of user who edited the Role details into the system. |

```http
HTTP/1.1 200 OK
[
{
"id": 1,
"name": "Manager",
"roleType": "FIRM ADMIN",
"numberOfUsers": 19,
"status" : 1
"startDate": "2016-05-05T18:30:00.000Z",
"expireDate": "2016-06-05T18:30:00.000Z",
"isDeleted": 1,
"createdOn": "2016-06-08T09:24:16.000Z",
"createdBy": "Prime Prime",
"editedOn": "2016-06-30T04:33:14.000Z",
"editedBy" : "Prime Prime"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Reassign Role

This API Reassign Role.

**POST** `https://baseurl/v1/admin/roles/action/reassignRole`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/admin/roles/action/reassignRole
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| oldId | number | The old roleId. |
| newId | number | The New roleId. |

```json
{
"oldId": 1,
"newId": 167
}
```

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| message | String | Role reassign message. |

```http
HTTP/1.1 200 OK
{
"message": "Role reassigned successfully"
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |
| Bad_Request | When missing required parameters. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```

```http
HTTP/1.1 400 Bad_Request
{
"message": "Missing required parameters"
}
```


## Search Roles

This API search role.

**GET** `https://baseurl/v1/admin/roles?search={id/name}`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/admin/roles?search=1
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The Role ID. |
| name | String | Name of the Role. |
| roleType | String | Name of the Role Type. |
| numberOfUsers | Number | Number of Users associated with Role. |
| status | Boolean | Status of the Role |
| startDate | Date | Role start date into application. |
| expireDate | Date | Role expire date into application. |
| isDeleted | Boolean | Role exist or not into the system. |
| createdOn | Date | Role creation date into application. |
| createdBy | Number | Full Name of user who created the Role into the system. |
| editedOn | Date | Role edited date into application. |
| editedBy | Number | Full Name of user who edited the Role details into the system. |

```http
HTTP/1.1 200 OK
[
{
"id": 1,
"name": "Manager",
"roleType": "FIRM ADMIN",
"numberOfUsers": 19,
"status" : 1
"startDate": "2016-05-05T18:30:00.000Z",
"expireDate": "2016-06-05T18:30:00.000Z",
"isDeleted": 0,
"createdOn": "2016-06-08T09:24:16.000Z",
"createdBy": "Prime Prime",
"editedOn": "2016-06-30T04:33:14.000Z",
"editedBy" : "Prime Prime"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Update Role

This API Update Role.

**PUT** `https://baseurl/v1/admin/roles/:id`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/admin/roles/1
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| name | String | Full Name of the Role. |
| roleTypeId | String | RoleType id. |
| privileges | String[] | Privileges list. |

```json
{
"name": "Rep Manager",
"roleTypeId": 1,
"startDate": "01/22/2016",
"expireDate": "12/25/2016",
"privileges": [
{
"id": 67,
"canAdd": true,
"canUpdate": false,
"canDelete": true,
"canRead": false,
"isDeleted": 0
}
]
}
```

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The Role ID. |
| name | String | Name of the Role. |
| roleTypeId | number | RoleType id |
| roleType | String | RoleType name. |
| status | Boolean | Status of the Role |
| startDate | Date | Role start date into application. |
| expireDate | Date | Role expire date into application. |
| isDeleted | Boolean | Role exist or not into the system. |
| createdOn | Date | Role creation date into application. |
| createdBy | Number | Full Name of user who created the Role into the system. |
| editedOn | Date | Role edited date into application. |
| editedBy | Number | Full Name of user who edited the Role details into the system. |
| privileges | String[] | Privileges list. |

```http
HTTP/1.1 200 OK
{
"id": 1,
"name": "Madan sinha",
"roleTypeId": "1",
"roleType": "FIRM ADMIN",
"status" : 1,
"isDeleted": 1,
"createdOn": "2016-06-08T09:24:16.000Z",
"createdBy": "Prime Prime",
"editedOn": "2016-06-30T04:33:14.000Z",
"editedBy" : "Prime Prime",
"privileges": [
{
"id": 57,
"name": "Teams",
"code": "TEAMS",
"category": "Security",
"canAdd": true,
"canUpdate": false,
"canDelete": true,
"canRead": false,
"isDeleted": 0,
"type": "Record"
}
]
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |
| Bad_Request | When missing required parameters. |
| Unprocessable_Entity | When role already exist with same name. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```

```http
HTTP/1.1 400 Bad_Request
{
"message": "Missing required parameters"
}
```

```http
HTTP/1.1 422 Unprocessable_Entity
{
"message": "Role already exist with same name"
}
```


---

# Teams


## Add Team

This API Adds Team.

**POST** `https://baseurl/v1/admin/teams`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/admin/teams
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| name | String | Name of the Team. |
| portfolioAccess | number | Portfolio Access - 1/0. |
| modelAccess | number | Model Access - 1/0. |
| status | Boolean | Team status - 1/0. |

```json
{
"name": "newest team1",
"portfolioAccess": 1,
"modelAccess": 1,
"status": 1
}
```

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The Team Id. |
| name | String | Name of the Team. |
| portfolioAccess | Number | Portfolio Access - 1/0. |
| modelAccess | Number | Model Access - 1/0 |
| status | Boolean | Team status - 1/0. |
| numberOfUsers | Number | Number of Users associated with Team. |
| numberOfModels | Number | Number of Models associated with Team. |
| numberOfPortfolios | Number | Number of Portfolios associated with Team. |
| numberOfAdvisors | Number | Number of Advisors associated with Team. |
| isDeleted | Boolean | Team exist or not into the system. |
| createdOn | Date | Team creation date into application. |
| createdBy | Number | Full Name of user who created the Team into the system. |
| editedOn | Date | Team edited date into application. |
| editedBy | Number | Full Name of user who edited the Team details into the system. |

```http
HTTP/1.1 201 OK
[
{
"id": 1,
"name": "paxcel team",
"portfolioAccess": 1,
"modelAccess": 1,
"status": 0,
"numberOfUsers": 16,
"numberOfModels": 0,
"numberOfPortfolios": 1,
"numberOfAdvisors": 0,
"isDeleted": 0,
"createdOn": "2016-06-17T05:57:22.000Z",
"createdBy": "Prime Prime",
"editedOn": "2016-07-06T10:40:45.000Z",
"editedBy": "Prime Prime"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |
| Bad_Request | When without request data. |
| Unprocessable_Entity | When team already exist with same name. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```

```http
HTTP/1.1 400 Bad_Request
{
"message": "Bad Request: Verify request data"
}
```

```http
HTTP/1.1 422 Unprocessable_Entity
{
"message": "Team already exist with same name"
}
```


## Adds a user to a team

This API adds a user to a Team.

**POST** `https://baseurl/v1/admin/teams/:id/users`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/admin/teams/1/users
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```


## Assign Advisors to Team

This API Assigns Advisors to Team.

**POST** `https://baseurl/v1/admin/teams/:id/advisors`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/admin/teams/1/advisors
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| advisorIds | number[] | Advisor Ids. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| message | String | Team Assign message. |

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |
| Bad_Request | When missing required parameters. |
| Internal_Server_Error | Internal Server Error. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```

```http
HTTP/1.1 400 Bad_Request
{
"message": "Missing required parameters"
}
```

```http
HTTP/1.1 500 Internal_Server_Error
{
"message": ""Your request cannot be processed at the moment, please verify parameters"
}
```


## Assign Models to team

This API Assigns Models to team.

**POST** `https://baseurl/v1/admin/teams/:id/models`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/admin/teams/12/models
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| modelIds | number[] | Model Ids. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| message | String | Team Assign message. |

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |
| Bad_Request | When missing required parameters. |
| Internal_Server_Error | Internal Server Error. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```

```http
HTTP/1.1 400 Bad_Request
{
"message": "Missing required parameters"
}
```

```http
HTTP/1.1 500 Internal_Server_Error
{
"message": ""Your request cannot be processed at the moment, please verify parameters"
}
```


## Assign Portfolios to Team

This API Assigns Portfolios to team.

**POST** `https://baseurl/v1/admin/teams/:id/portfolios`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/admin/teams/1/portfolios
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| portfolioIds | number[] | Portfolio Ids. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| message | String | Team Assign message. |

```http
HTTP/1.1 200 OK
{
"message": "Portfolio assigned to team successfully"
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |
| Bad_Request | When missing required parameters. |
| Internal_Server_Error | Internal Server Error. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```

```http
HTTP/1.1 400 Bad_Request
{
"message": "Missing required parameters"
}
```

```http
HTTP/1.1 500 Internal_Server_Error
{
"message": ""Your request cannot be processed at the moment, please verify parameters"
}
```


## Assign Security Set to team

This API Assigns Security Set to team.

**POST** `https://baseurl/v1/admin/teams/:id/securitySet`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/admin/teams/12/securitySet
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| securitySetIds | number[] | Security Set Ids. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| message | String | Team Assign message. |

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |
| Bad_Request | When missing required parameters. |
| Internal_Server_Error | Internal Server Error. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```

```http
HTTP/1.1 400 Bad_Request
{
"message": "Missing required parameters"
}
```

```http
HTTP/1.1 500 Internal_Server_Error
{
"message": ""Your request cannot be processed at the moment, please verify parameters"
}
```


## Assign Sub Model to team

This API Assigns Sub Model to team.

**POST** `https://baseurl/v1/admin/teams/:id/subModel`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/admin/teams/12/subModel
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| subModels | JSON | SubModels . |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| message | String | Team Assign message. |

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |
| Bad_Request | When missing required parameters. |
| Internal_Server_Error | Internal Server Error. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```

```http
HTTP/1.1 400 Bad_Request
{
"message": "Missing required parameters"
}
```

```http
HTTP/1.1 500 Internal_Server_Error
{
"message": ""Your request cannot be processed at the moment, please verify parameters"
}
```


## Assign Team to Security Set

This API Assigns team to Security Set.

**POST** `https://baseurl/v1/admin/teams/:id/teams`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/admin/teams/12/teams
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| teamIds | number[] | Team Ids. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| message | String | Team Assign message. |

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |
| Bad_Request | When missing required parameters. |
| Internal_Server_Error | Internal Server Error. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```

```http
HTTP/1.1 400 Bad_Request
{
"message": "Missing required parameters"
}
```

```http
HTTP/1.1 500 Internal_Server_Error
{
"message": ""Your request cannot be processed at the moment, please verify parameters"
}
```


## Assign Users to Team

This API Assigns Users to Team.

**POST** `https://baseurl/v1/admin/teams/:id/users`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/admin/teams/2/users
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| userIds | number[] | List of User Ids. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| message | String | Message. |

```http
HTTP/1.1 200 OK
{
"message": "User assigned to team successfully"
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |
| Bad_Request | When missing required parameters. |
| Internal_Server_Error | Internal Server Error. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```

```http
HTTP/1.1 400 Bad_Request
{
"message": "Missing required parameters"
}
```

```http
HTTP/1.1 500 Internal_Server_Error
{
"message": ""Your request cannot be processed at the moment, please verify parameters"
}
```


## Delete Team

This API Deletes Team.

**DELETE** `https://baseurl/v1/admin/teams/:id`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/admin/teams/22
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| message | String | Team delete message. |

```http
HTTP/1.1 200 OK
{
"message": "Team deleted successfully"
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |
| Not_Found | When team does not exist. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```

```http
HTTP/1.1 404 Not_Found
{
"message": "Team does not exist"
}
```


## Get All Active Teams

This API will return list of teams by status (Active or All).

**GET** `https://baseurl/v1/admin/teams?isActive{1/true}`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/admin/teams?isActive=true
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The Team Id. |
| name | String | Name of the Team. |
| portfolioAccess | Number | Portfolio Access - 1/0. |
| modelAccess | Number | Model Access - 1/0 |
| status | Boolean | Team status - 1/0. |
| numberOfUsers | Number | Number of Users associated with Team. |
| numberOfModels | Number | Number of Models associated with Team. |
| numberOfPortfolios | Number | Number of Portfolios associated with Team. |
| numberOfAdvisors | Number | Number of Advisors associated with Team. |
| isDeleted | Boolean | Team exist or not into the system. |
| createdOn | Date | Team creation date into application. |
| createdBy | Number | Full Name of user who created the team into the system. |
| editedOn | Date | Team edited date into application. |
| editedBy | Number | Full Name of user who edited the Team into the system. |

```http
HTTP/1.1 200 OK
[
{
"id": 1,
"name": "paxcel team",
"portfolioAccess": 1,
"modelAccess": 1,
"status":1,
"numberOfUsers": 16,
"numberOfModels": 0,
"numberOfPortfolios": 1,
"numberOfAdvisors": 0,
"isDeleted": 0,
"createdOn": "2016-06-17T05:57:22.000Z",
"createdBy": "Prime Prime",
"editedOn": "2016-07-06T10:40:45.000Z",
"editedBy": "Prime Prime"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get All Teams By Search

This API gets All Team List.

**GET** `https://baseurl/v1/admin/teams`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/admin/teams/names?search=?
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The Team Id. |
| name | String | Name of the Team. |

```http
HTTP/1.1 200 OK
[
{
"id": 1,
"name": "paxcel team"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get All Teams

This API gets All Team List.

**GET** `https://baseurl/v1/admin/teams`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/admin/teams
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The Team Id. |
| name | String | Name of the Team. |
| portfolioAccess | Number | Portfolio Access - 1/0. |
| modelAccess | Number | Model Access - 1/0 |
| status | Boolean | Team status - 1/0. |
| numberOfUsers | Number | Number of Users associated with Team. |
| numberOfModels | Number | Number of Models associated with Team. |
| numberOfPortfolios | Number | Number of Portfolios associated with Team. |
| numberOfAdvisors | Number | Number of Advisors associated with Team. |
| isDeleted | Boolean | Team exist or not into the system. |
| createdOn | Date | Team creation date into application. |
| createdBy | Number | Full Name of user who created the team into the system. |
| editedOn | Date | Team edited date into application. |
| editedBy | Number | Full Name of user who edited the Team into the system. |
| canBeDeleted | Boolean | Team can be deleted or not. |

```http
HTTP/1.1 200 OK
[
{
"id": 1,
"name": "paxcel team",
"portfolioAccess": 1,
"modelAccess": 1,
"status":1,
"numberOfUsers": 16,
"numberOfModels": 0,
"numberOfPortfolios": 1,
"numberOfAdvisors": 0,
"isDeleted": 0,
"createdOn": "2016-06-17T05:57:22.000Z",
"createdBy": "Prime Prime",
"editedOn": "2016-07-06T10:40:45.000Z",
"editedBy": "Prime Prime",
"canBeDeleted": 0
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get Portfolio List where team is set as primary

This API gets Portfolio List where team is set as primary.

**GET** `https://baseurl/v1/admin/teams/:id/primaryPortfolios`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/admin/teams/1/primaryPortfolios
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | Portfolio Id |
| name | String | Portfolio name |
| createdOn | Date | Team portfolio association creation date into application. |
| createdBy | Number | Full Name of user who created the team portfolio association into the system. |
| editedOn | Date | Team portfolio association edited date into application. |
| editedBy | Number | Full Name of user who edited the team portfolio association into the system. |

```http
HTTP/1.1 200 OK
[
{
"id": 3,
"name": "Test Portfolio 3",
"createdOn": "2016-08-31T09:45:26.000Z",
"editedOn": "2016-08-31T09:45:26.000Z",
"createdBy": "prime@tgi.com",
"editedBy": "prime@tgi.com"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |
| Not_Found | When Team does not exist. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```

```http
HTTP/1.1 404 Not_Found
{
"message": "Team does not exist"
}
```


## Get Team Advisors

This API gets Team Advisors.

**GET** `https://baseurl/v1/admin/teams/:id/advisors`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/admin/teams/1/advisors
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | Advisor id. |
| name | String | Advisor Name. |
| externalId | String | Advisor Rep ID. |
| advisorNumber | String | Advisor Rep Number. |
| isDeleted | Boolean | Advisor exist or not into system. |
| createdOn | Date | Team/Advisor relationship creation date into application. |
| createdBy | Number | Full Name of user who created the Team/Advisor relationship into the system. |
| editedOn | Date | Team/Advisor relationship edited date. |
| editedBy | Number | Full Name of user who last edited the Team/Advisor relationship. |

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```


## Get Team Details

This API gets Team detail.

**GET** `https://baseurl/v1/admin/teams/:id`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/admin/teams/1
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| totalTeams | Number | Total teams. |
| existingTeams | Number | Existing teams. |
| newTeams | Number | New Teams |

```http
HTTP/1.1 200 OK
{
"totalTeams": 50,
"existingTeams": 0,
"newTeams": 50
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |
| Not_Found | When Team does not exist. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```

```http
HTTP/1.1 404 Not_Found
{
"message": "Team does not exist"
}
```


## Get Team Models

This API gets Team Models.

**GET** `https://baseurl/v1/admin/teams/:id/models`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/admin/teams/1/models
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | Model id. |
| name | String | Model Name. |
| isDeleted | Boolean | Model exist or not into system. |
| createdOn | Date | Team creation date into application. |
| createdBy | Number | Full Name of user who created the Team into the system. |
| editedOn | Date | Team edited date into application. |
| editedBy | Number | Full Name of user who edited the Team details into the system. |

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```


## Get Team security set

This API gets Team security set.

**GET** `https://baseurl/v1/admin/teams/:id/securitySet`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/admin/teams/1/securitySet
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | Model id. |
| name | String | Model Name. |
| isDeleted | Boolean | Model exist or not into system. |
| createdOn | Date | Team creation date into application. |
| createdBy | Number | Full Name of user who created the Team into the system. |
| editedOn | Date | Team edited date into application. |
| editedBy | Number | Full Name of user who edited the Team details into the system. |

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```


## Get Team Portfolios

This API gets Team Portfolios.

**GET** `https://baseurl/v1/admin/teams/:id/portfolios`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/admin/teams/1/portfolios
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | Portfolio id. |
| name | String | Portfolio Name. |
| isDeleted | Boolean | Portfolio exist or not into system. |
| createdOn | Date | Team creation date into application. |
| createdBy | Number | Full Name of user who created the Team into the system. |
| editedOn | Date | Team edited date into application. |
| editedBy | Number | Full Name of user who edited the Team details into the system. |

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```


## Get Team sub model

This API gets Team sub model.

**GET** `https://baseurl/v1/admin/teams/:id/subModel`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/admin/teams/1/subModel
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | Model id. |
| name | String | Model Name. |
| isDeleted | Boolean | Model exist or not into system. |
| access | Number | Sub Model access. |
| relatedType | String | Model type. |
| createdOn | Date | Team creation date into application. |
| createdBy | Number | Full Name of user who created the Team into the system. |
| editedOn | Date | Team edited date into application. |
| editedBy | Number | Full Name of user who edited the Team details into the system. |

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```


## Get Team Users

This API gets Team Users.

**GET** `https://baseurl/v1/admin/teams/:id/users`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/admin/teams/1/users
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | User id. |
| firstName | String | User FirstName. |
| lastName | String | User LastName. |
| createdOn | Date | Team creation date into application. |
| createdBy | Number | Full Name of user who created the Team into the system. |
| editedOn | Date | Team edited date into application. |
| editedBy | Number | Full Name of user who edited the Team details into the system. |

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```


## Get Teams Summary

This API gets team summary.

**GET** `https://baseurl/v1/admin/teams/summary`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/admin/teams/summary
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The custodian ID. |
| name | String | Name of the Custodian. |
| code | String | Code of the Custodian. |
| accountNumber | String | Account number of the Custodian. |
| isDeleted | Boolean | Custodian exist or not into the system. |
| createdOn | Date | Custodian creation date into application. |
| createdBy | Number | Full Name of user who created the Custodian into the system. |
| editedOn | Date | Custodian edited date into application. |
| editedBy | Number | Full Name of user who edited the Custodian details into the system. |

```http
HTTP/1.1 200 OK
[
{
"id": 123467,
"name": "new custodian4",
"code": "NEWCUST4",
"accountNumber": null,
"isDeleted": 0,
"createdOn": "2016-07-18T11:55:08.000Z",
"createdBy": "Prime Prime",
"editedOn": "2016-07-18T11:55:08.000Z",
"editedBy": "Prime Prime"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Re-Assign team

This API Re-Assigns Users from one team to another team.

**POST** `https://baseurl/v1/admin/teams/action/reassignTeam`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/admin/teams/action/reassignTeam
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| oldId | number | Old Team Id. |
| newId | number | New Team Id. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| message | String | Team Re-Assign message. |

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |
| Bad_Request | When missing required parameters. |
| Internal_Server_Error | Internal Server Error. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```

```http
HTTP/1.1 400 Bad_Request
{
"message": "Missing required parameters"
}
```

```http
HTTP/1.1 500 Internal_Server_Error
{
"message": ""Your request cannot be processed at the moment, please verify parameters"
}
```


## Removes a user to a team

This API removes a user to a Team.

**DELETE** `https://baseurl/v1/admin/teams/:id/users`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/admin/teams/1/users
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```


## Search Teams

This API search Team.

**GET** `https://baseurl/v1/admin/teams?search={id/name}`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/admin/teams?search=1
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The Team Id. |
| name | String | Name of the Team. |
| portfolioAccess | Number | Portfolio Access - 1/0. |
| modelAccess | Number | Model Access - 1/0 |
| status | Boolean | Team status - 1/0. |
| numberOfUsers | Number | Number of Users associated with Team. |
| numberOfModels | Number | Number of Models associated with Team. |
| numberOfPortfolios | Number | Number of Portfolios associated with Team. |
| numberOfAdvisors | Number | Number of Advisors associated with Team. |
| isDeleted | Boolean | Team exist or not into the system. |
| createdOn | Date | Team creation date into application. |
| createdBy | Number | Full Name of user who created the team into the system. |
| editedOn | Date | Team edited date into application. |
| editedBy | Number | Full Name of user who edited the Team into the system. |

```http
HTTP/1.1 200 OK
[
{
"id": 1,
"name": "paxcel team",
"portfolioAccess": 1,
"modelAccess": 1,
"status":1,
"numberOfUsers": 16,
"numberOfModels": 0,
"numberOfPortfolios": 1,
"numberOfAdvisors": 0,
"isDeleted": 0,
"createdOn": "2016-06-17T05:57:22.000Z",
"createdBy": "Prime Prime",
"editedOn": "2016-07-06T10:40:45.000Z",
"editedBy": "Prime Prime"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Set Primary Team

This API sets the selected team as the primary team for the selected portfolios.

**POST** `https://baseurl/v1/admin/teams/setPrimaryTeam`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/admin/teams/setPrimaryTeam
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| isPrimaryList | String | List of portfolio ids that the passed teamId will be set as the primary team. |
| defaultList | String | List of portfolio ids that the 'Default Team' will be set as the primary team. |
| teamId | number | The Team Id. |

```json
{
"teamId": 4,
"isPrimaryList": "818,825",
"defaultList": null
}
```

```http
HTTP/1.1 200 OK
[]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |
| Bad_Request | When without request data. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```

```http
HTTP/1.1 400 Bad_Request
{
"message": "Bad Request: Verify request data"
}
```


## Update Team

This API Update Team.

**PUT** `https://baseurl/v1/admin/teams/:id`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/admin/teams/1
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| name | String | Name of the Team. |
| portfolioAccess | number | Portfolio Access - 1/0. |
| modelAccess | number | Model Access - 1/0 |
| status | Boolean | Team status - 1/0. |

```json
{
"name": "newest team1",
"portfolioAccess": 1,
"modelAccess": 1,
"status": 1
}
```

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The Team Id. |
| name | String | Name of the Team. |
| portfolioAccess | Number | Portfolio Access - 1/0. |
| modelAccess | Number | Model Access - 1/0 |
| status | Boolean | Team status - 1/0. |
| numberOfUsers | Number | Number of Users associated with Team. |
| numberOfModels | Number | Number of Models associated with Team. |
| numberOfPortfolios | Number | Number of Portfolios associated with Team. |
| numberOfAdvisors | Number | Number of Advisors associated with Team. |
| isDeleted | Boolean | Team exist or not into the system. |
| createdOn | Date | Team creation date into application. |
| createdBy | Number | Full Name of user who created the Team into the system. |
| editedOn | Date | Team edited date into application. |
| editedBy | Number | Full Name of user who edited the Team details into the system. |

```http
HTTP/1.1 200 OK
[
{
"id": 1,
"name": "paxcel team",
"portfolioAccess": 1,
"modelAccess": 1,
"status":1,
"numberOfUsers": 16,
"numberOfModels": 0,
"numberOfPortfolios": 1,
"numberOfAdvisors": 0,
"isDeleted": 0,
"createdOn": "2016-06-17T05:57:22.000Z",
"createdBy": "Prime Prime",
"editedOn": "2016-07-06T10:40:45.000Z",
"editedBy": "Prime Prime"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |
| Bad_Request | When without request data. |
| Unprocessable_Entity | When team already exist with same name. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```

```http
HTTP/1.1 400 Bad_Request
{
"message": "Bad Request: Verify request data"
}
```

```http
HTTP/1.1 422 Unprocessable_Entity
{
"message": "Team already exist with same name"
}
```


---

# Custodians


## Delete Custodian

This API deletes (soft delete) custodian in application.

**DELETE** `https://baseurl/v1/admin/custodians/:id`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/admin/custodians/324578
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| message | String | Custodian deleted message. |

```http
HTTP/1.1 200 OK
{
"message": "Custodian deleted successfully"
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |
| Not_Found | When custodian does not exist or already deleted. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```

```http
HTTP/1.1 404 Not_Found
{
"message": "Custodian does not exist or already deleted"
}
```


## Get All Custodians

This API gets custodian list.

**GET** `https://baseurl/v1/admin/custodians`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/admin/custodians
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The custodian ID. |
| externalId | Number | The custodian orion connect external id. |
| name | String | Name of the Custodian. |
| code | String | Code of the Custodian. |
| accountNumber | String | Account number of the Custodian. |
| isDeleted | Boolean | Custodian exist or not into the system. |
| createdOn | Date | Custodian creation date into application. |
| createdBy | Number | Full Name of user who created the Custodian into the system. |
| editedOn | Date | Custodian edited date into application. |
| editedBy | Number | Full Name of user who edited the Custodian details into the system. |

```http
HTTP/1.1 200 OK
[
{
"id": 123467,
"externalId": 345234,
"name": "new custodian4",
"code": "CUST4",
"accountNumber": 123456,
"isDeleted": 0,
"createdOn": "2016-07-18T11:55:08.000Z",
"createdBy": "Prime Prime",
"editedOn": "2016-07-18T11:55:08.000Z",
"editedBy": "Prime Prime"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get Custodians Accounts

This API gets custodian accounts list.

**GET** `https://baseurl/v1/admin/custodians/:id/accounts`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/admin/custodians/1/accounts
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The account ID. |
| accountNumber | String | Account Number of custodian |
| name | String | Name of Account |
| portfolioId | Number | Portfolio Id associate with account |
| isDeleted | Boolean | Account exist or not into the system. |
| createdOn | Date | Account creation date into application. |
| createdBy | Number | Full Name of user who created the Account into the system. |
| editedOn | Date | Account edited date into application. |
| editedBy | Number | Full Name of user who edited the Account details into the system. |

```http
HTTP/1.1 200 OK
[
{
"id": "1",
"accountNumber": "3423648723",
"name": "sadasdasd",
"portfolioId": 1,
"isDeleted": 0,
"createdOn": "2016-07-18T11:55:08.000Z",
"createdBy": "Prime Prime",
"editedOn": "2016-07-18T11:55:08.000Z",
"editedBy": "Prime Prime"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get Custodians Detail

This API gets custodian list.

**GET** `https://baseurl/v1/admin/custodians/:id`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/admin/custodians/1
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The custodian ID. |
| name | String | Name of the Custodian. |
| externalId | Number | The custodian orion connect external id. |
| code | String | Code of the Custodian. |
| accountNumber | String | Account number of the Custodian. |
| fixBankId | String | FIX bank Id of the Custodian. |
| tradeExecutionsTypeId | Number | Trade execution type for all security type. |
| tradeExecutions | Array | Trade execution type for security type. |
| isDeleted | Boolean | Custodian exist or not into the system. |
| createdOn | Date | Custodian creation date into application. |
| createdBy | Number | Full Name of user who created the Custodian into the system. |
| editedOn | Date | Custodian edited date into application. |
| editedBy | Number | Full Name of user who edited the Custodian details into the system. |

```http
HTTP/1.1 200 OK
{
"id": 123466,
"name": "new custodian",
"externalId": 34562,
"code": "CUST",
"accountNumber": 123456,
"tradeExecutions": [
{
"securityTypeId": 1,
"securityTypeName": "MUTUAL FUND",
"tradeExecutionTypeId": 1,
"tradeExecutionTypeName": "FIX DIRECT"
}
],
"isDeleted": 0,
"createdOn": "2016-07-18T11:29:08.000Z",
"createdBy": "Prime Prime",
"editedOn": "2016-07-18T11:29:08.000Z",
"editedBy": "Prime Prime"
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get Custodians Summary

This API gets custodian summary.

**GET** `https://baseurl/v1/admin/custodians/summary`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/admin/custodians/summary
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| totalCustodians | Number | Total custodians. |
| activeCustodians | Number | Active Custodians. |

```http
HTTP/1.1 200 OK
{
"totalCustodians": 23,
"activeCustodians": 0
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get Custodians Tag Info

This API gets custodian tag list.

**GET** `https://baseurl/v1/admin/custodians/getCustodianAlgoTagInfo/:id`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/admin/custodians/getCustodianAlgoTagInfo/1
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The custodian ID. |
| algoName | String | Name of the Algorithm. |
| tag | String | Name of the Tag. |
| rangeFromValue | number | From vaue of algorithm range. |
| rangeToValue | number | To vaue of algorithm range. |

```http
HTTP/1.1 200 OK
{
"id": 123,
"custodianId": "123466"
"algoName": "TWAP",
"tag": "A",
"rangeFromValue": "10",
"rangeToValue": 100
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get Custodians Tag Info

This API save custodian algo tag detail.

**POST** `https://baseurl/v1/admin/custodians/saveCustodianAlgoTagInfo/:id`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/admin/custodians/saveCustodianAlgoTagInfo
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

```json
{
"id": 123,
"custodianId": "123466"
"algoName": "TWAP",
"tag": "A",
"rangeFromValue": "10",
"rangeToValue": 100
}
```

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The custodian ID. |
| algoName | String | Name of the Algorithm. |
| tag | String | Name of the Tag. |
| rangeFromValue | number | From vaue of algorithm range. |
| rangeToValue | number | To vaue of algorithm range. |

```http
HTTP/1.1 201 OK
{
"message": "Custodian algo tag info successfully saved"
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |
| Bad_Request | When missing required parameters. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```

```http
HTTP/1.1 400 Bad_Request
{
"message": "Missing required parameters"
}
```


## Get Fix Execution Type Custodians

Security id is optional in this api. If security id is available then return only those custodian whose fix execution type is assigned to particualt security type of given security

**GET** `https://baseurl/v1/admin/custodians/fixType?securityId=1`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/admin/custodians/fixType?securityId=1
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The custodian ID. |
| externalId | Number | The custodian orion connect external id. |
| name | String | Name of the Custodian. |
| code | String | Code of the Custodian. |
| accountNumber | String | Account number of the Custodian. |
| isDeleted | Boolean | Custodian exist or not into the system. |
| createdOn | Date | Custodian creation date into application. |
| createdBy | Number | Full Name of user who created the Custodian into the system. |
| editedOn | Date | Custodian edited date into application. |
| editedBy | Number | Full Name of user who edited the Custodian details into the system. |

```http
HTTP/1.1 200 OK
[
{
"id": 123467,
"externalId": 143546,
"name": "new custodian4",
"code": "CUST",
"accountNumber": 123456,
"isDeleted": 0,
"createdOn": "2016-07-18T11:55:08.000Z",
"createdBy": "Prime Prime",
"editedOn": "2016-07-18T11:55:08.000Z",
"editedBy": "Prime Prime"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Search Custodians

This API search custodian.

**GET** `https://baseurl/v1/admin/custodians?search={id/name}`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/admin/custodians?search=123467
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The custodian ID. |
| externalId | Number | The custodian orion connect external id. |
| name | String | Name of the Custodian. |
| code | String | Code of the Custodian. |
| accountNumber | String | Account number of the Custodian. |
| isDeleted | Boolean | Custodian exist or not into the system. |
| createdOn | Date | Custodian creation date into application. |
| createdBy | Number | Full Name of user who created the Custodian into the system. |
| editedOn | Date | Custodian edited date into application. |
| editedBy | Number | Full Name of user who edited the Custodian details into the system. |

```http
HTTP/1.1 200 OK
[
{
"id": 123467,
"externalId": 143546,
"name": "new custodian4",
"code": "CUST",
"accountNumber": 123456,
"isDeleted": 0,
"createdOn": "2016-07-18T11:55:08.000Z",
"createdBy": "Prime Prime",
"editedOn": "2016-07-18T11:55:08.000Z",
"editedBy": "Prime Prime"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Update Custodian

This API Update Custodian.

**PUT** `https://baseurl/v1/admin/custodians/:id`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/admin/custodians/1
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| name | String | Full name of the User. |
| code | String | User email id. |
| accountNumber | String | Account number of the Custodian. |
| fixBankId | String | FIX bank Id of the Custodian. |
| tradeExecutionTypeId | Number | Trade execution type for all security type. |
| tradeExecutions | Array | Trade execution type for security type. |

```json
{
"name": "Gurdeep",
"code": "CUST3",
"accountNumber": "123456",
"tradeExecutionTypeId": 1,
"tradeExecutions": [
{
"securityTypeId": 1,
"tradeExecutionTypeId": 1
}
]
}
```

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The custodian ID. |
| name | String | Name of the Custodian. |
| externalId | Number | The custodian orion connect external id. |
| code | String | Code of the Custodian. |
| accountNumber | String | Account number of the Custodian. |
| defaultTradeExecutionsTypeId | Number | Trade execution type for all security type. |
| defaultTradeExecutionsTypeName | String | Trade execution type Name for all security type. |
| tradeExecutions | Array | Trade execution type for security type. |
| isDeleted | Boolean | Custodian exist or not into the system. |
| createdOn | Date | Custodian creation date into application. |
| createdBy | Number | Full Name of user who created the Custodian into the system. |
| editedOn | Date | Custodian edited date into application. |
| editedBy | Number | Full Name of user who edited the Custodian details into the system. |

```http
HTTP/1.1 200 OK
{
"id": 623466,
"name": "new custodian3",
"externalId:: 34562,
"code": "CUST3",
"accountNumber": 123456,
"tradeExecutions": [
{
"securityTypeId": 1,
"securityTypeName": "MUTUAL FUND",
"tradeExecutionTypeId": 1,
"tradeExecutionTypeName": "FIX DIRECT"
}
],
"isDeleted": 0,
"createdOn": "2016-07-19T09:09:37.000Z",
"createdBy": "Prime Prime",
"editedOn": "2016-07-19T09:09:37.000Z",
"editedBy": "Prime Prime",
"defaultTradeExecutionTypeId": 1,
"defaultTradeExecutionName": "FIX DIRECT"
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |
| Bad_Request | When without request data. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```

```http
HTTP/1.1 400 Bad_Request
{
"message": "Bad Request: Verify request data"
}
```


---

# Trades


## Approve Trade Orders

This API approve trade orders.

**PUT** `https://baseurl/v1/tradeorder/trades/action/setApprovalStatus/:approvalStatusId`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/tradeorder/trades/action/setApprovalStatus/1
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| approvalStatusId | number | : pass approvalStatus id in url |
| tradeIds | Number | :List of Trade order ids. |

```json
{
"tradeIds": [
11,
12
]
}
```

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| message | String | Success message. |

```http
HTTP/1.1 200 OK
[11,12]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```


## Count of Trade Order

This API gets trade count. isPending is oprion parameter. if you pass isPending=true then its return only pending trades count.

**GET** `https://baseurl/v1/tradeorder/trades/count?isPending=true`

**Permission:** `Count only those order whose portfolios assignied to his team`

```bash
curl -i http://baseurl/v1/tradeorder/trades/count
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| noOfTrades: | Number | Count of trades. |

```http
HTTP/1.1 200 OK
{
noOfTrades:200
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Delete All Trade Order

This API deletes all trade order (soft delete).

**DELETE** `https://baseurl/v1/tradeorder/trades/deleteAll`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/tradeorder/trades/deleteAll
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| message | String | Success message. |

```http
HTTP/1.1 200 OK
{
"message": "Trade deleted Successfully"
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```

```http
HTTP/1.1 422 Unprocessable_Entity
{
"message": " Trade does not exist or already deleted "
}
```


## Delete Trade Order Provided in list

This API deletes trade order provided in list(hard delete and save in deleted trades).

**PUT** `https://baseurl/v1/tradeorder/trades/action/delete`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/tradeorder/trades/action/delete
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

```json
{
"tradeIds": [
11,
12
]
}
```

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| message | String | Success message. |

```http
HTTP/1.1 200 OK
{
"message": "Trade deleted Successfully"
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```

```http
HTTP/1.1 422 Unprocessable_Entity
{
"message": " Trade does not exist or already deleted "
}
```


## Delete Trade Order

This API deletes Trade Order (soft delete).

**DELETE** `https://baseurl/v1/tradeorder/trades/:id`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/tradeorder/trades/1
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| message | String | Success message. |

```http
HTTP/1.1 200 OK
{
"message": "Trade deleted Successfully"
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```

```http
HTTP/1.1 422 Unprocessable_Entity
{
"message": " Trade does not exist or already deleted "
}
```


## Delete Zero Quantity Trade Order

This API deletes Trade Order with zero quantity (soft delete).

**PUT** `https://baseurl/v1/tradeorder/trades/action/deleteZeroQuantity`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/tradeorder/trades/action/deleteZeroQuantity
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| tradeIds | Number | :List of Trade order ids. Json is optional. Please dont pass json in case of enable all |

```json
{
"tradeIds": [
11,
12
]
}
```

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| message | String | Success message. |

```http
HTTP/1.1 200 OK
{
"message": "Trade deleted Successfully"
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```

```http
HTTP/1.1 422 Unprocessable_Entity
{
"message": " Trade does not exist or already deleted "
}
```


## disable Trade Orders

This API disables the trade orders.

**PUT** `https://baseurl/v1/tradeorder/trades/action/disable`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/tradeorder/trades/action/disable
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| tradeIds | Number | :List of Trade order ids. |

```json
Json is optional. Please dont pass json in case of disable all
{
"tradeIds" : [11,12]
}
```

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| message | String | Success message. |

```http
HTTP/1.1 200 OK
{
"message": "Trades disabled successfully"
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```


## Enable Trade Orders

This API enables trade orders.

**PUT** `https://baseurl/v1/tradeorder/trades/action/enable`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/tradeorder/trades/action/enable
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| tradeIds | Number | :List of Trade order ids. Json is optional. Please dont pass json in case of enable all |

```json
{
"tradeIds": [
11,
12
]
}
```

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| message | String | Success message. |

```http
HTTP/1.1 200 OK
{
"message": "Trades enabled successfully"
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```


## Get Account Actions

This API Get All Actions when user select account in quick trade .

**GET** `https://baseurl/v1/tradeorder/trades/accountActions`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/tradeorder/trades/accountActions
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | Action Id. |
| name | String | Action name |

```http
HTTP/1.1 200 OK
[{
"id": 10,
"name": "Buy",
},
{
"id": 10,
"name": "SellL",
},
{
"id": 10,
"name": "Liquidate",
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get All Filter Types

This API Get All Durations.

**GET** `https://baseurl/v1/tradeorder/trades/filterTypes`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/tradeorder/trades/filterTypes
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | Filter type Id. |
| name | String | Filter type name |
| filterType | String | Filter type |

```http
HTTP/1.1 200 OK
[{
"id": 1,
"name": "Trades on Hold",
"filterType": "TRADES_ON_HOLD"
},
{
"id": 2,
"name": "Trades Pending Approval",
"filterType": "TRADES_PENDING_APPROVAL"
}]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get All trade type

This API gets trade execution type list.

**GET** `https://baseurl/v1/tradeorder/trades/tradeExecutionType`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/tradeorder/trades/tradeExecutionType
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | String | The trade type Id. |
| name | String | Name of the Trade Type. |
| isDeleted | Boolean | Trade Type exist or not into the system. |
| createdOn | Date | Trade Type creation date into application. |
| createdBy | String | Full Name of user who created the Trade Type into the system. |
| editedOn | Date | Trade Type edited date into application. |
| editedBy | Number | Full Name of user who edited the Trade Type details into the system. |

```http
HTTP/1.1 200 OK
{
"id": 1,
"name": "FIX DIRECT",
"isDeleted": 0,
"createdOn": "2016-06-17T05:57:22.000Z",
"createdBy": 0,
"editedOn": "2016-06-17T05:57:25.000Z",
"editedBy": 0
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get All Trades

This API get all trades. portfolio id and isPending is optional. portfolio id work as filter for portfolio specific trades and isPending work for pending trades.

**GET** `https://baseurl/v1/tradeorder/trades?portfolioId={portfolioId}&amp;blockId={blockId}&amp;isPending={true/false}&amp;filterId={filterTypeId}&amp;accountIds={accountIds}`

**Permission:** `Get only those order whose portfolios assignied to his team`

```bash
curl -i http://baseurl/v1/tradeorder/trades
```

```bash
curl -i http://baseurl/v1/tradeorder/trades?portfolioId={portfolioId}
```

```bash
curl -i http://baseurl/v1/tradeorder/trades?isPending={true/false}
```

```bash
curl -i http://baseurl/v1/tradeorder/trades?isPending={true/false}&blockId={blockId}&accountIds={accountIds}
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | Trade order Id. |
| isEnabled: | Boolean | It indicates wheter trade order is enable ot not. |
| account_id | Number | Account id |
| account_accountId: | Number | Account id of orion connect |
| account_name: | String | Account name |
| account_number: | String | Account number |
| account_value | Decimal | Account value |
| account.type | Decimal | Account type |
| warningMesage: | String | Text message containing warnings about the trade. |
| action: | String | Action contains either buy or sell. |
| orderQty: | Number | Number of shares to be sell or buy |
| orderPercent: | Decimal | The percent of position being sold or buy |
| cashValuePostTrade: | Decimal | The cash balance remaining in the account after the trade orders |
| estimateAmount: | Decimal | Security Price * Order Qty |
| orderType: | String | Trade order Type |
| price: | Decimal | The price used to stage the order. |
| instanceDescription: | String | Description of trade. |
| tradingInstructions: | String | Instructions of trade. |
| custodian: | String | Name of custodian. |
| security_id: | Number | Trade related security id. |
| security_name: | String | Security name |
| security_symbol: | String | Secirity symbol |
| security_securityType: | String | Security type name |
| portfolio_id: | Number | Portfolio id |
| portfolio_name: | String | Portfolio name |
| isSleevedPortfolio: | Boolean | Portfolio sleeve or not |
| createdBy | String | Full Name of user who created the Trade order into the system. |
| createdDate | Date | Trade order creation date into application. |
| holdUntill | Date | Trade order hold until date. |
| model_id | Number | Model Id. |
| model_name | String | Model name. |
| allocationStatus_id | Number | Allocation status id |
| allocationStatus_name | Sring | Allocation status name |
| approvalStatus_id | Number | ApprovalStatus id |
| allrovalStatus.name | Sring | Approval status name |
| holding_id | Number | Holding id |
| holding_name | Sring | Holding name |
| blockId | Number | Block id |
| cashValue | Decimal | Available cash in the account |
| daysUntilLongTerm | Number | No. of days from Acquired date to current date |
| execInst | String | Trade execution instructions |
| expireTime | Date | Trade expiration time |
| fullSetDate | Date | Trade full set trade |
| gainLossMessage | String | Trade gain loss message |
| handlInst | String | Trade handl instructions |
| hasBlock | Boolean | Trade is block or not |
| instanceId | Number | Trade instance id |
| instanceNotes | String | Trade instance instructions |
| isDiscretionary | Boolean | Trade is discretionary |
| locateReqd | Boolean | Trade is locate required |
| longTermGain | Number | Trade long term gain |
| managementStyle | Number | Trade management style |
| masterAccountNumber | String | custodian master account |
| marketValue | Decimal | Trade market value |
| notes | Number | Trade notes |
| orderStatus_id | Number | Trade order status id |
| orderStatus.name | Number | Trade order status name |
| originalOrderQty | Number | Original quantity of order during trade generation |
| qualified | String | Trade is qualified |
| rebalanceLevel | String | Trade rebalance level |
| reinvestDividends | Boolean | Trade reinvest dividends |
| reinvestLongTermGains | Boolean | Trade long term gain |
| reinvestShortTermGains | Boolean | Trade short term gain |
| rowVersion | Number | Trade row version |
| settlementType.id | Number | Settlement type id |
| settlementType.name | Number | Settlement type name |
| pendingUnits | Number | Trade pending units |
| shortTermGain | Number | Trade short term gain |
| stopPrice | Number | Trade stop price |
| timeInForce | Number | Trade time in force |
| totalGain | Number | Trade total gain |
| tradePercentOfAccount | Number | Trade percent amount |
| transactionId | Number | Transation id |
| washAmount | Decimal | Wash amount |
| washUnits | Number | Wash units |
| assetClassName | String | Security asset class name |
| clientDirect | String | Trade is client direct |
| minimmCashBalance | Decimal | Trade minimy=um balance |
| repNotes | String | Repersentative notes |
| representativeName | String | Repersentative name |
| isSolicited | Boolean | Trade is solicited |
| editedBy | Sring | Full Name of user who edited the Trade order into the system. |
| editedDate | Date | Trade order edit date into application. |
| canEdit | Boolean | Whether user can edit trade or not |
| canExecute | Boolean | Whether user can execute trade or not |
| shortCodeMessages | String | Trade Error messages |
| isTradeable | String | Trade is tradeable or not in case of sma account |

```http
HTTP/1.1 200 OK
[{
"id": 5,
"isEnabled": 0,
"account": {
"id": 80004,
"accountId": "80004",
"name": "Kane, Jr.Fredric",
"number": "TE1001",
"value" : null,
"type" : null
},
"warningMessage": null,
"action": "BUY",
"orderQty": 6,
"orderPercent": 50,
"cashValuePostTrade": null,
"estimateAmmount": 41304,
"orderType": null,
"price": 61,
"createdBy": "prime@tgi.com",
"createdDate": "2016-09-13T04:33:36.000Z",
"instanceDescription": null,
"tradingInstructions": null,
"custodian": "Prime",
"security": {
"id": 7,
"name": null,
"symbol": null,
"securityType": null
},
"portfolio": {
"id": 15,
"name": "P1001",
"isSleevedPortfolio": true
},
"model": {
"id": 1,
"name": "testModel"
},
"holdUntil": null,
"allocationStatus":{
"id":3,
"name":"Accepted"
},
"approvalStatus":{
"id":3,
"name":"Pending Approval"
},
"holding":{
"id":2,
"units":100
},
"blockId":1,
"cashValue":1000,
"daysUntilLongTerm":20,
"execInst":"None",
"expireTime":null,
"fullSetDate":null,
"gainLossMessage":null,
"handlInst":"private",
"hasBlock":false,
"instanceId":1,
"instanceNotes":null,
"locateReqd":null,
"longTermGain":0,
"managementStyle":"",
"marketValue":0,
"notes":null,
"orderStatus":{
"id":1,
"name":"Filled"
},
"originalOrderQty":20,
"qualified":null,
"rebalanceLevel":"Portfolio",
"reinvestDividends":true,
"reinvestLongTermGains":false,
"reinvestShortTermGains":false,
"rowVersion":2,
"settlementType":{
"id":2,
"name":"cash"
},
"pendingUnits":2,
"shortTermGain":200,
"stopPrice":2000,
"timeInForce":"Day",
"totalGain":400,
"tradePercentOfAccount":20.08,
"transactionId":null,
"washUnits":20,
"assetClassName":"cash",
"clientDirect":false,
"minimmCashBalance":300,
"repNotes":null,
"representativeName":"orion test",
"isAutoAllocate":null,
"editedBy":"prime@tgi.com",
"editedDate":"2016-11-07T03:34:25.000Z",
"washAmount":200,
"canEdit" : true,
"canExecute" : true,
"shortCodeMessages":AccountNeg;ProductZer,
"isTradeable" : isTradeable
}]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get Allocation Reject Reason

This API Get Allocation Reject Reason.

**GET** `https://baseurl/v1/tradeorder/trades/getAllocationRejectReasons`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/tradeorder/trades/getAllocationRejectReasons
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | Allocation Reject Reason Id. |
| name | String | Allocation Reject Reason Name |

```http
HTTP/1.1 200 OK
[{
"id": 5,
"name": "Commission difference"
},
{
"id": 3,
"name": "Incorrect average price"
}]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get Allocation Status

This API Get Allocation Status.

**GET** `https://baseurl/v1/tradeorder/trades/allocationStatus`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/tradeorder/trades/allocationStatus
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | Allocation Status Id. |
| name | String | Allocation Status Name |

```http
HTTP/1.1 200 OK
[{
"id": 10,
"name": "Not Sent",
}]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get Awaiting Acceptance Trades

This API get all trades.

**GET** `https://baseurl/v1/tradeorder/trades/awaitingAcceptance`

**Permission:** `Get only those order whose portfolios assignied to his team`

```bash
curl -i http://baseurl/v1/tradeorder/trades/awaitingAcceptance
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | Trade order Id. |
| isEnabled: | Boolean | It indicates wheter trade order is enable ot not. |
| account_id | Number | Account id |
| account_accountId: | Number | Account id of orion connect |
| account_name: | String | Account name |
| account_number: | String | Account number |
| account_value | Decimal | Account value |
| account.type | Decimal | Account type |
| warningMesage: | String | Text message containing warnings about the trade. |
| action: | String | Action contains either buy or sell. |
| orderQty: | Number | Number of shares to be sell or buy |
| orderPercent: | Decimal | The percent of position being sold or buy |
| cashValuePostTrade: | Decimal | The cash balance remaining in the account after the trade orders |
| estimateAmount: | Decimal | Security Price * Order Qty |
| orderType: | String | Trade order Type |
| price: | Decimal | The price used to stage the order. |
| instanceDescription: | String | Description of trade. |
| tradingInstructions: | String | Instructions of trade. |
| custodian: | String | Name of custodian. |
| security_id: | Number | Trade related security id. |
| security_name: | String | Security name |
| security_symbol: | String | Secirity symbol |
| security_securityType: | String | Security type name |
| portfolio_id: | Number | Portfolio id |
| portfolio_name: | String | Portfolio name |
| isSleevedPortfolio: | Boolean | Portfolio sleeve or not |
| createdBy | Sring | Full Name of user who created the Trade order into the system. |
| createdDate | Date | Trade order creation date into application. |
| holdUntill | Date | Trade order hold until date. |
| model_id | Number | Model Id. |
| model_name | String | Model name. |
| allocationStatus_id | Number | Allocation status id |
| allocationStatus_name | Sring | Allocation status name |
| approvalStatus_id | Number | ApprovalStatus id |
| allrovalStatus.name | Sring | Approval status name |
| holding_id | Number | Holding id |
| holding_name | Sring | Holding name |
| blockId | Number | Block id |
| cashValue | Decimal | Available cash in the account |
| daysUntilLongTerm | Number | No. of days from Acquired date to current date |
| execInst | String | Trade execution instructions |
| expireTime | Date | Trade expiration time |
| fullSetDate | Date | Trade full set trade |
| gainLossMessage | String | Trade gain loss message |
| handlInst | String | Trade handl instructions |
| hasBlock | Boolean | Trade is block or not |
| instanceId | Number | Trade instance id |
| instanceNotes | String | Trade instance instructions |
| isDiscretionary | Boolean | Trade is discretionary |
| locateReqd | Boolean | Trade is locate required |
| longTermGain | Number | Trade long term gain |
| managementStyle | Number | Trade management style |
| masterAccountNumber | String | custodian master account |
| marketValue | Decimal | Trade market value |
| notes | Number | Trade notes |
| orderStatus_id | Number | Trade order status id |
| orderStatus.name | Number | Trade order status name |
| originalOrderQty | Number | Original quantity of order during trade generation |
| qualified | String | Trade is qualified |
| rebalanceLevel_Id | String | Trade rebalance level id |
| rebalanceLevel_name | String | Trade rebalance level name |
| reinvestDividends | Boolean | Trade reinvest dividends |
| reinvestLongTermGains | Boolean | Trade long term gain |
| reinvesShortTermGains | Boolean | Trade short term gain |
| rowVersion | Number | Trade row version |
| settlementType.id | Number | Settlement type id |
| settlementType.name | Number | Settlement type name |
| pendingUnits | Number | Trade pending units |
| shortTermGain | Number | Trade short term gain |
| stopPrice | Number | Trade stop price |
| timeInForce | Number | Trade time in force |
| totalGain | Number | Trade total gain |
| tradePercentOfAccount | Number | Trade percent amount |
| transactionId | Number | Transation id |
| washAmount | Decimal | Wash amount |
| washUnits | Number | Wash units |
| assetClassName | String | Security asset class name |
| clientDirect | String | Trade is client direct |
| minimmCashBalance | Decimal | Trade minimy=um balance |
| repNotes | String | Repersentative notes |
| representativeName | String | Repersentative name |
| isSolicited | Boolean | Trade is solicited |
| editedBy | Sring | Full Name of user who edited the Trade order into the system. |
| editedDate | Date | Trade order edit date into application. |
| canEdit | Boolean | Whether user can edit trade or not |
| canExecute | Boolean | Whether user can execute trade or not |
| durationId | Number | Trade duration id |
| durationName | String | Trade duration name |
| currentModelName | String | Current Model Name which is assigned to portfolio |

```http
HTTP/1.1 200 OK
[{
"id": 5,
"isEnabled": 0,
"account": {
"id": 80004,
"accountId": "80004",
"name": "Kane, Jr.Fredric",
"number": "TE1001",
"value" : null,
"type" : null
},
"warningMessage": null,
"action": "BUY",
"orderQty": 6,
"orderPercent": 50,
"cashValuePostTrade": null,
"estimateAmmount": 41304,
"orderType": null,
"price": 61,
"createdBy": "prime@tgi.com",
"createdDate": "2016-09-13T04:33:36.000Z",
"instanceDescription": null,
"tradingInstructions": null,
"custodian": "Prime",
"security": {
"id": 7,
"name": null,
"symbol": null,
"securityType": null
},
"portfolio": {
"id": 15,
"name": "P1001",
"isSleevedPortfolio":true
},
"model": {
"id": 1,
"name": "testModel"
},
"holdUntil": null,
allocationStatus":{
"id":3,
"name":"Accepted"
},
"approvalStatus":{
"id":3,
"name":"Pending Approval"
},
"holding":{
"id":2,
"units":100
},
"blockId":1,
"cashValue":1000,
"daysUntilLongTerm":20,
"execInst":"None",
"expireTime":null,
"fullSetDate":null,
"gainLossMessage":null,
"handlInst":"private",
"hasBlock":false,
"instanceId":1,
"instanceNotes":null,
"isDiscretionary":false,
"locateReqd":null,
"longTermGain":0,
"managementStyle":"",
"marketValue":0,
"notes":null,
"orderStatus":{
"id":1,
"name":"Filled"
},
"originalOrderQty":20,
"qualified":null,
"rebalanceLevel":{
"id":1,
"name":"level1"
},
"reinvestDividends":true,
"reinvestLongTermGains":false,
"reinvestShortTermGains":false,
"rowVersion":2,
"settlementType":{
"id":2,
"name":"cash"
},
"pendingUnits":2,
"shortTermGain":200,
"stopPrice":2000,
"timeInForce":"Day",
"totalGain":400,
"tradePercentOfAccount":20.08,
"transactionId":null,
"washUnits":20,
"assetClassName":"cash",
"clientDirect":false,
"minimmCashBalance":300,
"repNotes":null,
"representativeName":"orion test",
"isAutoAllocate":null,
"editedBy":"prime@tgi.com",
"editedDate":"2016-11-07T03:34:25.000Z",
"washAmount":200,
"editedBy": "prime@tgi.com",
"editedDate": "2016-09-13T04:33:36.000Z",
"isSolicited": false,
"canEdit" : true,
"canExecute" : true,
"currentModelName": "Community Model 1",
"duration": {
"id": 1,
"name": "Day"
}
}]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get Block Reject Reasons

This API Get Block Reject Reasons.

**GET** `https://baseurl/v1/tradeorder/trades/getBlockRejectReasons`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/tradeorder/trades/getBlockRejectReasons
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | Block Reject Reason Id. |
| name | String | Block Reject Reason Name |

```http
HTTP/1.1 200 OK
[
{
"id": 1,
"name": "Broker Option"
},
{
"id": 8,
"name": "Duplicate of a verbally communicated order"
}]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get Cancel Reject Reason

This API Get Cancel Reject Reason.

**GET** `https://baseurl/v1/tradeorder/trades/getCancelRejectReasons`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/tradeorder/trades/getCancelRejectReasons
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | Cancel Reject Reason Id. |
| name | String | Cancel Reject Reason Name |

```http
HTTP/1.1 200 OK
[
{
"id": 3,
"name": "Broker Option"
},
{
"id": 4,
"name": "Order already in pending cancel or pending replace status"
}]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get Durations

This API Get All Durations.

**GET** `https://baseurl/v1/tradeorder/trades/durations`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/tradeorder/trades/durations
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | Duration Id. |
| name | String | Duration name |

```http
HTTP/1.1 200 OK
[{
"id": 10,
"name": "Day",
}]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get Fixed Income Trades

This API get all trades.

**GET** `https://baseurl/v1/tradeorder/trades/fixedIncome`

**Permission:** `Get only those order whose portfolios assignied to his team`

```bash
curl -i http://baseurl/v1/tradeorder/trades/fixedIncome
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | Trade order Id. |
| isEnabled: | Boolean | It indicates wheter trade order is enable ot not. |
| account_id | Number | Account id |
| account_accountId: | Number | Account id of orion connect |
| account_name: | String | Account name |
| account_number: | String | Account number |
| account_value | Decimal | Account value |
| account.type | Decimal | Account type |
| warningMesage: | String | Text message containing warnings about the trade. |
| action: | String | Action contains either buy or sell. |
| orderQty: | Number | Number of shares to be sell or buy |
| orderPercent: | Decimal | The percent of position being sold or buy |
| cashValuePostTrade: | Decimal | The cash balance remaining in the account after the trade orders |
| estimateAmount: | Decimal | Security Price * Order Qty |
| orderType: | String | Trade order Type |
| price: | Decimal | The price used to stage the order. |
| instanceDescription: | String | Description of trade. |
| tradingInstructions: | String | Instructions of trade. |
| custodian: | String | Name of custodian. |
| security_id: | Number | Trade related security id. |
| security_name: | String | Security name |
| security_symbol: | String | Secirity symbol |
| security_securityType: | String | Security type name |
| portfolio_id: | Number | Portfolio id |
| portfolio_name: | String | Portfolio name |
| isSleevedPortfolio: | Boolean | Portfolio sleeve or not |
| createdBy | Sring | Full Name of user who created the Trade order into the system. |
| createdDate | Date | Trade order creation date into application. |
| holdUntill | Date | Trade order hold until date. |
| model_id | Number | Model Id. |
| model_name | String | Model name. |
| allocationStatus_id | Number | Allocation status id |
| allocationStatus_name | Sring | Allocation status name |
| approvalStatus_id | Number | ApprovalStatus id |
| allrovalStatus.name | Sring | Approval status name |
| holding_id | Number | Holding id |
| holding_name | Sring | Holding name |
| blockId | Number | Block id |
| cashValue | Decimal | Available cash in the account |
| daysUntilLongTerm | Number | No. of days from Acquired date to current date |
| execInst | String | Trade execution instructions |
| expireTime | Date | Trade expiration time |
| fullSetDate | Date | Trade full set trade |
| gainLossMessage | String | Trade gain loss message |
| handlInst | String | Trade handl instructions |
| hasBlock | Boolean | Trade is block or not |
| instanceId | Number | Trade instance id |
| instanceNotes | String | Trade instance instructions |
| isDiscretionary | Boolean | Trade is discretionary |
| locateReqd | Boolean | Trade is locate required |
| longTermGain | Number | Trade long term gain |
| managementStyle | Number | Trade management style |
| masterAccountNumber | String | custodian master account |
| marketValue | Decimal | Trade market value |
| notes | Number | Trade notes |
| orderStatus_id | Number | Trade order status id |
| orderStatus.name | Number | Trade order status name |
| originalOrderQty | Number | Original quantity of order during trade generation |
| qualified | String | Trade is qualified |
| rebalanceLevel_Id | String | Trade rebalance level id |
| rebalanceLevel_name | String | Trade rebalance level name |
| reinvestDividends | Boolean | Trade reinvest dividends |
| reinvestLongTermGains | Boolean | Trade long term gain |
| reinvesShortTermGains | Boolean | Trade short term gain |
| rowVersion | Number | Trade row version |
| settlementType.id | Number | Settlement type id |
| settlementType.name | Number | Settlement type name |
| pendingUnits | Number | Trade pending units |
| shortTermGain | Number | Trade short term gain |
| stopPrice | Number | Trade stop price |
| timeInForce | Number | Trade time in force |
| totalGain | Number | Trade total gain |
| tradePercentOfAccount | Number | Trade percent amount |
| transactionId | Number | Transation id |
| washAmount | Decimal | Wash amount |
| washUnits | Number | Wash units |
| assetClassName | String | Security asset class name |
| clientDirect | String | Trade is client direct |
| minimmCashBalance | Decimal | Trade minimy=um balance |
| repNotes | String | Repersentative notes |
| representativeName | String | Repersentative name |
| isSolicited | Boolean | Trade is solicited |
| editedBy | Sring | Full Name of user who edited the Trade order into the system. |
| editedDate | Date | Trade order edit date into application. |
| canEdit | Boolean | Whether user can edit trade or not |
| canExecute | Boolean | Whether user can execute trade or not |
| durationId | Number | Trade duration id |
| durationName | String | Trade duration name |
| currentModelName | String | Current Model Name which is assigned to portfolio |

```http
HTTP/1.1 200 OK
[{
"id": 5,
"isEnabled": 0,
"account": {
"id": 80004,
"accountId": "80004",
"name": "Kane, Jr.Fredric",
"number": "TE1001",
"value" : null,
"type" : null
},
"warningMessage": null,
"action": "BUY",
"orderQty": 6,
"orderPercent": 50,
"cashValuePostTrade": null,
"estimateAmmount": 41304,
"orderType": null,
"price": 61,
"createdBy": "prime@tgi.com",
"createdDate": "2016-09-13T04:33:36.000Z",
"instanceDescription": null,
"tradingInstructions": null,
"custodian": "Prime",
"security": {
"id": 7,
"name": null,
"symbol": null,
"securityType": null
},
"portfolio": {
"id": 15,
"name": "P1001",
"isSleevedPortfolio":true
},
"model": {
"id": 1,
"name": "testModel"
},
"holdUntil": null,
allocationStatus":{
"id":3,
"name":"Accepted"
},
"approvalStatus":{
"id":3,
"name":"Pending Approval"
},
"holding":{
"id":2,
"units":100
},
"blockId":1,
"cashValue":1000,
"daysUntilLongTerm":20,
"execInst":"None",
"expireTime":null,
"fullSetDate":null,
"gainLossMessage":null,
"handlInst":"private",
"hasBlock":false,
"instanceId":1,
"instanceNotes":null,
"isDiscretionary":false,
"locateReqd":null,
"longTermGain":0,
"managementStyle":"",
"marketValue":0,
"notes":null,
"orderStatus":{
"id":1,
"name":"Filled"
},
"originalOrderQty":20,
"qualified":null,
"rebalanceLevel":{
"id":1,
"name":"level1"
},
"reinvestDividends":true,
"reinvestLongTermGains":false,
"reinvestShortTermGains":false,
"rowVersion":2,
"settlementType":{
"id":2,
"name":"cash"
},
"pendingUnits":2,
"shortTermGain":200,
"stopPrice":2000,
"timeInForce":"Day",
"totalGain":400,
"tradePercentOfAccount":20.08,
"transactionId":null,
"washUnits":20,
"assetClassName":"cash",
"clientDirect":false,
"minimmCashBalance":300,
"repNotes":null,
"representativeName":"orion test",
"isAutoAllocate":null,
"editedBy":"prime@tgi.com",
"editedDate":"2016-11-07T03:34:25.000Z",
"washAmount":200,
"editedBy": "prime@tgi.com",
"editedDate": "2016-09-13T04:33:36.000Z",
"isSolicited": false,
"canEdit" : true,
"canExecute" : true,
"currentModelName": "Community Model 1",
"duration": {
"id": 1,
"name": "Day"
}
}]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get Models by trades

This API Get Models By Trade.

**GET** `https://baseurl/v1/tradeorder/trades/model/simple`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/tradeorder/trades/model/simple?tradeIds=1,2,3
Please pass selected trade ids in query string
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | Model Id. |
| name | String | Model name |

```http
HTTP/1.1 200 OK
[{
"id": 10,
"name": "Model1",
},
"id": 10,
"name": "Model2",
}]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get Order Status

This API Get Get Order Status List.

**GET** `https://baseurl/v1/tradeorder/trades/orderStatus`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/tradeorder/trades/orderStatus
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | Order Status Id. |
| name | String | Order Status Name |

```http
HTTP/1.1 200 OK
[{
"id": 10,
"name": "Sent",
}]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get Order Types

This API Get All order Types.

**GET** `https://baseurl/v1/tradeorder/trades/orderTypes`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/tradeorder/trades/orderTypes
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | Order type Id. |
| name | String | Order type name |

```http
HTTP/1.1 200 OK
[{
"id": 10,
"name": "Market",
}]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get Portfolio Actions

This API Get All Portfolio Actions While user select portfolio in quick trade.

**GET** `https://baseurl/v1/tradeorder/trades/portfolioActions`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/tradeorder/trades/portfolioActions
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | Action Id. |
| name | String | Action name |

```http
HTTP/1.1 200 OK
[{
"id": 10,
"name": "Buy",
}]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get Qualifiers

This API Get All Qualifiers.

**GET** `https://baseurl/v1/tradeorder/trades/qualifiers`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/tradeorder/trades/qualifiers
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | Qualifier Id. |
| name | String | Qualifier name |

```http
HTTP/1.1 200 OK
[{
"id": 10,
"name": "DNR  Do not Reduce",
}]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get Settlement Type

This API Get All settlement types.

**GET** `https://baseurl/v1/tradeorder/trades/settlementTypes`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/tradeorder/trades/settlementTypes
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | Settlement Type Id. |
| name | String | Settlement Type name |

```http
HTTP/1.1 200 OK
[{
"id": 10,
"name": "Type1",
},
"id": 10,
"name": "Type2",
}]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get Trade Actions

This API Get All Trade Actions.

**GET** `https://baseurl/v1/tradeorder/trades/tradeActions`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/tradeorder/trades/tradeActions
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | Trade Action Id. |
| name | String | Trade Action name |

```http
HTTP/1.1 200 OK
[{
"id": 10,
"name": "Buy",
},
"id": 10,
"name": "Sell",
}]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get Trade Approval Status

This API Get All Trade Approval Status.

**GET** `https://baseurl/v1/tradeorder/trades/tradeApprovalStatus?tradeIds=1,2,3`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/ tradeorder/trades/tradeApprovalStatus?tradeIds=1,2,3
curl -i http://baseurl/v1/tradeorder/trades/tradeApprovalStatus?portfolioId=1
Please pass selected trade ids in query string
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| approvedStatusId | Number | Trade Action Id. |
| approvedStatusName | String | Trade Action name |

```http
HTTP/1.1 200 OK
[{
"approvedStatusId": 10,
"approvedStatusName": "Approved",
},
"approvedStatusId": 10,
"approvedStatusName": "Not Approved",
}]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get Trade Detail

This API gets trade order by id.

**GET** `https://baseurl/v1/tradeorder/trades/:id`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/tradeorder/trades/3
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | : Trade order id. |
| isEnabled: | Boolean | It indicates wheter trade order is enable ot not. |
| estimateAmount: | Decimal | Security Price * Order Qty |
| price: | Decimal | The price used to stage the order. |
| createdBy | String | Full Name of user who created the Trade order into the system. |
| createdDate | Date | Trade order creation date into application. |
| editedBy | String | Full Name of user who edited the Trade order into the system. |
| editedDate | Date | Trade order edit date into application. |
| warningMesage: | String | Text message containing warnings about the trade. |
| orderQty: | Number | Number of shares to be sell or buy |
| orderPercent: | Decimal | The percent of position being sold or buy |
| cashValuePostTrade: | Decimal | The cash balance remaining in the account after the trade orders |
| tradingInstructions: | String | Instructions of trade. |
| account_id | Number | Account id |
| account_accountId: | Number | Account id of orion connect |
| account_name: | String | Account name |
| account_number: | String | Account number |
| security_id: | Number | Trade related security id. |
| security_name: | String | Security name |
| security_symbol: | String | Secirity symbol |
| security_securityType: | String | Security type name |
| custodian: | String | Name of custodian. |
| stopPrice: | Number | Trade stop price. |
| limitPrice: | Number | Trade limit price. |
| orderType_id: | Number | Order type id |
| orderType_name: | String | Order Type name |
| qualifier_id: | Number | Qualifier id |
| qualifier_name: | String | Qualifier name |
| duration_id: | Number | Duration id |
| duration.name: | String | Duration name |
| action_id: | Number | Trade action id |
| action_name: | String | Trade action name |
| isDiscretionary: | Boolean | Trade isDiscretionary. |
| isSolicited: | Boolean | Trade isSolicited. |
| isAutoAllocate: | Boolean | Trade isAutoAllocate. |

```http
HTTP/1.1 200 OK
{
"id": 3,
"isEnabled": 1,
"estimateAmount": 131.25,
"price": 61,
"createdBy": "prime@tgi.com",
"createdDate": "2016-09-28T04:33:35.000Z",
"editedBy": "prime@tgi.com",
"editedDate": "2016-10-15T08:05:20.000Z",
"warningMessage": null,
"orderQty": 6,
"orderPercent": 50,
"cashValuePostTrade": null,
"tradingInstructions": null,
"account": {
"id": 2,
"accountId": "8002",
"number": "L0704C0669",
"name": "Ashe Aaron M."
},
"security": {
"symbol": "S",
"name": "Sprint Corporation",
"id": 14612,
"securityType": "CD"
},
"custodian": "Prime",
"limitPrice": 8,
"stopPrice": 7,
"orderType": {
"id": 1,
"name": "Market"
},
"qualifier": {
"id": 2,
"name": "DNR  Do not Reduce"
},
"duration": {
"id": 1,
"name": "Day"
},
"action": {
"id": 1,
"name": "BUY"
},
"isDiscretionary": 0,
"isSolicited": 1,
"isAutoAllocate": 1
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get Trade Order Messages

This API get all trade order messages by trade order id.

**GET** `https://baseurl/v1/tradeorder/trades/tradeOrderMessages/:id`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/tradeorder/trades/tradeOrderMessages/3
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | : Trade order message id. |
| shortCode: | String | Trade order short code. |
| message: | String | Trade order message. |
| severity | String | Message severity. |

```http
HTTP/1.1 200 OK
[
{
"id": 1,
"shortCode": "AccountNeg",
"message": "Account value is negative.",
"severity": "Error"
},
{
"id": 2,
"shortCode": "ProductZer",
"message": "Holding ID 0 for stock_proxyasset is tradable, but has a price of $0.00.",
"severity": "Error"
},
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Process SFTP Trade Orders

This API process sftp trade orders.

**PUT** `https://baseurl/v1/tradeorder/trades/action/processSftpTrades`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/tradeorder/trades/action/processSftpTrades
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| tradeIds | Number | :List ofsftpTrade order ids. |

```json
Json is optional. Please dont pass json in case of process all
{
"tradeIds" : [11,12]
}
```

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| message | String | Success message. |

```http
HTTP/1.1 200 OK
[11,12]
```

```json
{
"message": "Some trades did not meet the criteria to process",
"notProcessedRecordsCount": 1
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```


## Process Trade Orders 9759

This is an abbreviated version of the existing process trades endpoint that assumes pre-processing up through sleeve aggregation is being done on an external system and results of that pre-processing are passed in to this API call

**PUT** `https://baseurl/v1/tradeorder/trades/action/processTrades9759`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/tradeorder/trades/action/processTrades9759
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| tradeIdsToProcess | Number | :List of Trade order ids to process. |
| aggregatedZeroQuantitySleeveTradeIds | Number | :List of sleeve trade entities that got zeroed out thru aggregation |
| transferTradeIds | Number | :List of ids of newly created transfer trade entities |

```json
{
"tradeIdsToProcess": [
11,
12
],
"aggregatedZeroQuantitySleeveTradeIds": [
13,
14
],
"transferTradeIds": [
15,
16
]
}
```

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| message | String | Success message. |

```http
HTTP/1.1 200 OK
[11,12]
```

```json
{
"message": "Some trades did not meet the criteria to process",
"notProcessedRecordsCount": 1
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```


## Process Trade Orders

This API process trade orders.

**PUT** `https://baseurl/v1/tradeorder/trades/action/processTrades`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/tradeorder/trades/action/processTrades
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| tradeIds | Number | :List of Trade order ids. |

```json
Json is optional. Please dont pass json in case of process all
{
"tradeIds" : [11,12]
}
```

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| message | String | Success message. |

```http
HTTP/1.1 200 OK
[11,12]
```

```json
{
"message": "Some trades did not meet the criteria to process",
"notProcessedRecordsCount": 1
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```


## Process Fixed income Trade Orders

This API process trade orders.

**PUT** `https://baseurl/v1/tradeorder/trades/action/fixedIncome/processTrades`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/tradeorder/trades/action/fixedIncome/processTrades
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| tradeIds | Number | :List of Trade order ids. |

```json
Json is optional. Please dont pass json in case of process all
{
"tradeIds" : [11,12]
}
```

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| message | String | Success message. |

```http
HTTP/1.1 200 OK
[11,12]
```

```json
{
"message": "Some trades did not meet the criteria to process",
"notProcessedRecordsCount": 1
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```


## Reset Awaiting Mutual Fund Trades

This API process trade orders.

**PATCH** `https://baseurl/v1/tradeorder/trades/action/resetTrades`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/tradeorder/trades/action/resetTrades
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| tradeIds | Number | :List of Trade order ids. |
| processedIds | Array | [11,12] |
| processedCount | Number | 2 |
| unProcessedCount | Number | 0 |

```json
Json is optional. Please dont pass json in case of process all
{
"tradeIds" : [11,12]
}
```

```json
{
"processedIds": [
11,
12
],
"processedCount": 2,
"unProcessedCount": 0
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```


## Save Trades

This API generate trade orders.

**POST** `https://baseurl/v1/tradeorder/trades`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/tradeorder/trades
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| accountId | Number | Account ID |
| portfolioId | Number | Portfolio ID |
| actionId | Number | 1=Buy, 2=Sell, 3=Journal In, 3=Journal Out |
| securityId | Number | Security ID |
| dollarAmount | Number | Dollar amount to be spent for buy or sell |
| quantity | Number | Number of shares to sell or buy |
| percentage | Decimal | The percent of the position to sell or buy |
| isSendImmediately | Boolean | Process trades immediately |
| tradeToolSelection | Number | 1=Portfolio, 2=Account, 3=Model, 4=Account Trade Group, 5=Sleeve Portfolio, 6=Excel Import, 7=Portfolio Trade Group, 8=Security Import, 9=Individual Sleeve, 10=Tactical Tool |
| tradeInstanceType | Number | 1=Astro, 2=Cash Movements, 3=Global Trades, 4=Option Trading (not supported), 5=Quick Trade, 6=Rebalance, 7=Tactical Tool, 8=Tax Harvesting, 9=Tax Ticker Swap, 10=Trade to Target |
| tradeInstanceSubType | Number | 1=Automated Losses, 2=Astro, 3=Cash Needs, 4=Focused Rebalance, 5=Full Location Rebalance, 6=Global Trades, 7=Manual Gains, 8=Manual Losses, 9=Option Trading (not supported), 10=Partial Location Rebalance, 11=Quick Trade, 12=Raise Cash, 13=Spend Cash, 14=Standard Rebalance, 15=Tactical Tool, 16=Tax Ticker Swap, 17=Trade Import, 18=Trade to Target, 19=Journal Only Cash, 20=Journal Cash and Holdings, 21=Money Market Rebalance |

```json
{
"accountId": 9006,
"portfolioId": 15,
"actionId": 1,
"securityId": 14630,
"dollarAmount": 3000,
"quantity": 0,
"percentage": 0,
"isSendImmediately": false,
"tradeToolSelection": 2,
"tradeInstanceType": 5,
"tradeInstanceSubType": 11
}
```

```json
{
"accountId": 9006,
"portfolioId": 15,
"actionId": 2,
"securityId": 14630,
"dollarAmount": 3000,
"quantity": 0,
"percentage": 0,
"isSendImmediately": false,
"tradeToolSelection": 2,
"tradeInstanceType": 5,
"tradeInstanceSubType": 11
}
```

```json
{
"accountId": null,
"portfolioId": 12,
"actionId": 3,
"securityId": null,
"dollarAmount": null,
"quantity": null,
"percentage": null,
"isSendImmediately": false,
"tradeToolSelection": 1,
"tradeInstanceType": 6,
"tradeInstanceSubType": 14
}
```

```http
HTTP/1.1 200 OK
{
"message": "Trade generated successfully"
}
```

```http
HTTP/1.1 200 OK
{
"issues": [],
"success": [
{
"portfolioId": 99,
"accountId": null,
"modelDetailId": null,
"instanceId": 933,
"numberOfTradesGenerated": 20,
"rebalancerLogFilePath": "https://PATH/TO/FILE",
"message": "[REBAL] : Rebalancer ran successfully."
}
],
"instanceId": 1106
}
```

```http
HTTP/1.1 200 OK
{
"issues": [
{
"portfolioId": 80,
"instanceId": 1106,
"numberOfTradesGenerated": null,
"rebalancerLogFilePath":"https://PATH/TO/FILE",
"message": "[REBAL] :No Primary Team Assigned to this portfolio "
},
{
"portfolioId": 39,
"instanceId": 1106,
"numberOfTradesGenerated": null,
"rebalancerLogFilePath":"https://PATH/TO/FILE",
"message": "[REBAL] :No Primary Team Assigned to this portfolio "
}
],
"success": [],
"instanceId": 1106
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```


## Search trade type

This API search trade execution type.

**GET** `https://baseurl/v1/tradeorder/trades/tradeExecutionType?search={id/name}`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/tradeorder/trades/tradeExecutionType?search=1
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | String | The trade type Id. |
| name | String | Name of the Trade Type. |
| isDeleted | Boolean | Trade Type exist or not into the system. |
| createdOn | Date | Trade Type creation date into application. |
| createdBy | String | Full Name of user who created the Trade Type into the system. |
| editedOn | Date | Trade Type edited date into application. |
| editedBy | Number | Full Name of user who edited the Trade Type details into the system. |

```http
HTTP/1.1 200 OK
{
"id": 1,
"name": "FIX DIRECT",
"isDeleted": 0,
"createdOn": "2016-06-17T05:57:22.000Z",
"createdBy": 0,
"editedOn": "2016-06-17T05:57:25.000Z",
"editedBy": 0
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Update Some Fields of Trade Detail

This API will update some fields of trade order.

**PATCH** `https://baseurl/v1/tradeorder/trades/:id`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/tradeorder/trades/3
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| id: | Number | Trade order id |
| price: | Decimal | The price used to stage the order. |
| orderQty: | Number | Number of shares to be sell or buy |
| stopPrice: | Number | Trade stop price. |
| limitPrice: | Number | Trade limit price. |
| orderTypeId: | Number | Order type id |
| qualifierId: | Number | Qualifier id |
| durationId: | Number | Duration id |
| actionId: | Number | Trade action id |
| isDiscretionary: | Boolean | Trade isDiscretionary. |
| isSolicited: | Boolean | Trade isSolicited. |
| isAutoAllocate: | Boolean | Trade isAutoAllocate. |
| isSendImmediately: | Boolean | Trade to send for process. |

```json
{
"id": 1,
"price": 20,
"orderQty": 6,
"limitPrice": 8,
"stopPrice": 7,
"orderTypeId": 1,
"qualifierId": 2,
"durationId": 1,
"actionId": 1,
"isDiscretionary": 0,
"isSolicited": 1,
"isAutoAllocate": 1,
"isSendImmediately": 1
}
```

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | : Trade order id. |
| isEnabled: | Boolean | It indicates wheter trade order is enable ot not. |
| estimateAmount: | Decimal | Security Price * Order Qty |
| price: | Decimal | The price used to stage the order. |
| createdBy | String | Full Name of user who created the Trade order into the system. |
| createdDate | Date | Trade order creation date into application. |
| editedBy | String | Full Name of user who edited the Trade order into the system. |
| editedDate | Date | Trade order edit date into application. |
| warningMesage: | String | Text message containing warnings about the trade. |
| orderQty: | Number | Number of shares to be sell or buy |
| orderPercent: | Decimal | The percent of position being sold or buy |
| cashValuePostTrade: | Decimal | The cash balance remaining in the account after the trade orders |
| tradingInstructions: | String | Instructions of trade. |
| account_id | Number | Account id |
| account_accountId: | Number | Account id of orion connect |
| account_name: | String | Account name |
| account_number: | String | Account number |
| security_id: | Number | Trade related security id. |
| security_name: | String | Security name |
| security_symbol: | String | Secirity symbol |
| security_securityType: | String | Security type name |
| custodian: | String | Name of custodian. |
| stopPrice: | Number | Trade stop price. |
| limitPrice: | Number | Trade limit price. |
| orderType_id: | Number | Order type id |
| orderType_name: | String | Order Type name |
| qualifier_id: | Number | Qualifier id |
| qualifier_name: | String | Qualifier name |
| duration_id: | Number | Duration id |
| duration_name: | String | Duration name |
| action_id: | Number | Trade action id |
| action_name: | String | Trade action name |
| isDiscretionary: | Boolean | Trade isDiscretionary. |
| isSolicited: | Boolean | Trade isSolicited. |
| isAutoAllocate: | Boolean | Trade isAutoAllocate. |

```http
HTTP/1.1 200 OK
{
"id": 3,
"isEnabled": 1,
"estimateAmount": 131.25,
"price": 61,
"createdBy": "prime@tgi.com",
"createdDate": "2016-09-28T04:33:35.000Z",
"editedBy": "prime@tgi.com",
"editedDate": "2016-10-15T08:05:20.000Z",
"warningMessage": null,
"orderQty": 6,
"orderPercent": 50,
"cashValuePostTrade": null,
"tradingInstructions": null,
"account": {
"id": 2,
"accountId": "8002",
"number": "L0704C0669",
"name": "Ashe Aaron M."
},
"security": {
"symbol": "S",
"name": "Sprint Corporation",
"id": 14612,
"securityType": "CD"
},
"custodian": "Prime",
"limitPrice": 8,
"stopPrice": 7,
"orderType": {
"id": 1,
"name": "Market"
},
"qualifier": {
"id": 2,
"name": "DNR  Do not Reduce"
},
"duration": {
"id": 1,
"name": "Day"
},
"tradeAction": {
"id": 1,
"name": "BUY"
},
"isDiscretionary": 0,
"isSolicited": 1,
"isAutoAllocate": 1
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Update Trade Client Directed

This API will update client directed value of trade order.

**PUT** `https://baseurl/v1/tradeorder/trades/:id/action/clientDirected`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/tradeorder/trades/{id}/action/clientDirected
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| id: | Number | Trade order id |
| clientDirected: | Boolean | Trade client directed or not |

```json
{
"id": 1,
"clientDirected": true
}
```

```http
HTTP/1.1 401 Unauthorized
{
"message": "Client Directed updated successfully"
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Update Trade Hold Until Date

This API will update hold until data of trade order.

**PUT** `https://baseurl/v1/tradeorder/trades/:id/action/holdUntil`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/tradeorder/trades/{id}/action/holdUntil
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| id: | Number | Trade order id |
| holdUntil: | Date | Trade hold until date. |

```json
{
"id": 1,
"holdUntil": "2016-09-28T04:33:35.000Z"
}
```

```http
HTTP/1.1 401 Unauthorized
{
"message": "Hold Until Date updated successfully "
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Update Trade Quantity

This API will update quantity of trade order.

**PUT** `https://baseurl/v1/tradeorder/trades/:id/action/quantity`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/tradeorder/trades/{id}/action/quantity
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| id: | Number | Trade order id. |
| quantity: | Number | Trade quantity. |

```json
{
"id": 1,
"quantity": 8
}
```

```http
HTTP/1.1 401 Unauthorized
{
"message": "Quantity updated successfully."
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Update Trade Settlement Type

This API will update settlementType of trade order.

**PUT** `https://baseurl/v1/tradeorder/trades/:id/updateTradeOrderStatus`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/tradeorder/trades/{id}/updateTradeOrderStatus
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| id: | Number | Trade order id |
| settlementTypeId: | Number | Trade settlement type id. |

```json
{
"id": 1,
"settlementTypeId": 8
}
```

```http
HTTP/1.1 401 Unauthorized
{
"message": "Settlement Type updated successfully."
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Update Trade Settlement Type

This API will update settlementType of trade order.

**PUT** `https://baseurl/v1/tradeorder/trades/:id/action/settlementType`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/tradeorder/trades/{id}/action/settlementType
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| id: | Number | Trade order id |
| settlementTypeId: | Number | Trade settlement type id. |

```json
{
"id": 1,
"settlementTypeId": 8
}
```

```http
HTTP/1.1 401 Unauthorized
{
"message": "Settlement Type updated successfully."
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Upload single file

This API uploadsingle XLS OR XLSX Or CSV file and file have only one header at a time { Account Id Or Account Number, Action, Security, Dollars, Shares }

**POST** `https://baseurl/v1/tradeorder/uploadfile`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/tradeorder/uploadfile
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| document | File | Select XLS/XLSX/CSV file here. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| accountId | Number | The accountId |
| accountNumber | String | The accountNumber |
| action | String | Action that is require on trade |
| securityId | Number | Id of the security which Need to Trade |
| securityName | String | Name of the security which Need to Trade |
| dollars | Number | Dollar amount to spent while trade |
| shares | Number | Shares to be spent while Trade |
| isValid | Boolean | Account Id or Account Number Or Portfolio Id is valid or not |

```http
HTTP/1.1 200 OK
"records": [
{
"error": "",
"isValid": true,
"accId": 1,
"accountId": null,
"actionId":1,
"action":"BUY",
"securityId":1,
"securityName":"APPL",
"dollars":200
},
{
"error": "",
"isValid": true,
"accId": 1,
"accountNumber": 1111,
"actionId":1,
"action":"SELL",
"securityId":1,
"securityName":"APPL",
"shares":12
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |
| Bad_Request | When without request data. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```

```http
HTTP/1.1 400 Bad_Request
{
"message": "Bad Request: Verify request data"
}
```


## Upload single file

This API uploadsingle XLS OR XLSX Or CSV file and file have only one header at a time { Account Id Or Account Number, Action, Security, Dollars, Shares }

**POST** `https://baseurl/v1/tradeorder/fixedIncome/uploadfile`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/tradeorder/fixedIncome/uploadfile
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| document | File | Select XLS/XLSX/CSV file here. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| accountId | Number | The accountId |
| accountNumber | String | The accountNumber |
| action | String | Action that is require on trade |
| securityId | Number | Id of the security which Need to Trade |
| securityName | String | Name of the security which Need to Trade |
| dollars | Number | Dollar amount to spent while trade |
| shares | Number | Shares to be spent while Trade |
| isValid | Boolean | Account Id or Account Number Or Portfolio Id is valid or not |

```http
HTTP/1.1 200 OK
"records": [
{
"error": "",
"isValid": true,
"accId": 1,
"accountId": null,
"actionId":1,
"action":"BUY",
"securityId":1,
"securityName":"APPL",
"dollars":200
},
{
"error": "",
"isValid": true,
"accId": 1,
"accountNumber": 1111,
"actionId":1,
"action":"SELL",
"securityId":1,
"securityName":"APPL",
"shares":12
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |
| Bad_Request | When without request data. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```

```http
HTTP/1.1 400 Bad_Request
{
"message": "Bad Request: Verify request data"
}
```


## Upload Trades

This API upload trades which are import by xlx or csv file

**POST** `https://baseurl/v1/tradeorder/uploadTrades`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/tradeorder/uploadTrades
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| accId | Number | The incremented value of account table |
| accountId | Number | The accountId |
| accountNumber | String | The accountNumber |
| action | String | Action that is require on trade |
| actionId | String | Action Id that is require on trade |
| securityId | Number | Id of the security which Need to Trade |
| securityName | String | Name of the security which Need to Trade |
| dollars | Number | Dollar amount to spent while trade |
| shares | Number | Shares to be spent while Trade |
| isValid | Boolean | Account Id or Account Number Or Portfolio Id is valid or not |

```http
HTTP/1.1 200 OK
[
{
"error": "",
"isValid": true,
"accId": 1,
"accountId": null,
"actionId":1,
"action":"BUY",
"securityId":1,
"securityName":"APPL",
"dollars":200
},
{
"error": "",
"isValid": true,
"accId": 1,
"accountNumber": 1111,
"actionId":1,
"action":"SELL",
"securityId":1,
"securityName":"APPL",
"shares":12
}
]
```

```http
HTTP/1.1 200 Unauthorized
{
"message": "Success"
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |
| Bad_Request | When without request data. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```

```http
HTTP/1.1 400 Bad_Request
{
"message": "Bad Request: Verify request data"
}
```


## Upload Trades

This API upload trades which are import by xlx or csv file

**POST** `https://baseurl/v1/tradeorder/fixedIncome/uploadTrades`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/tradeorder/fixedIncome/uploadTrades
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| accId | Number | The incremented value of account table |
| accountId | Number | The accountId |
| accountNumber | String | The accountNumber |
| action | String | Action that is require on trade |
| actionId | String | Action Id that is require on trade |
| securityId | Number | Id of the security which Need to Trade |
| securityName | String | Name of the security which Need to Trade |
| dollars | Number | Dollar amount to spent while trade |
| shares | Number | Shares to be spent while Trade |
| isValid | Boolean | Account Id or Account Number Or Portfolio Id is valid or not |

```http
HTTP/1.1 200 OK
[
{
"error": "",
"isValid": true,
"accId": 1,
"accountId": null,
"actionId":1,
"action":"BUY",
"securityId":1,
"securityName":"APPL",
"dollars":200
},
{
"error": "",
"isValid": true,
"accId": 1,
"accountNumber": 1111,
"actionId":1,
"action":"SELL",
"securityId":1,
"securityName":"APPL",
"shares":12
}
]
```

```http
HTTP/1.1 200 Unauthorized
{
"message": "Success"
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |
| Bad_Request | When without request data. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```

```http
HTTP/1.1 400 Bad_Request
{
"message": "Bad Request: Verify request data"
}
```


## Validate Trade

This API validate trade order.

**POST** `https://baseurl/v1/tradeorder/trades/validate`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/tradeorder/trades/validate
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| accountId | Number | Account id |
| portfolioId: | Number | Portfolio id. |
| actionId: | String | Action id |
| security_id: | Number | security id. |
| isAutoAllocate: | Boolean | Trade isAutoAllocate. |
| dollarAmount: | Number | Dollar amount to be spent for buy or sell |
| quantity: | Number | Number of shares to be sell or buy |
| percentage: | Decimal | The percent of position being sold or buy |

```json
{
"accountId": 9006,
"portfolioId": 15,
"actionId": 1,
"securityId": 14630,
"dollarAmount": 0,
"quantity": 0,
"percentage": 0,
"isAutoallocate": 0
}
```

```http
HTTP/1.1 200 OK
{
"message": Trade validate successfully,
"tradeAmount": 122,
"cashValuePostTrade":12,
"warningMessage":["The selected buy amount will overspend cash. The current cash value is= 7990.9"]
}
```

```http
HTTP/1.1 200 OK
{
"message": Trade validate successfully,
"tradeAmount": 122,
"cashValuePostTrade":12,
"warningMessage":[]
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


---

# Advisors


## Get All Advisors

This API gets advisor list.

**GET** `https://baseurl/v1/admin/advisors`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/admin/advisors
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | String | The advisor Id. |
| name | String | Name of the Advisor. |
| isDeleted | Boolean | Advisor exist or not into the system. |
| createdOn | Date | Advisor creation date into application. |
| createdBy | Number | Full Name of user who created the Advisor into the system. |
| editedOn | Date | Advisor edited date into application. |
| editedBy | Number | Full Name of user who edited the Advisor details into the system. |

```http
HTTP/1.1 200 OK
[
{
"id": 12,
"name": "Todd Bertucci",
"isDeleted": 0,
"createdOn": "2016-06-17T05:57:22.000Z",
"createdBy": 0,
"editedOn": "2016-06-17T05:57:22.000Z",
"editedBy": 0
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Search Advisors

This API search advisor.

**GET** `https://baseurl/v1/admin/advisors?search={id/name}`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/admin/advisors?search=12
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | String | The advisor Id. |
| externalId | String | The advisor orion connect external Id. |
| name | String | Name of the Advisor. |
| isDeleted | Boolean | Advisor exist or not into the system. |
| createdOn | Date | Advisor creation date into application. |
| createdBy | Number | Full Name of user who created the Advisor into the system. |
| editedOn | Date | Advisor edited date into application. |
| editedBy | Number | Full Name of user who edited the Advisor details into the system. |

```http
HTTP/1.1 200 OK
[
{
"id": 12,
"externalId":344,
"name": "Todd Bertucci",
"isDeleted": 0,
"createdOn": "2016-06-17T05:57:22.000Z",
"createdBy": 0,
"editedOn": "2016-06-17T05:57:22.000Z",
"editedBy": 0
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


---

# Portfolios


## Add New Portfolio

This API Adds New Portfolio.

**POST** `https://baseurl/v1/portfolio/portfolios/`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/portfolio/portfolios/
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| name | String | Name of the Portfolio. |
| modelId | Number | Model Id. |
| isSleevePortfolio | Boolean | Sleeve Portfolio - 0/1(true/false). |
| doNotTrade | Boolean | Do not trade Portfolio - 0/1(true/false). |
| tags | String | Portfolio tags. |
| teamIds | Array | Team ids of Portfolio. |
| primaryTeamId | Number | Primary team id of Portfolio. |
| tradingInstruction | String | Trading Instructions. |
| rebalanceOptionId | Number | Auto-Rebalance option Id for Portfolio. |
| rebalanceDay | Number | Auto-Rebalance day for Portfolio (In between 1 to 31). |

```json
{
"name": "Demo Portfolio",
"modelId": 1,
"isSleevePortfolio": false,
"doNotTrade": 0,
"tags": "test",
"teamIds": [
1,
2,
5
],
"primaryTeamId": 1,
"tradingInstruction": "Trading Instruction",
"rebalanceOptionId": 1,
"rebalanceDay": 1
}
```

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The Portfolio id. |
| general | JSON | General information of the Portfolio. |
| -portfolioName | String | Name of the Portfolio. |
| -sleevePortfolio | Boolean | True/False  Portfolio is Sleeved. |
| -custodialAccountNumber | String | Custodial Account Number. |
| -registrationId | String | Registration Id. |
| -sleeveStrategy | String | Sleeve Strategy. |
| -contributionMethod | String | Contribution Method. |
| -distributionMethod | String | Distribution Method. |
| -modelId | Number | Model Id. |
| -modelName | String | Name of Model. |
| -autoRebalance | String | Auto Rebalance option - None/Annual/Semi-Annual/Quarterly/Monthly. |
| -monthAndDate | Date | Auto Rebalance Month &amp; Date. |
| -rebalanceTypeId | Number | Auto-Rebalance type Id of Portfolio. |
| -rebalanceType | String | Auto-Rebalance type name of Portfolio. |
| -rebalanceOptionId | Number | Auto-Rebalance option Id of Portfolio. |
| -rebalanceOption | String | Auto-Rebalance option name of Portfolio. |
| -rebalanceDay | Number | Auto-Rebalance day of Portfolio. |
| -doNotTrade | Boolean | Do not trade Portfolio - 0/1(true/false). |
| -tradingInstruction | String | Trading Instruction. |
| -sellEmphasisOn | Number | Sell Emphasis. |
| -buyEmphasisOn | Number | Buy Emphasis. |
| -tags | String | Portfolio tags. |
| teams | Array | Teams of the Portfolio. |
| -id | Number | Team Id. |
| -name | String | Team Name. |
| -isPrimary | Boolean | True/False  Team is Primary. |
| -portfolioAccess | Boolean | True/False  Team has limited Portfolio Access. |
| issues | JSON | Issues In Portfolio. |
| -outOfTolerance | Number | Out of Tolerance of Portfolio - in Percentage. |
| -cashNeed | Number | Portfolio's cash need amount. |
| -setForAutoRebalance | Boolean | True/False  Whether the Portfolio is set for Auto rebalance. |
| -contribution | Number | Portfolio's contribution amount. |
| -distribution | Number | Portfolio's distribution amount. |
| -modelAssociation | Boolean | True/False  Whether the model is associated with Portfolio. |
| -TLHOpportunity | Boolean | True/False  Whether the Portfolio has TLH Opportunity. |
| -dataErrors | Number | Count of import errors (if any). |
| -pendingTrades | Number | Number of pending trades under Portfolio. |
| summary | JSON | Portfolio summary. |
| -analyticsOn | Date | Analytics Date. |
| -AUM | JSON | Portfolio's AUM(Assets Under Management) information. |
| --total | Number | Portfolio AUM total (totalValue + totalCash). |
| --totalValue | Number | Total Portfolio Value (Managed Value + Excluded Value). |
| --managedValue | Number | Portfolio value managed by user. |
| --excludedValue | Number | Portfolio value not managed by current user. |
| --totalCash | JSON | Total Portfolio cash information. |
| ---total | Number | Total Portfolio cash (cash + reserve + setAsideCash). |
| ---reserve | Number | Min cash value that Portfolio needs to hold to be active. |
| ---cash | Number | Cash (held by Portfolio) managed by user. |
| ---setAsideCash | Number | Portfolio's aside cash. |
| -realized | JSON | Realized Portfolio information. |
| --totalStatus | String | Realized total value status for Gain, Loss and no Gain/Loss ["high", "low", "no"]. |
| --shortTerm | Number | Realized short term value. |
| --shortTermStatus | String | Realized short term value status for Gain, Loss and no Gain/Loss ["high", "low", "no"]. |
| --longTerm | Number | Realized long term value. |
| --longTermStatus | String | Realized long term value status for Gain, Loss and no Gain/Loss ["high", "low", "no"]. |
| -reserveCashTarget | Number | Sum of Reserve Cash Targets of the associated accounts. |
| -reserveCashActual | Number | Sum of Reserve Cash Actual values for the associated accounts. |
| -targetCash | Number | The target of cash for the total portfolio. |
| -currentCash | Number | Total amount of custodial cash securities added up amongst all accounts in the portfolio. |
| -pendingCash | Number | Sum of Pending Cash $ for all the associated accounts. |
| isDisabled | Boolean | Portfolio is disabled or not - (0 or 1). |
| isDeleted | Boolean | Portfolio exist or not into the system. |
| createdOn | Date | Portfolio creation date into application. |
| createdBy | String | Full Name of user who created the Portfolio into the system. |
| editedOn | Date | Portfolio edited date into application. |
| editedBy | String | Full Name of user who edited the Portfolio details into the system. |

```http
HTTP/1.1 201 OK
{
"id":13,
"general" : {
"portfolioName" : "Demo Portfolio",
"sleevePortfolio" : false,
"custodialAccountNumber": 0,
"registrationId": 0,
"sleeveStrategy": "sleeveStrategy",
"contributionMethod": "contributionMethod",
"distributionMethod": "distributionMethod",
"modelId" : 1,
"modelName" : "My Model",
"autoRebalance": 0,
"monthAndDate": "2016-08-30",
"rebalanceTypeId": null,
"rebalanceType": null,
"rebalanceOptionId": null,
"rebalanceOption": null,
"rebalanceDay": 1,
"doNotTrade": 0,
"tradingInstruction": "Trade Instruction",
"sellEmphasisOn": 5,
"buyEmphasisOn": 4,
"tags" : "test"
},
"teams" : [{
"id" : 1,
"name" : "Team-One",
"isPrimary" : true,
"portfolioAccess" : 0
},{
"id" : 2,
"name" : "Team-Two",
"isPrimary" : false,
"portfolioAccess" : 0
},{
"id" : 5,
"name" : "Team-Five",
"isPrimary" : false,
"portfolioAccess" : 0
}],
"issues" : {
"outOfTolerance" : 12,
"cashNeed" : 1200,
"setForAutoRebalance" : true,
"contribution" : 100,
"distribution" : 4000,
"modelAssociation" : true,
"doNotTrade" : 0,
"TLHOpportunity" : false,
"dataErrors" : 15,
"pendingTrades" : 7
},
"summary" : {
"analyticsOn": "2016-08-30T06:19:20.000Z",
"AUM" : {
"total" : 4000,
"totalValue" : 2250,
"managedValue" : 1250,
"excludedValue" : 1000,
"totalCash" : {
"total" : 1750,
"reserve" : 1000,
"cash" : 500,
"setAsideCash" : 250
}
},
"realized" : {
"total" : 400,
"totalStatus": "high",
"shortTerm" : 500,
"shortTermStatus":"high",
"longTerm" : 100,
"longTermStatus":"low"
},
"reserveCashTarget": 0,
"reserveCashActual": 0,
"targetCash": 0,
"currentCash": 0,
"pendingCash": 0
},
"isDisabled": 0,
"isDeleted": 0,
"createdOn": "0000-00-00 00:00:00",
"createdBy": "ETL ETL",
"editedOn": "0000-00-00 00:00:00",
"editedBy": "ETL ETL"
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |
| Bad_Request | When without request data. |
| Not_Found | When Portfolio does not exist. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```

```http
HTTP/1.1 400 Bad_Request
{
"message": "Bad Request: Verify request data"
}
```

```http
HTTP/1.1 404 Not_Found
{
"message": "Portfolio does not exist"
}
```


## Assign Portfolio to Accounts

This API Assign Portfolio to Accounts.

**POST** `https://baseurl/v1/portfolio/portfolios/:id/accounts`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/portfolio/portfolios/13/accounts
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| accountIds | Array | Accounts ids. |

```json
{
"accountIds": [
1120129,
2324242
]
}
```

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| message | String | Success message. |

```http
HTTP/1.1 200 OK
{
"message": "Portfolio assigned to accounts successfully"
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |
| Bad_Request | When without request data. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```

```http
HTTP/1.1 400 Bad_Request
{
"message": "Bad Request: Verify request data"
}
```


## check to see if the portfolio has a pending model change

This API gets and models pending for the portfolio.

**GET** `https://baseurl/v1/portfolio/portfolios/:id/pending/models`

```bash
curl -i http://baseurl/v1/portfolio/portfolios/1/pending/models
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| portfolioId | Number | The Portfolio id. |
| modelId | Number | The Portfolio id. |
| createdDate | date | The Portfolio id. |

```http
HTTP/1.1 200 OK
{
"portfolioId": 11217157,
"modelId": 1234,
"createdOn": "2017-01-10T10:44:47.000Z"
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Delete Portfolio

This API deletes Portfolio (Soft Delete).

**DELETE** `https://baseurl/v1/portfolio/portfolios/:id`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/portfolio/portfolios/15
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| message | String | Success message. |

```http
HTTP/1.1 200 OK
{
"message": "Portfolio deleted successfully"
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |
| Not_Found | When Portfolio does not exist or already deleted. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```

```http
HTTP/1.1 404 Not_Found
{
"message": "Portfolio does not exist or already deleted"
}
```


## fetching MAC Securities total tolerances

This API gets Tolerance values for the portfolio and Account.

**GET** `https://baseurl/v1/portfolio/portfolios/:id/ModelMACTolerance/:accountId`

```bash
curl -i http://baseurl/v1/portfolio/portfolios/:id/ModelMACTolerance/:accountId?accountType=Normal/Sleeve
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| portfolioId | Number | The Portfolio id. |
| accountId | Number | The account id. |

```http
HTTP/1.1 200 OK
[]
"MACFund": {
"AllocationPercentage": 19,
"currentAmount": 35712.71,
"currentPercentage": 2.9137,
"lowerModelToleranceAmount": 232878.592281,
"postTradeAmount": 40712.71,
"postTradePer": 3.3217,
"targetAllocationAmount": 232878.592281,
"targetAllocationPercentage": 19,
"targetAmount": 232878.592281,
"targetPercentage": 200,
"upperModelToleranceAmount": 232878.592281
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get &amp; Search Portfolio List With Holding Value

This API gets list of all Portfolios(Simple).

**GET** `https://baseurl/v1/portfolio/portfolios/simple?includevalue=true`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/portfolio/portfolios/simple?includevalue=true
curl -i http://baseurl/v1/portfolio/portfolios/simple?includevalue=true&search=1
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The Portfolio id. |
| name | String | Name of the Portfolio. |
| tags | String | Tags of the Portfolio. |
| source | String | Source Name. |
| value | Number | Holding value associated with Portfolio. |
| accountId | String | The account Id. |
| accountNumber | String | Account Number. |
| accountName | String | Account Name. |
| modelId | Number | Associated Model Id. |
| sleevePortfolio | Boolean | True/False  Portfolio is Sleeved. |
| isDeleted | Boolean | Portfolio exist or not into the system. |
| createdOn | Date | Portfolio creation date into application. |
| createdBy | String | Id of user who created the Portfolio into the system. |
| editedOn | Date | Portfolio edited date into application. |
| editedBy | String | Id of user who edited the Portfolio details into the system. |

```http
HTTP/1.1 200 OK
[
{
"id": 1,
"name": "Test Portfolio",
"tags": "#Ameritrade,test",
"source": "Team",
"value": 38500,
"accountId": null,
"accountNumber": null,
"accountName": null,
"modelId": 1,
"sleevePortfolio": 0,
"isDeleted": 0,
"createdOn": "2016-06-17T05:57:22.000Z",
"createdBy": 0,
"editedOn": "2016-06-17T05:57:22.000Z",
"editedBy": 0
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get Account List by Portfolio Id

This api will be used to get all account list by portfolio Id.

**GET** `https://baseurl/v1/portfolio/portfolios/:id/accounts/detailed`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/portfolio/portfolios/11217198/accounts/detailed
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | System Generated Id. |
| name | String | Account Name. |
| accountNumber | String | Account Number. |
| accountId | String | Account Id. |
| accountType | String | Account Type. |
| portfolio | String | Portfolio Name. |
| custodian | String | Custodian Name. |
| value | Number | Total value. |
| managedValue | Number | Total Managed Value. |
| excludedValue | Number | Total Excluded Value. |
| pendingValue | Number | Total Pending Value. |
| washSaleGroup | String | Wash Sale Group Value. |
| style | String | Name of the style. |
| model | String | Model Name associated on Account. |
| sleeveType | String | Sleeve Type detail. |
| distributionAmount | Number | Distribution Amount. |
| contributionAmount | Number | Contribution Amount. |
| mergeIn | Number | Account in mergeIn detail. |
| mergeOut | Number | Account in mergeOut detail. |
| cashNeedAmount | Number | Cash need amount detail. |
| systematicAmount | Number | Systematic amount detail. |
| systematicDate | Date | Systematic Date. |
| sma | String | Single manage account detail. |
| status | String | Status. |
| reason | String | Reason. |
| pendingTrades | String | Pending trades detail. |
| eclipseCreatedDate | Date | Eclipse created date. |
| reserveCashActual | Number | Reserve cash Actal. |
| reserveCashTarget | Number | Reserve cash Target. |
| setAsideCashTarget | Number | SetAside cash Target. |
| setAsideCashActual | Number | SetAside cash Actual. |
| targetCash | Number | Target cash detail. |
| targetCashPercent | Number | Target cash percent. |
| currentCash | Number | Current cash. |
| currentCashPercent | Number | Current cash percent. |
| pendingCashValue | Number | Pending cash value. |
| pendingCashPercent | Number | Pending cash percent. |
| cashNeedPercent | Number | Cash need percent. |
| pendingValuePercent | Number | Pending value percent. |
| createdOn | Date | Account creation date into application. |
| createdBy | String | Id of user who created the Account into the system. |
| editedOn | Date | Account edited date into application. |
| editedBy | String | Id of user who edited the Account details into the system. |

```http
HTTP/1.1 200 OK
[
{
"id": 68,
"accountNumber": "L024-ELPMAS",
"accountType": "IRA",
"accountId": "477_377",
"name": "Van Dyke Dick",
"portfolio": "Van Dyke, Dick and Arlene",
"custodian": "TD Ameritrade",
"value": 131421.77,
"managedValue": 127444.41,
"excludedValue": 3977.36,
"pendingValue": 127444.41,
"washSaleGroup": "xxxxxxx0008",
"style": "Neutral",
"model": "Model 55",
"sleeveType": "None",
"distributionAmount": 0,
"contributionAmount": 0,
"mergeIn": 0,
"mergeOut": 0,
"cashNeedAmount": 11141.3,
"systematicAmount": 0,
"systematicDate": null,
"sma": "No",
"status": "Warning",
"reason": "New Account",
"pendingTrades": "Yes",
"eclipseCreatedDate": null,
"reserveCashActual": 0,
"reserveCashTarget": 0,
"setAsideCashTarget": 0,
"setAsideCashActual": 0,
"targetCash": 0,
"targetCashPercent": 0,
"currentCash": 0,
"currentCashPercent": 0,
"pendingCashValue": 0,
"pendingCashPercent": 0,
"cashNeedPercent": 0,
"pendingValuePercent": 0,
"createdOn": "2017-02-02T10:56:45.000Z",
"createdBy": null,
"editedOn": "2017-02-14T02:37:43.000Z",
"editedBy": null
}]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get count of Accounts with Portfolio

This API gets count of Accounts with Portfolio

**GET** `https://baseurl/v1/portfolio/portfolios/:id/accounts/summary`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/portfolio/portfolios/13/accounts/summary
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| count | Number | Total number of Accounts with Portfolio. |

```http
HTTP/1.1 200 OK
{
"count" : 2
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |
| Bad_Request | When without request data. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```

```http
HTTP/1.1 400 Bad_Request
{
"message": "Bad Request: Verify request data"
}
```


## Get Group by Level based on Portfolio Id

This API gets Group by Level based on Portfolio Ids

**POST** `https://baseurl/v1/portfolio/portfolios/levels`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/portfolio/portfolios/levels
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| portfolioIds | Array | portfolio ids. |

```json
{
"portfolioIds": [
1120129,
2324242
]
}
```

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | System Generated Id. |
| levelName | String | Level Name. |
| levelRelatedType | String | Level Related Type. |

```http
HTTP/1.1 200 OK
[
{
"id": "2",
"levelName": "Level 2",
"levelRelatedType": "TYPE1"
},
{
"id": "1",
"levelName": "Level 1",
"levelRelatedType": "TYPE2"
},
{
"id": "0",
"levelName": "Entire Model",
"levelRelatedType": "ENTIREMODEL"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```


## Get list of all Accounts of Portfolio (Simple)

This API gets list of all Accounts (only id, orion accountId andname) of Portfolio.

**GET** `https://baseurl/v1/portfolio/portfolios/:id/accounts/simple`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/portfolio/portfolios/13/accounts
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | System Generated Id. |
| accountId | String | Account Id. |
| name | String | Account Name. |
| accountNumber | String | Account Number. |
| accountType | String | Account Type. |
| custodian | String | Custodian Name. |

```http
HTTP/1.1 200 OK
[
{
"id": 86046,
"accountId": "477_438",
"name": "Greene Nate and Katherine",
"accountNumber": "L59C-ELPMAS",
"accountType": "IND",
"custodian": "Schwab"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```


## Get list of all Accounts of Portfolio By Ids

This API gets list of all Accounts of Portfolio By Ids

**POST** `https://baseurl/v1/portfolio/portfolios/accounts/simple/list`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/portfolio/portfolios/accounts/simple/list
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| ids | Array | portfolio ids. |

```json
{
"ids": [
1120129,
2324242
]
}
```

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | System Generated Id. |
| accountId | String | Account Id. |
| portfolioId | Number | Portfolio Id |
| name | String | Account Name. |
| accountNumber | String | Account Number. |
| accountType | String | Type of Account. |
| model | String | Assigned Model Name. |
| managementStyle | String | Management Style - derived from assigned Model. |
| managedValue | Number | Value managed by user. |
| excludedValue | Number | Value not managed by current user. |
| totalValue | Number | Sum of values for all holdings. |
| pendingValue | Number | ManagedValue +/- Enabled TradeOrders. |
| sleeveType | String | Account Sleeve Type. |
| sleeveTarget | Number | Target percent for each sleeve. |
| sleeveContributionPercent | Number | Contribution percent for each sleeve. |
| sleeveDistributionPercent | Number | Distribution percent for each sleeve. |
| sleeveToleranceLower | Number | Lower Tolerance level for each sleeve. |
| sleeveToleranceUpper | Number | Upper Tolerance level for each sleeve. |
| status | String | Will contain an icon for [Ok,Warning,Error]. |
| statusInfo | String | Status information for user. |
| custodianName | String | Custodian Name. |
| isSMA | Boolean | Account is sma - true or false (1 or 0). |
| isDeleted | Boolean | Portfolio exist or not into the system. |
| createdOn | Date | Portfolio creation date into application. |
| createdBy | String | Id of user who created the Portfolio into the system. |
| editedOn | Date | Portfolio edited date into application. |
| editedBy | String | Id of user who edited the Portfolio details into the system. |
| pendingValuePercent | Number | Pending Value Percent detail. |
| cashNeedAmount | Number | Cash Need Amount. |
| cashNeedPercentage | Number | Cash Need Percentage. |
| taxQualification | String | TaxQualification detail. |

```http
HTTP/1.1 200 OK
[
{
"id": 518,
"accountId": "626",
"portfolioId" : "1234",
"name": "Ameritrade Mary",
"accountNumber": "L0A0009959",
"accountType": "ROTH",
"model": null,
"managementStyle": null,
"managedValue": 207202.7,
"excludedValue": 25721.41,
"totalValue": 232924.10825,
"pendingValue": 207202.68696,
"sleeveType": "None",
"sleeveTarget": 0,
"sleeveContributionPercent": 0,
"sleeveDistributionPercent": 0,
"sleeveToleranceLower": 0,
"sleeveToleranceUpper": 0,
"status": "Ok",
"statusInfo": null,
"modelId": null,
"custodianName": "TD Ameritrade",
"isSMA": 0,
"pendingValuePercent": 100,
"cashNeedAmount": 0,
"cashNeedPercentage": 0,
"custodian": null,
"taxQualification": null,
"isDeleted": 0,
"createdOn": "2017-03-31T04:18:59.000Z",
"createdBy": "primetgi",
"editedOn": "2017-03-31T04:43:46.000Z",
"editedBy": "primetgi"
}]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```


## Get list of all Accounts of Portfolio

This API gets list of all Accounts of Portfolio.

**GET** `https://baseurl/v1/portfolio/portfolios/:id/accounts`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/portfolio/portfolios/13/accounts
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | System Generated Id. |
| accountId | String | Account Id. |
| name | String | Account Name. |
| accountNumber | String | Account Number. |
| accountType | String | Type of Account. |
| model | String | Assigned Model Name. |
| managementStyle | String | Management Style - derived from assigned Model. |
| managedValue | Number | Value managed by user. |
| excludedValue | Number | Value not managed by current user. |
| totalValue | Number | Sum of values for all holdings. |
| pendingValue | Number | ManagedValue +/- Enabled TradeOrders. |
| sleeveType | String | Account Sleeve Type. |
| sleeveTarget | Number | Target percent for each sleeve. |
| sleeveContributionPercent | Number | Contribution percent for each sleeve. |
| sleeveDistributionPercent | Number | Distribution percent for each sleeve. |
| sleeveToleranceLower | Number | Lower Tolerance level for each sleeve. |
| sleeveToleranceUpper | Number | Upper Tolerance level for each sleeve. |
| status | String | Will contain an icon for [Ok,Warning,Error]. |
| statusInfo | String | Status information for user. |
| custodianName | String | Custodian Name. |
| isSMA | Boolean | Account is sma - true or false (1 or 0). |
| isDeleted | Boolean | Portfolio exist or not into the system. |
| createdOn | Date | Portfolio creation date into application. |
| createdBy | String | Id of user who created the Portfolio into the system. |
| editedOn | Date | Portfolio edited date into application. |
| editedBy | String | Id of user who edited the Portfolio details into the system. |
| pendingValuePercent | Number | Pending Value Percent detail. |
| cashNeedAmount | Number | Cash Need Amount. |
| cashNeedPercentage | Number | Cash Need Percentage. |
| taxQualification | String | TaxQualification detail. |
| reserveCashActual | Number | Reserve cash Actual. |
| reserveCashTarget | Number | Reserve cash Target. |
| setAsideCashTarget | Number | SetAside cash Target. |
| setAsideCashActual | Number | SetAside cash Actual. |
| targetCash | Number | Target cash detail. |
| targetCashPercent | Number | Target cash percent. |
| currentCash | Number | Current cash. |
| currentCashPercent | Number | Current cash percent. |
| pendingCashValue | Number | Pending cash value. |
| pendingCashPercent | Number | Pending cash percent. |

```http
HTTP/1.1 200 OK
[
{
"id": 518,
"accountId": "626",
"name": "Ameritrade Mary",
"accountNumber": "L0A0009959",
"accountType": "ROTH",
"model": null,
"managementStyle": null,
"managedValue": 207202.7,
"excludedValue": 25721.41,
"totalValue": 232924.10825,
"pendingValue": 207202.68696,
"sleeveType": "None",
"sleeveTarget": 0,
"sleeveContributionPercent": 0,
"sleeveDistributionPercent": 0,
"sleeveToleranceLower": 0,
"sleeveToleranceUpper": 0,
"status": "Ok",
"statusInfo": null,
"modelId": null,
"custodianName": "TD Ameritrade",
"isSMA": 0,
"pendingValuePercent": 100,
"cashNeedAmount": 0,
"cashNeedPercentage": 0,
"custodian": null,
"taxQualification": null,
"reserveCashActual": 0,
"reserveCashTarget": 0,
"setAsideCashTarget": 0,
"setAsideCashActual": 0,
"targetCash": 0,
"targetCashPercent": 0,
"currentCash": 0,
"currentCashPercent": 0,
"pendingCashValue": 0,
"pendingCashPercent": 0,
"isDeleted": 0,
"createdOn": "2017-03-31T04:18:59.000Z",
"createdBy": "primetgi",
"editedOn": "2017-03-31T04:43:46.000Z",
"editedBy": "primetgi"
}]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```


## Get list of all new Portfolios

This API gets list of all new Portfolios.

**GET** `https://baseurl/v1/portfolio/portfolios/new`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/portfolio/portfolios/new
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The Portfolio id. |
| name | String | Name of the Portfolio. |
| model | String | Model assigned to Portfolio. |
| sleevePortfolio | Boolean | True/False  Portfolio is Sleeved. |
| team | String | Primary Team of Portfolio. |
| managedValue | Number | Portfolio value managed by user. |
| excludedValue | Number | Portfolio value not managed by current user. |
| cashReserve | Number | Min cash value that Portfolio needs to hold to be active. |
| cash | Number | Cash (held by Portfolio) managed by user(value in $). |
| reserveCashTarget | Number | Sum of Reserve Cash Targets of the associated accounts. |
| reserveCashActual | Number | Sum of Reserve Cash Actual values for the associated accounts. |
| targetCash | Number | The target of cash for the total portfolio. |
| currentCash | Number | Total amount of custodial cash securities added up amongst all accounts in the portfolio. |
| pendingCash | Number | Sum of Pending Cash $ for all the associated accounts. |
| isDeleted | Boolean | Portfolio exist or not into the system. |
| createdOn | Date | Portfolio creation date into application. |
| createdBy | String | Id of user who created the Portfolio into the system. |
| editedOn | Date | Portfolio edited date into application. |
| editedBy | String | Id of user who edited the Portfolio details into the system. |

```http
HTTP/1.1 200 OK
[ {
"id": 1,
"name": "Demo Portfolio",
"model": "Demo Model",
"sleevePortfolio": 1,
"team": "1022 team1",
"managedValue": 0,
"excludedValue": 0,
"cashReserve": 48,
"cash": 0,
"reserveCashTarget": 0,
"reserveCashActual": 0,
"targetCash": 0,
"currentCash": 0,
"pendingCash": 0,
"isDeleted": 0,
"createdOn": "2016-08-30T10:33:19.000Z",
"createdBy": 66,
"editedOn": "2016-09-27T13:25:43.000Z",
"editedBy": 66
} ]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get list of all Portfolios by filter

This API gets list of all Portfolios by filter.

**GET** `https://baseurl/v1/portfolio/portfolios?filter={Portfolio_Filter_Id}`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/portfolio/portfolios?filter=1
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The Portfolio id. |
| name | String | Name of the Portfolio. |
| model | String | Model assigned to Portfolio. |
| sleevePortfolio | Boolean | True/False  Portfolio is Sleeved. |
| team | String | Primary Team of Portfolio. |
| managedValue | Number | Portfolio value managed by user. |
| excludedValue | Number | Portfolio value not managed by current user. |
| totalValue | Number | Total Portfolio Value (Managed Value + Excluded Value). |
| action | String | Actions needed on Portfolio (Rebalance, TLH, Cash Needs etc). |
| tradesPending | Boolean | True/False  Whether trades are pending on this Portfolio. |
| percentDeviations | Number | Percent Deviations of the Portfolio. |
| reserveCashTarget | Number | Sum of Reserve Cash Targets of the associated accounts. |
| reserveCashActual | Number | Sum of Reserve Cash Actual values for the associated accounts. |
| setAsideCashTarget | Number | Sum of Set Aside Cash Targets for the associated accounts. |
| setAsideCashActual | Number | Sum of Set Aside Cash Actual values for the associated accounts. |
| targetCash | Number | The target of cash for the total portfolio. |
| targetCashPercent | Number | Target Cash in terms of percent(%) of Portfolio Managed Value. |
| currentCash | Number | Total amount of custodial cash securities added up amongst all accounts in the portfolio. |
| currentCashPercent | Number | Current Cash in terms of percent(%) of Portfolio Managed Value. |
| pendingCash | Number | Sum of Pending Cash($) for all the associated accounts. |
| pendingCashPercent | Number | Pending Cash in terms of percent(%) of Portfolio Managed Value. |
| cashOverage | Number | Total cash need $ for all associated accounts that have cash overage. |
| cashOveragePercent | Number | Cash Overage in terms of percent(%) of Portfolio Managed Value. |
| cashUnderage | Number | Total cash need $ for all associated accounts that have cash underage. |
| cashUnderagePercent | Number | Cash Underage in terms of percent(%) of Portfolio Managed Value. |
| pendingValue | Number | Pending Value of all the holdings associated with the Portfolio. |
| pendingValuePercent | Number | Pending Value in terms of percent(%) of Portfolios Managed Value. |
| autoRebalanceDate | Date | Next Auto Rebalance date. |
| OUB | Boolean | True/False  Whether Portfolio is currently Out of Balance. |
| contribution | Number | Portfolio contribution. |
| tradeBlocked | Boolean | True/False  Whether trades are blocked on this Portfolio. |
| status | String | will contain an icon for [Ok,Warning,Error] |
| statusInfo | String | Status information for user. |
| TLH | Boolean | True/False  Tax loss harvesting. |
| style | String | Style (from the assigned model). |
| lastRebalancedOn | Date | Last Rebalanced Date. |
| isDisabled | Boolean | Portfolio is disabled or not - (0 or 1). |
| isDeleted | Boolean | Portfolio exist or not into the system. |
| createdOn | Date | Portfolio creation date into application. |
| createdBy | String | Id of user who created the Portfolio into the system. |
| editedOn | Date | Portfolio edited date into application. |
| editedBy | String | Id of user who edited the Portfolio details into the system. |

```http
HTTP/1.1 200 OK
[
{
"id" : 1,
"name" : "Test Portfolio",
"model" : "aggressive",
"team" : "Team-One" ,
"managedValue" : 100000,
"excludedValue" : 90000,
"totalValue" : 190000,
"action" : "Rebalance",
"tradesPending" : true,
"percentDeviations": 5,
"reserveCashTarget": 0,
"reserveCashActual": 0,
"setAsideCashTarget": 0,
"setAsideCashActual": 0,
"targetCash": 0,
"targetCashPercent": 0,
"currentCash": 0,
"currentCashPercent": 0,
"pendingCash": 0,
"pendingCashPercent": 0,
"cashOverage": 0,
"cashOveragePercent": 0,
"cashUnderage": 0,
"cashUnderagePercent": 0,
"pendingValue": 0,
"pendingValuePercent": 0,
"autoRebalanceDate": "0000-00-00",
"OUB": true,
"contribution": 1000,
"tradeBlocked": true,
"status": "ok",
"statusInfo": "Status Info",
"TLH": true,
"style": "style",
"lastRebalancedOn": "0000-00-00",
"isDisabled": 0,
"isDeleted": 0,
"createdOn": "0000-00-00 00:00:00",
"createdBy": "ETL ETL",
"editedOn": "0000-00-00 00:00:00",
"editedBy": "ETL ETL"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get list of all Portfolios by HouseholdIds

This API gets list of all Portfolios by HouseholdIds.

**GET** `https://baseurl/v1/portfolio/portfolios?householdIds={Household_Id}`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/portfolio/portfolios?householdIds=1
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The Portfolio id. |
| name | String | Name of the Portfolio. |
| model | String | Model assigned to Portfolio. |
| sleevePortfolio | Boolean | True/False  Portfolio is Sleeved. |
| team | String | Primary Team of Portfolio. |
| managedValue | Number | Portfolio value managed by user. |
| excludedValue | Number | Portfolio value not managed by current user. |
| cashReserve | Number | Min cash value that Portfolio needs to hold to be active. |
| cash | Number | Cash (held by Portfolio) managed by user(value in $). |
| reserveCashTarget | Number | Sum of Reserve Cash Targets of the associated accounts. |
| reserveCashActual | Number | Sum of Reserve Cash Actual values for the associated accounts. |
| targetCash | Number | The target of cash for the total portfolio. |
| currentCash | Number | Total amount of custodial cash securities added up amongst all accounts in the portfolio. |
| pendingCash | Number | Sum of Pending Cash $ for all the associated accounts. |
| isDeleted | Boolean | Portfolio exist or not into the system. |
| createdOn | Date | Portfolio creation date into application. |
| createdBy | String | Id of user who created the Portfolio into the system. |
| editedOn | Date | Portfolio edited date into application. |
| editedBy | String | Id of user who edited the Portfolio details into the system. |

```http
HTTP/1.1 200 OK
[ {
"id": 1,
"name": "Demo Portfolio",
"model": "Demo Model",
"sleevePortfolio": 1,
"team": "1022 team1",
"managedValue": 0,
"excludedValue": 0,
"cashReserve": 48,
"cash": 0,
"reserveCashTarget": 0,
"reserveCashActual": 0,
"targetCash": 0,
"currentCash": 0,
"pendingCash": 0,
"isDeleted": 0,
"createdOn": "2016-08-30T10:33:19.000Z",
"createdBy": 66,
"editedOn": "2016-09-27T13:25:43.000Z",
"editedBy": 66
} ]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get list of all Portfolios Filters

This API gets list of all Portfolios Filters.

**GET** `https://baseurl/v1/portfolio/portfolios/portfolioFilters`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/portfolio/portfolios/portfolioFilters
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The Portfolio id. |
| filter | String | The Portfolio Filter. |
| priority | String | Priority of filter. |
| actionText | String | Filter action Text. |
| portfolioStatusValue | String | The Portfolio Filter Value. |

```http
HTTP/1.1 200 OK
[
{
"id": 1,
"filter": "Out of Tolerance",
"priority": 50,
"actionText": "Assign Model",
"portfolioStatusValue": "getCategoryNoModelForPortfolio"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get list of all Portfolios

This API gets list of all Portfolios.

**GET** `https://baseurl/v1/portfolio/portfolios`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/portfolio/portfolios
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The Portfolio id. |
| name | String | Name of the Portfolio. |
| model | String | Model assigned to Portfolio. |
| modelId | Number | Model Id assigned to the portfolio |
| sleevePortfolio | Boolean | True/False  Portfolio is Sleeved. |
| team | String | Primary Team of Portfolio. |
| managedValue | Number | Portfolio value managed by user. |
| excludedValue | Number | Portfolio value not managed by current user. |
| totalValue | Number | Total Portfolio Value (Managed Value + Excluded Value). |
| action | String | Actions needed on Portfolio (Rebalance, TLH, Cash Needs etc). |
| tradesPending | Boolean | True/False  Whether trades are pending on this Portfolio. |
| percentDeviations | Number | Percent Deviations of the Portfolio. |
| reserveCashTarget | Number | Sum of Reserve Cash Targets of the associated accounts. |
| reserveCashActual | Number | Sum of Reserve Cash Actual values for the associated accounts. |
| setAsideCashTarget | Number | Sum of Set Aside Cash Targets for the associated accounts. |
| setAsideCashActual | Number | Sum of Set Aside Cash Actual values for the associated accounts. |
| targetCash | Number | The target of cash for the total portfolio. |
| targetCashPercent | Number | Target Cash in terms of percent(%) of Portfolio Managed Value. |
| currentCash | Number | Total amount of custodial cash securities added up amongst all accounts in the portfolio. |
| currentCashPercent | Number | Current Cash in terms of percent(%) of Portfolio Managed Value. |
| pendingCash | Number | Sum of Pending Cash($) for all the associated accounts. |
| pendingCashPercent | Number | Pending Cash in terms of percent(%) of Portfolio Managed Value. |
| cashOverage | Number | Total cash need $ for all associated accounts that have cash overage. |
| cashOveragePercent | Number | Cash Overage in terms of percent(%) of Portfolio Managed Value. |
| cashUnderage | Number | Total cash need $ for all associated accounts that have cash underage. |
| cashUnderagePercent | Number | Cash Underage in terms of percent(%) of Portfolio Managed Value. |
| pendingValue | Number | Pending Value of all the holdings associated with the Portfolio. |
| pendingValuePercent | Number | Pending Value in terms of percent(%) of Portfolios Managed Value. |
| autoRebalanceDate | Date | Next Auto Rebalance date. |
| OUB | Boolean | True/False  Whether Portfolio is currently Out of Balance. |
| contribution | Number | Portfolio contribution. |
| tradeBlocked | Boolean | True/False  Whether trades are blocked on this Portfolio. |
| status | String | will contain an icon for [Ok,Warning,Error] |
| statusInfo | String | Status information for user. |
| TLH | Boolean | True/False  Tax loss harvesting. |
| style | String | Style (from the assigned model). |
| cashNeedPercentage | Number | Cash Need Percentage. |
| cashNeedAmount | Number | Cash Need Amount. |
| custodian | String | Custodian detail. |
| tradingInstructions | String | TradingInstructions detail. |
| taxQualification | String | TaxQualification detail. |
| numOfAssociatedAccounts | Number | Num Of Associated Accounts in portfolio.. |
| lastRebalancedOn | Date | Last Rebalanced Date. |
| isDisabled | Boolean | Portfolio is disabled or not - (0 or 1). |
| isDeleted | Boolean | Portfolio exist or not into the system. |
| createdOn | Date | Portfolio creation date into application. |
| createdBy | String | Id of user who created the Portfolio into the system. |
| editedOn | Date | Portfolio edited date into application. |
| editedBy | String | Id of user who edited the Portfolio details into the system. |

```http
HTTP/1.1 200 OK
[
{
"id" : 1,
"name" : "Test Portfolio",
"model" : "aggressive",
"modelId" "34"
"team" : "Team-One" ,
"managedValue" : 100000,
"excludedValue" : 90000,
"totalValue" : 190000,
"action" : "Rebalance",
"tradesPending" : true,
"percentDeviations": 5,
"reserveCashTarget": 0,
"reserveCashActual": 0,
"setAsideCashTarget": 0,
"setAsideCashActual": 0,
"targetCash": 0,
"targetCashPercent": 0,
"currentCash": 0,
"currentCashPercent": 0,
"pendingCash": 0,
"pendingCashPercent": 0,
"cashOverage": 0,
"cashOveragePercent": 0,
"cashUnderage": 0,
"cashUnderagePercent": 0,
"pendingValue": 0,
"pendingValuePercent": 0,
"cashNeedPercentage": -7.38,
"cashNeedAmount": 0,
"custodian":"RTA",
"tradingInstructions":"CRTEY",
"taxQualification":"XYT",
"numOfAssociatedAccounts": 2,
"autoRebalanceDate": "0000-00-00",
"OUB": true,
"contribution": 1000,
"tradeBlocked": true,
"status": "ok",
"statusInfo": "Status Info",
"TLH": true,
"style": "style",
"lastRebalancedOn": "0000-00-00",
"isDisabled": 0,
"isDeleted": 0,
"createdOn": "0000-00-00 00:00:00",
"createdBy": "ETL ETL",
"editedOn": "0000-00-00 00:00:00",
"editedBy": "ETL ETL"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get list of all Portfolios(Simple)

This API gets list of all Portfolios(Simple).

**GET** `https://baseurl/v1/portfolio/portfolios/simple`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/portfolio/portfolios/simple
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The Portfolio id. |
| name | String | Name of the Portfolio. |
| tags | String | Tags of the Portfolio. |
| source | String | Portfolio created by team/advisor. |
| modelId | Number | Associated Model Id. |
| sleevePortfolio | Boolean | True/False  Portfolio is Sleeved. |
| isDeleted | Boolean | Portfolio exist or not into the system. |
| createdOn | Date | Portfolio creation date into application. |
| createdBy | String | Id of user who created the Portfolio into the system. |
| editedOn | Date | Portfolio edited date into application. |
| editedBy | String | Id of user who edited the Portfolio details into the system. |

```http
HTTP/1.1 200 OK
[
{
"id": 1,
"name": "Test Portfolio",
"tags": "#Ameritrade,test",
"source": "Advisor",
"modelId": 1,
"sleevePortfolio": 0,
"isDeleted": 0,
"createdOn": "2016-06-17T05:57:22.000Z",
"createdBy": 0,
"editedOn": "2016-06-17T05:57:22.000Z",
"editedBy": 0
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get list of all Sleeved/Non-Sleeved Portfolios(Simple)

This API gets list of all Sleeved/Non-Sleeved Portfolios(Simple).

**GET** `https://baseurl/v1/portfolio/portfolios/simple?inSleeve={true/false}`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/portfolio/portfolios/simple?inSleeve=true
curl -i http://baseurl/v1/portfolio/portfolios/simple?inSleeve=false
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The Portfolio id. |
| name | String | Name of the Portfolio. |
| tags | String | Tags of the Portfolio. |
| source | String | Portfolio created by team/advisor. |
| modelId | Number | Associated Model Id. |
| sleevePortfolio | Boolean | True/False  Portfolio is Sleeved. |
| isDeleted | Boolean | Portfolio exist or not into the system. |
| createdOn | Date | Portfolio creation date into application. |
| createdBy | String | Id of user who created the Portfolio into the system. |
| editedOn | Date | Portfolio edited date into application. |
| editedBy | String | Id of user who edited the Portfolio details into the system. |

```http
HTTP/1.1 200 OK
[
{
"id": 1,
"name": "Test Portfolio",
"tags": "#Ameritrade,test",
"source": "Advisor",
"modelId": 1,
"sleevePortfolio": 0,
"isDeleted": 0,
"createdOn": "2016-06-17T05:57:22.000Z",
"createdBy": 0,
"editedOn": "2016-06-17T05:57:22.000Z",
"editedBy": 0
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get ModelTolerance

This API get model tolerance of security, category,class and subclass

**GET** `https://baseurl/v1/portfolio/portfolios/{portfolioId}/modelTolerance/:accountId?assetType={securityset/category,class,subClass}&amp;isSleevedPortfolio=0`

```bash
curl -i http://baseurl/v1/portfolio/portfolios/{portfolioId}/modelTolerance/:accountId?assetType={securityset/category,class,subClass}&isSleevedPortfolio=0
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| portfolioId | Number | Protfolio id. |
| portfolioName | String | Portfolio Name. |
| assetId: | Number | Asset id Which can be securityId, classId, subclassId or categoryId. |
| assetName: | String | Asset name Which can be securityName, className, subclassName, categoryName. |
| assetSymbol: | String | Asset symbol same as security symbol not available for others. |
| modelId | Number | Model id. |
| targetInPercentage | Decimal | Target value in percentage. |
| currentInPercentage: | Decimal | Current value in percentage. |
| postTradeInPercentage: | Decimal | Post trade value in percentage. |
| differenceInPercentage: | Decimal | Difference in percentage. |
| lowerModelTolerancePercentage: | Decimal | Lower Model Tolerance in percentage. |
| upperModelTolerancePercentage: | Decimal | Upper Model Tolerance in percentage. |
| outofTolerance | Boolean | Out of tolerance. |
| rangeInPercentage | String | Range in percentage. |
| currentInDollar | Decimal | Current value in dollar amount. |
| targetInDollar | Boolean | Target value in dollar amount. |
| differenceInDollar | Decimal | Difference in dollar. |
| postTradeInDollar | String | Post trade value in dollar. |
| currentInShares | Decimal | Current value in shares. |
| targetInShares | Boolean | Target value in shares. |
| differenceInShares | Decimal | Difference in shares |
| postTradeInShares | Boolean | Post trade value in shares. |

```http
HTTP/1.1 200 OK
[
{
"portfolioId": 1,
"portfolioName": test1
"assetId": 14630,
"assetName": "Int IQ Smart Annuity: Janus Balanced",
"assetSymbol": "ABCD126",
"modelId": 3,
"targetInPercentage": 0,
"currentInPercentage": 22.8,
"postTradeInPercentage": 22.8,
"differenceInPercentage": 0,
"lowerModelTolerancePercentage": 0,
"upperModelTolerancePercentage": 0,
"outofTolerance": 0,
"rangeInPercentage": "0.000-0.000",
"currentInDollar": 16000,
"targetInDollar": 0,
"differenceInDollar": 16000,
"postTradeInDollar": 16000,
"currentInShares": 40,
"targetInShares": 0,
"differenceInShares": 40,
"postTradeInShares": 40,
"isExcluded": 1
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get Out Of Tolerance Portfolios

This API get ot of tolerance portfolios by security, category,class and subclass. asset id can be securityId, categoryId, classId or subclassId. also we beed type of asset inquery string.

**GET** `https://baseurl/v1/portfolio/portfolios/:modelId/outOfTolerance/:assetId?assetType={securityset/category,class,subClass}`

```bash
curl -i http://baseurl/v1/portfolio/portfolios/:modelId/outOfTolerance/:assetId?assetType={securityset/category,class,subClass}
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| portfolioId | Number | Protfolio id. |
| portfolioName | String | Portfolio Name. |
| currentInPercentage: | Decimal | Current value in percentage. |
| postTradeInPercentage: | Decimal | Post trade value in percentage. |
| differenceInPercentage: | Decimal | Difference in percentage. |
| currentInDollar | Decimal | Current value in dollar amount. |
| differenceInDollar | Decimal | Difference in dollar. |
| postTradeInDollar | String | Post trade value in dollar. |
| currentInShares | Decimal | Current value in shares. |
| differenceInShares | Decimal | Difference in shares |
| postTradeInShares | Boolean | Post trade value in shares. |

```http
HTTP/1.1 200 OK
[
{
"portfolioId": 1,
"portfolioName": test1
"currentInPercentage": 22.8,
"postTradeInPercentage": 22.8,
"differenceInPercentage": 0,
"currentInDollar": 16000,
"differenceInDollar": 16000,
"postTradeInDollar": 16000,
"currentInShares": 40,
"differenceInShares": 40,
"postTradeInShares": 40
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get Portfolio Allocations For securities

This api will be used to allocations for securities in portfolio.

**GET** `https://baseurl/v1/portfolio/portfolios/1/allocations?assetType={securityset/category,class,subClass}`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/portfolio/portfolios/1/allocations?assetType={securityset/category,class,subClass}
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| accountId | Number | Protfolio id. |
| id | Number | security id |
| securityId | Number | Portfolio Name. |
| symbol | String | symbol name |
| name | String | Name of security |
| price | Number | price of security |
| modelId | Number | Model id. |
| quantity | Number | Quantity of security |
| value | Decimal | value of security |
| total | Decimal | total. |
| targetInAmt | Decimal | target investment in dollar |
| targetInPercent | Decimal | target investment in percent |
| currentInAmt | Decimal | current investment in dollar |
| currentInPercent | Decimal | current investment in percent. |
| pendingInPercent | Decimal | pending percent. |
| pendingInAmt | Decimal | pending Value. |
| modelDetailId | Number | model detail id and available only when security is in model. |
| modelElementId | Number | model elementid and available only when security is in model. |
| securitySetId | Number | security setid and available only when security is in model. |
| targetPercentUptoSecuritySet | Decimal | target percent upto security set in model and available only when security is in model . |
| categoryId | Number | category id of submodel and available only when security is in model. |
| categoryName | String | category name of submodel and available only when security is in model. |
| classId | Number | class id of submodel and available only when security is in model. |
| className | String | class name of submodel and available only when security is in model. |
| subclassId | Number | subclass name of submodel and available only when security is in model. |
| lowerModelTolerancePercent | Decimal | lower Model Tolerance in percentage and available only when security is in model.. |
| upperModelTolerancePercent | Decimal | upper model tolerance in percentage and available only when security is in model.. |
| assetCategoryIdOfSecurity | Number | asset category id of security and available only when security is in model.. |
| assetCategoryNameOfSecurity | String | asset category name value in dollar amount and available only when security is in model.. |
| assetClassIdOfSecurity | Number | asset class id and available only when security is in model.. |
| assetClassNameOfSecurity | String | asset class id and available only when security is in model.. |
| assetSubClassIdOfSecurity | Number | asset subclass id and available only when security is in model.. |
| assetSubClassNameOfSecurity | String | asset subclass name and available only when security is in model.. |
| isPortfolioSecurity | Boolean | flag to tell whether security is in model or not |

```http
HTTP/1.1 200 OK
[
{
"id": 33848,
"securityId": 33848,
"name": "3M Company",
"symbol": "MMMS",
"price": 209.59,
"quantity": 0,
"value": 0,
"accountId": 29,
"pendingInAmt": 0,
"pendingInPercent": 0,
"currentInPercent": 0,
"isPortfolioSecurity": true,
"targetInAmt": 0,
"targetInPercent": 0,
"currentInAmt": 0
},
{
"securityId": 33928,
"id": 33928,
"name": "DFA Emerging Markets Core Equity",
"symbol": "DFCEX",
"targetInPercent": 10,
"modelDetailId": 12812,
"modelElementId": 4413,
"securitySetId": 773,
"targetPercentUptoSecuritySet": 100,
"categoryId": null,
"categoryName": null,
"classId": null,
"className": null,
"subclassId": null,
"subclassName": null,
"lowerModelTolerancePercent": null,
"upperModelTolerancePercent": null,
"assetCategoryIdOfSecurity": 1,
"assetCategoryNameOfSecurity": "Equity",
"assetClassIdOfSecurity": 25,
"assetClassNameOfSecurity": "Diversified Emerging Mkts",
"assetSubClassIdOfSecurity": 9,
"assetSubClassNameOfSecurity": "Large Core",
"targetInAmt": 0,
"isPortfolioSecurity": false,
"pendingInAmt": 0,
"pendingInPercent": 0,
"currentInAmt": 0,
"currentInPercent": 0
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get Portfolio Contribution Amount

This API return contribution amount for portfolio.

**GET** `https://baseurl/v1/portfolio/portfolios/{portfolioId}/contributionamount`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/portfolio/portfolios/1/contributionamount
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The Portfolio id. |
| amount | Number | Total contribution Amount for portfolio. |

```http
HTTP/1.1 200 OK
[
{
"id": 1,
"amount": 100,
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
HTTP/1.1 404 NOT FOUND
{
"message": "portfolio not found."
}
```


## Get Portfolio Details

This API gets Portfolio Details.

**GET** `https://baseurl/v1/portfolio/portfolios/:id`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/portfolio/portfolios/13
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The Portfolio id. |
| general | JSON | General information of the Portfolio. |
| -portfolioName | String | Name of the Portfolio. |
| -sleevePortfolio | Boolean | True/False  Portfolio is Sleeved. |
| -custodialAccountNumber | String | Custodial Account Number. |
| -registrationId | String | Registration Id. |
| -sleeveStrategy | String | Sleeve Strategy. |
| -contributionMethod | String | Contribution Method. |
| -distributionMethod | String | Distribution Method. |
| -modelId | Number | Model Id. |
| -modelName | String | Name of Model. |
| -autoRebalance | String | Auto Rebalance option - None/Annual/Semi-Annual/Quarterly/Monthly. |
| -monthAndDate | Date | Auto Rebalance Month &amp; Date. |
| -rebalanceTypeId | Number | Auto-Rebalance type Id of Portfolio. |
| -rebalanceType | String | Auto-Rebalance type name of Portfolio. |
| -rebalanceOptionId | Number | Auto-Rebalance option Id of Portfolio. |
| -rebalanceOption | String | Auto-Rebalance option name of Portfolio. |
| -rebalanceDay | Number | Auto-Rebalance day of Portfolio. |
| -doNotTrade | Boolean | Do not trade Portfolio - 0/1(true/false). |
| -tradingInstruction | String | Trading Instruction. |
| -sellEmphasisOn | Number | Sell Emphasis. |
| -buyEmphasisOn | Number | Buy Emphasis. |
| -tags | String | Portfolio tags. |
| teams | Array | Teams of the Portfolio. |
| -id | Number | Team Id. |
| -name | String | Team Name. |
| -isPrimary | Boolean | True/False  Team is Primary. |
| -portfolioAccess | Boolean | True/False  Team has limited Portfolio Access. |
| issues | JSON | Issues In Portfolio. |
| -outOfTolerance | Number | Out of Tolerance of Portfolio - in Percentage. |
| -cashNeed | Number | Portfolio's cash need amount. |
| -setForAutoRebalance | Boolean | True/False  Whether the Portfolio is set for Auto rebalance. |
| -contribution | Number | Portfolio's contribution amount. |
| -distribution | Number | Portfolio's distribution amount. |
| -modelAssociation | Boolean | True/False  Whether the model is associated with Portfolio. |
| -TLHOpportunity | Boolean | True/False  Whether the Portfolio has TLH Opportunity. |
| -dataErrors | Number | Count of import errors (if any). |
| -pendingTrades | Number | Number of pending trades under Portfolio. |
| summary | JSON | Portfolio summary. |
| -analyticsOn | Date | Analytics Date. |
| -AUM | JSON | Portfolio's AUM(Assets Under Management) information. |
| --total | Number | Portfolio AUM total (totalValue + totalCash). |
| --totalValue | Number | Total Portfolio Value (Managed Value + Excluded Value). |
| --managedValue | Number | Portfolio value managed by user. |
| --excludedValue | Number | Portfolio value not managed by current user. |
| --totalCash | JSON | Total Portfolio cash information. |
| ---total | Number | Total Portfolio cash (cash + reserve + setAsideCash). |
| ---reserve | Number | Min cash value that Portfolio needs to hold to be active. |
| ---cash | Number | Cash (held by Portfolio) managed by user. |
| ---setAsideCash | Number | Portfolio's aside cash. |
| -realized | JSON | Realized Portfolio information. |
| --totalStatus | String | Realized total value status for Gain, Loss and no Gain/Loss ["high", "low", "no"]. |
| --shortTerm | Number | Realized short term value. |
| --shortTermStatus | String | Realized short term value status for Gain, Loss and no Gain/Loss ["high", "low", "no"]. |
| --longTerm | Number | Realized long term value. |
| --longTermStatus | String | Realized long term value status for Gain, Loss and no Gain/Loss ["high", "low", "no"]. |
| -reserveCashTarget | Number | Sum of Reserve Cash Targets of the associated accounts. |
| -reserveCashActual | Number | Sum of Reserve Cash Actual values for the associated accounts. |
| -targetCash | Number | The target of cash for the total portfolio. |
| -currentCash | Number | Total amount of custodial cash securities added up amongst all accounts in the portfolio. |
| -pendingCash | Number | Sum of Pending Cash $ for all the associated accounts. |
| isDisabled | Boolean | Portfolio is disabled or not - (0 or 1). |
| isDeleted | Boolean | Portfolio exist or not into the system. |
| createdOn | Date | Portfolio creation date into application. |
| createdBy | String | Full Name of user who created the Portfolio into the system. |
| editedOn | Date | Portfolio edited date into application. |
| editedBy | String | Full Name of user who edited the Portfolio details into the system. |

```http
HTTP/1.1 200 OK
{
"id":13,
"general" : {
"portfolioName" : "Demo Portfolio",
"sleevePortfolio" : false,
"custodialAccountNumber": 0,
"registrationId": 0,
"sleeveStrategy": "sleeveStrategy",
"contributionMethod": "contributionMethod",
"distributionMethod": "distributionMethod",
"modelId" : 1,
"modelName" : "My Model",
"autoRebalance": 0,
"monthAndDate": "2016-08-30",
"rebalanceTypeId": null,
"rebalanceType": null,
"rebalanceOptionId": null,
"rebalanceOption": null,
"rebalanceDay": 1,
"doNotTrade": 0,
"tradingInstruction": "Trade Instruction",
"sellEmphasisOn": 5,
"buyEmphasisOn": 4,
"tags" : "test"
},
"teams" : [{
"id" : 1,
"name" : "Team-One",
"isPrimary" : true,
"portfolioAccess" : 1
},{
"id" : 2,
"name" : "Team-Two",
"isPrimary" : false,
"portfolioAccess" : 1
},{
"id" : 5,
"name" : "Team-Five",
"isPrimary" : false,
"portfolioAccess" : 1
}],
"issues" : {
"outOfTolerance" : 12,
"cashNeed" : 1200,
"setForAutoRebalance" : true,
"contribution" : 100,
"distribution" : 4000,
"modelAssociation" : true,
"doNotTrade" : 0,
"TLHOpportunity" : false,
"dataErrors" : 15,
"pendingTrades" : 7
},
"summary" : {
"analyticsOn": "2016-08-30T06:19:20.000Z",
"AUM" : {
"total" : 4000,
"totalValue" : 2250,
"managedValue" : 1250,
"excludedValue" : 1000,
"totalCash" : {
"total" : 1750,
"reserve" : 1000,
"cash" : 500,
"setAsideCash" : 250
}
},
"realized" : {
"total" : 400,
"totalStatus": "high",
"shortTerm" : 500,
"shortTermStatus":"high",
"longTerm" : 100,
"longTermStatus":"low"
},
"reserveCashTarget": 0,
"reserveCashActual": 0,
"targetCash": 0,
"currentCash": 0,
"pendingCash": 0
},
"isDisabled": 0,
"isDeleted": 0,
"createdOn": "0000-00-00 00:00:00",
"createdBy": "ETL ETL",
"editedOn": "0000-00-00 00:00:00",
"editedBy": "ETL ETL"
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |
| Bad_Request | When without request data. |
| Not_Found | When Portfolio does not exist. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```

```http
HTTP/1.1 400 Bad_Request
{
"message": "Bad Request: Verify request data"
}
```

```http
HTTP/1.1 404 Not_Found
{
"message": "Portfolio does not exist"
}
```


## Get Portfolios List Which is Approved and Balanced Model.

This API to get portfolios list which is approved and balanced model.

**GET** `https://baseurl/v1/portfolio/portfolios/simple?approvedModel=true`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/portfolio/portfolios/simple?approvedModel=true
curl -i http://baseurl/v1/portfolio/portfolios/simple?approvedModel=true&search=10
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The Portfolio id. |
| name | String | Name of the Portfolio. |
| tags | String | Portfolio tags. |
| value | String | Portfolio Value. |
| modelId | Number | Model Id. |
| sleevePortfolio | Boolean | SleevePortfolio detail. |
| doNotTrade | Boolean | DoNotTrade detail. |
| isDisabled | Boolean | IsDisabled detail. |
| isPrimary | Boolean | IsPrimary team assign or not. |
| isAccountsHaving | Boolean | isAccounts having detail. |
| smaCount | Boolean | smaCount |

```http
HTTP/1.1 200 OK
[
{
"id": 1723,
"name": "Thompson, Mara_1472",
"tags": null,
"value": 1404080.0918,
"modelId": null,
"sleevePortfolio": 0,
"doNotTrade": 0,
"isDisabled": 0,
"isPrimary": 1,
"isAccountsHaving": 1,
"smaCount": 0
}]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get Portfolios List Which is disabled also

This API to get portfolios list which is disabled also.

**GET** `https://baseurl/v1/portfolio/portfolios/simple?search=a&amp;includeDisabled=true`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/portfolio/portfolios/simple?search=a&includeDisabled=true
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The Portfolio id. |
| name | String | Name of the Portfolio. |
| tags | String | Portfolio tags. |
| value | String | Portfolio Value. |
| modelId | Number | Model Id. |
| sleevePortfolio | Boolean | SleevePortfolio detail. |
| doNotTrade | Boolean | DoNotTrade detail. |
| isDisabled | Boolean | IsDisabled detail. |
| isPrimary | Boolean | IsPrimary team assign or not. |
| isAccountsHaving | Boolean | isAccounts having detail. |
| smaCount | Boolean | smaCount |

```http
HTTP/1.1 200 OK
[
{
"id": 1723,
"name": "Thompson, Mara_1472",
"tags": null,
"value": 1404080.0918,
"modelId": null,
"sleevePortfolio": 0,
"doNotTrade": 0,
"isDisabled": 0,
"isPrimary": 1,
"isAccountsHaving": 1,
"smaCount": 0
}]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get simple Portfolio by id

This API gets simple Portfolio by id.

**GET** `https://baseurl/v1/portfolio/portfolios/simple/:id`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/portfolio/portfolios/simple/1
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The Portfolio id. |
| name | String | Name of the Portfolio. |
| tags | String | Tags of the Portfolio. |
| model | String | Model assigned to Portfolio. |
| sleevePortfolio | Boolean | True/False  Portfolio is Sleeved. |
| team | String | Primary Team of Portfolio. |
| managedValue | Number | Portfolio value managed by user. |
| excludedValue | Number | Portfolio value not managed by current user. |
| cashReserve | Number | Min cash value that Portfolio needs to hold to be active. |
| cash | Number | Cash (held by Portfolio) managed by user(value in $). |
| reserveCashTarget | Number | Reserve cash target. |
| reserveCashActual | Number | Reserve cash actual. |
| targetCash | Number | Target cash. |
| currentCash | Number | Current cash. |
| pendingCash | Number | Pending cash. |
| isDeleted | Boolean | Portfolio exist or not into the system. |
| createdOn | Date | Portfolio creation date into application. |
| createdBy | String | Id of user who created the Portfolio into the system. |
| editedOn | Date | Portfolio edited date into application. |
| editedBy | String | Id of user who edited the Portfolio details into the system. |

```http
HTTP/1.1 200 OK
{
"id": 11217157,
"name": "Ameritrade, Ted and Mary",
"tags": "test,tes 2,test 3",
"model": "models test for grid",
"sleevePortfolio": 0,
"team": "Default Team",
"managedValue": 726363.1,
"excludedValue": 0,
"cashReserve": 14,
"cash": 0,
"reserveCashTarget": 9,
"reserveCashActual": 14,
"targetCash": 28,
"currentCash": 0,
"pendingCash": 21318.54,
"isDeleted": 0,
"createdOn": "2017-01-10T10:44:47.000Z",
"createdBy": "primetgi@orion.com",
"editedOn": "2017-04-07T04:53:07.000Z",
"editedBy": "primetgi@orion.com"
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get simple PortfoliosList by ids

This API gets simple Portfolios List by ids.

**POST** `https://baseurl/v1/portfolio/portfolios/simple/list`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/portfolio/portfolios/simple/list
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| ids | Array | portfolio ids. |

```json
{
"ids": [
1120129,
2324242
]
}
```

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The Portfolio id. |
| name | String | Name of the Portfolio. |
| tags | String | Tags of the Portfolio. |
| model | String | Model assigned to Portfolio. |
| sleevePortfolio | Boolean | True/False  Portfolio is Sleeved. |
| team | String | Primary Team of Portfolio. |
| managedValue | Number | Portfolio value managed by user. |
| excludedValue | Number | Portfolio value not managed by current user. |
| cashReserve | Number | Min cash value that Portfolio needs to hold to be active. |
| cash | Number | Cash (held by Portfolio) managed by user(value in $). |
| reserveCashTarget | Number | Reserve cash target. |
| reserveCashActual | Number | Reserve cash actual. |
| targetCash | Number | Target cash. |
| currentCash | Number | Current cash. |
| pendingCash | Number | Pending cash. |
| isDeleted | Boolean | Portfolio exist or not into the system. |
| createdOn | Date | Portfolio creation date into application. |
| createdBy | String | Id of user who created the Portfolio into the system. |
| editedOn | Date | Portfolio edited date into application. |
| editedBy | String | Id of user who edited the Portfolio details into the system. |

```http
HTTP/1.1 200 OK
{
"id": 11217157,
"name": "Ameritrade, Ted and Mary",
"tags": "test,tes 2,test 3",
"model": "models test for grid",
"sleevePortfolio": 0,
"team": "Default Team",
"managedValue": 726363.1,
"excludedValue": 0,
"cashReserve": 14,
"cash": 0,
"reserveCashTarget": 9,
"reserveCashActual": 14,
"targetCash": 28,
"currentCash": 0,
"pendingCash": 21318.54,
"isDeleted": 0,
"createdOn": "2017-01-10T10:44:47.000Z",
"createdBy": "primetgi@orion.com",
"editedOn": "2017-04-07T04:53:07.000Z",
"editedBy": "primetgi@orion.com"
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get Sleeved account Allocations For securities

This api will be used to get allocations for sleeved accounts.

**GET** `https://baseurl/v1/portfolio/sleeves/:id/allocations`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/portfolio/sleeves/1/allocations?assetType={securityset/category,class,subClass}
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| accountId | Number | Protfolio id. |
| id | Number | security id |
| securityId | Number | Portfolio Name. |
| symbol | String | symbol name |
| name | String | Name of security |
| price | Number | price of security |
| modelId | Number | Model id. |
| quantity | Number | Quantity of security |
| value | Decimal | value of security |
| total | Decimal | total. |
| targetInAmt | Decimal | target investment in dollar |
| targetInPercent | Decimal | target investment in percent |
| currentInAmt | Decimal | current investment in dollar |
| currentInPercent | Decimal | current investment in percent. |
| pendingInPercent | Decimal | pending percent. |
| pendingInAmt | Decimal | pending Value. |
| modelDetailId | Number | model detail id and available only when security is in model. |
| modelElementId | Number | model elementid and available only when security is in model. |
| securitySetId | Number | security setid and available only when security is in model. |
| targetPercentUptoSecuritySet | Decimal | target percent upto security set in model and available only when security is in model . |
| categoryId | Number | category id of submodel and available only when security is in model. |
| categoryName | String | category name of submodel and available only when security is in model. |
| classId | Number | class id of submodel and available only when security is in model. |
| className | String | class name of submodel and available only when security is in model. |
| subclassId | Number | subclass name of submodel and available only when security is in model. |
| lowerModelTolerancePercent | Decimal | lower Model Tolerance in percentage and available only when security is in model.. |
| upperModelTolerancePercent | Decimal | upper model tolerance in percentage and available only when security is in model.. |
| assetCategoryIdOfSecurity | Number | asset category id of security and available only when security is in model.. |
| assetCategoryNameOfSecurity | String | asset category name value in dollar amount and available only when security is in model.. |
| assetClassIdOfSecurity | Number | asset class id and available only when security is in model.. |
| assetClassNameOfSecurity | String | asset class id and available only when security is in model.. |
| assetSubClassIdOfSecurity | Number | asset subclass id and available only when security is in model.. |
| assetSubClassNameOfSecurity | String | asset subclass name and available only when security is in model.. |
| isPortfolioSecurity | Boolean | Boolean for whether security is in model or not. |

```http
HTTP/1.1 200 OK
[
{
"id": 33848,
"securityId": 33848,
"name": "3M Company",
"symbol": "MMMS",
"price": 209.59,
"quantity": 0,
"value": 0,
"accountId": 29,
"pendingInAmt": 0,
"pendingInPercent": 0,
"currentInPercent": 0,
"isPortfolioSecurity": true,
"targetInAmt": 0,
"targetInPercent": 0,
"currentInAmt": 0
},
{
"securityId": 33928,
"id": 33928,
"name": "DFA Emerging Markets Core Equity",
"symbol": "DFCEX",
"targetInPercent": 10,
"modelDetailId": 12812,
"modelElementId": 4413,
"securitySetId": 773,
"targetPercentUptoSecuritySet": 100,
"categoryId": null,
"categoryName": null,
"classId": null,
"className": null,
"subclassId": null,
"subclassName": null,
"lowerModelTolerancePercent": null,
"upperModelTolerancePercent": null,
"assetCategoryIdOfSecurity": 1,
"assetCategoryNameOfSecurity": "Equity",
"assetClassIdOfSecurity": 25,
"assetClassNameOfSecurity": "Diversified Emerging Mkts",
"assetSubClassIdOfSecurity": 9,
"assetSubClassNameOfSecurity": "Large Core",
"targetInAmt": 0,
"isPortfolioSecurity": false,
"pendingInAmt": 0,
"pendingInPercent": 0,
"currentInAmt": 0,
"currentInPercent": 0
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get Sleeved accounts

This API get sleeved accounts

**GET** `https://baseurl/v1/portfolio/sleeves`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/portfolio/sleeves
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The model node Id. |
| name | String | Name of the model node. |
| accountId | Number | AccountId. |
| accountNumber | Number | accountNumber |
| portfolioId | Number | portfolioId whose this account is part of. |
| isDeleted | Number | Whether sleeved accounts are deleted or not. |
| createdOn | Number | createdOn. |
| createdBy | Number | createdBy. |
| editedOn | Number | editedOn. |
| editedBy | Number | editedBy. |

```http
HTTP/1.1 200 OK
[
{
"id": 1,
"name": "Kane, Jr.Fredric ",
"accountId": "15",
"accountNumber": "L05C900669",
"portfolioId": 1
}
<span class="Apple-converted-space">	  ]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```


## GetPortfolioModelNodes

This API will return list of Portfolios/Model's nodes (Level and Sub Models).

**GET** `https://baseurl/v1/portfolio/portfolios/{portfolioId}/Model/nodes?includeBuyEmphasisNodeId=true&amp;includeSellEmphasisNodeId=true`

```bash
curl -ihttp://baseurl/v1/portfolio/portfolios/{portfolioId}/Model/nodes?includeBuyEmphasisNodeId=true
curl -ihttp://baseurl/v1/portfolio/portfolios/{portfolioId}/Model/nodes?includeSellEmphasisNodeId=true
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| portfolioId | Number | Protfolio id. |
| modelId | Number | Modle id. |
| levels | JSON | Levels/Nodes for model. |
| subModels | JSON | List of nodes( id from ModelDetail table and name) with node id and node name. |

```http
HTTP/1.1 200 OK
{
"portfolioId": 1,
"modelId": 604,
"levels": [
{
"level": "0",
"subModels": [
{
"id": 343685,
"subModelName": "asddf"
}
]
},
{
"level": "1",
"subModels": [
{
"id": 343684,
"subModelName": "Test ModDedld d13"
}
]
},
{
"level": "2",
"subModels": [
{
"id": 343684,
"subModelName": "Test ModDedld d13"
},
{
"id": 343682,
"subModelName": "Test Moddeld 13"
},
{
"id": 343683,
"subModelName": "SSd1"
}
]
},
{
"level": "3",
"subModels": [
{
"id": 343684,
"subModelName": "Test ModDedld d13"
},
{
"id": 343682,
"subModelName": "Test Moddeld 13"
},
{
"id": 343683,
"subModelName": "SSd1"
},
{
"id": 343681,
"subModelName": "Test dMdoSdel 13"
},
{
"id": 343679,
"subModelName": "Test Mdoddel 13"
},
{
"id": 343678,
"subModelName": "SdS1"
}
]
},
{
"level": "3",
"subModels": [
{
"id": 343684,
"subModelName": "Test ModDedld d13"
},
{
"id": 343682,
"subModelName": "Test Moddeld 13"
},
{
"id": 343683,
"subModelName": "SSd1"
},
{
"id": 343681,
"subModelName": "Test dMdoSdel 13"
},
{
"id": 343679,
"subModelName": "Test Mdoddel 13"
},
{
"id": 343678,
"subModelName": "SdS1"
},
{
"id": 343680,
"subModelName": "SdSS1"
}
]
}
],
"preSelectedNodeId": null
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Search Portfolios(Simple) by Account numbers and names With Holding Value

This API searches Portfolios(Simple) list of all Portfolios(Simple).

**GET** `https://baseurl/v1/portfolio/portfolios/simple?includevalue=true&amp;searchAccounts=true`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/portfolio/portfolios/simple?includevalue=true&searchAccounts=true
curl -i http://baseurl/v1/portfolio/portfolios/simple?includevalue=true&searchAccounts=true&search=1
curl -i http://baseurl/v1/portfolio/portfolios/simple?includevalue=true&searchAccounts=true&search=11217281&excludeDoNotTrade=true
curl -i http://baseurl/v1/portfolio/portfolios/simple?includevalue=true&searchAccounts=true&search=a&excludeNoAccountPortfolio=true&excludeDoNotTrade=true
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The Portfolio id. |
| name | String | Name of the Portfolio. |
| tags | String | Tags of the Portfolio. |
| source | String | Source Name. |
| value | Number | Holding value associated with Portfolio. |
| accountId | String | The account Id. |
| accountNumber | String | Account Number. |
| accountName | String | Account Name. |
| modelId | Number | Associated Model Id. |
| sleevePortfolio | Boolean | True/False  Portfolio is Sleeved. |
| isDeleted | Boolean | Portfolio exist or not into the system. |
| createdOn | Date | Portfolio creation date into application. |
| createdBy | String | Id of user who created the Portfolio into the system. |
| editedOn | Date | Portfolio edited date into application. |
| editedBy | String | Id of user who edited the Portfolio details into the system. |

```http
HTTP/1.1 200 OK
[
{
"id": 1,
"accountId": "1022_12",
"accountNumber": "L0704C0669",
"accountName": "Test Account",
"createdOn": "2016-06-17T05:57:22.000Z",
"createdBy": 0,
"custodialAccountNumber":null
"editedOn": "2016-06-17T05:57:22.000Z",
"editedBy": 0,
"isDeleted": 0,
"macStatus":1,
"modelId": 1,
"name": "Test Portfolio",
"sleevePortfolio": 0,
"source": "Team",
"tags": "#Ameritrade,test",
"value": 38500
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Search Portfolios(Simple)

This API search simple Portfolios.

**GET** `https://baseurl/v1/portfolio/portfolios/simple?search={id/name/tags}`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/portfolio/portfolios/simple?search=1
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The Portfolio id. |
| name | String | Name of the Portfolio. |
| tags | String | Tags of the Portfolio. |
| source | String | Portfolio created by team/advisor. |
| modelId | Number | Associated Model Id. |
| sleevePortfolio | Boolean | True/False  Portfolio is Sleeved. |
| isDeleted | Boolean | Portfolio exist or not into the system. |
| createdOn | Date | Portfolio creation date into application. |
| createdBy | String | Id of user who created the Portfolio into the system. |
| editedOn | Date | Portfolio edited date into application. |
| editedBy | String | Id of user who edited the Portfolio details into the system. |

```http
HTTP/1.1 200 OK
[
{
"id": 1,
"name": "Test Portfolio",
"tags": "#Ameritrade,test",
"source": "Advisor",
"modelId": 1,
"sleevePortfolio": 0,
"isDeleted": 0,
"createdOn": "2016-06-17T05:57:22.000Z",
"createdBy": 0,
"editedOn": "2016-06-17T05:57:22.000Z",
"editedBy": 0
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```


## Search Sleeved accounts

This API search sleeved accounts

**GET** `https://baseurl/v1/portfolio/sleeves?search={accountNumber/portfolioName/accountNumber}`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/portfolio/sleeves?search=1
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The model node Id. |
| name | String | Name of the model node. |
| accountId | Number | AccountId. |
| accountNumber | Number | accountNumber |
| portfolioId | Number | portfolioId whose this account is part of. |
| isDeleted | Number | Whether sleeved accounts are deleted or not. |
| createdOn | Number | createdOn. |
| createdBy | Number | createdBy. |
| editedOn | Number | editedOn. |
| editedBy | Number | editedBy. |

```http
HTTP/1.1 200 OK
[
{
"id": 1,
"name": "Kane, Jr.Fredric ",
"accountId": "15",
"accountNumber": "L05C900669",
"portfolioId": 1
}
<span class="Apple-converted-space">	  ]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```


## Search Sleeved/Non-Sleeved Portfolios(Simple)

This API search simple Sleeved/Non-Sleeved Portfolios.

**GET** `https://baseurl/v1/portfolio/portfolios/simple?inSleeve={true/false}&amp;search={id/name/tags}`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/portfolio/portfolios/simple?inSleeve=true&search=1
curl -i http://baseurl/v1/portfolio/portfolios/simple?inSleeve=false&search=1
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The Portfolio id. |
| name | String | Name of the Portfolio. |
| tags | String | Tags of the Portfolio. |
| source | String | Portfolio created by team/advisor. |
| modelId | Number | Associated Model Id. |
| sleevePortfolio | Boolean | True/False  Portfolio is Sleeved. |
| isDeleted | Boolean | Portfolio exist or not into the system. |
| createdOn | Date | Portfolio creation date into application. |
| createdBy | String | Id of user who created the Portfolio into the system. |
| editedOn | Date | Portfolio edited date into application. |
| editedBy | String | Id of user who edited the Portfolio details into the system. |

```http
HTTP/1.1 200 OK
[
{
"id": 1,
"name": "Test Portfolio",
"tags": "#Ameritrade,test",
"source": "Advisor",
"modelId": 1,
"sleevePortfolio": 0,
"isDeleted": 0,
"createdOn": "2016-06-17T05:57:22.000Z",
"createdBy": 0,
"editedOn": "2016-06-17T05:57:22.000Z",
"editedBy": 0
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```


## Un-Assign Portfolio from Accounts

This API Un-Assign Portfolio from Accounts.

**PUT** `https://baseurl/v1/portfolio/portfolios/:id/accounts`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/portfolio/portfolios/1/accounts
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| accountIds | Array | Accounts ids. |

```json
{
"accountIds": [
1,
2
]
}
```

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| message | String | Success message. |

```http
HTTP/1.1 200 OK
{
"message": "Portfolio un-assigned from accounts successfully"
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |
| Bad_Request | When without request data. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```

```http
HTTP/1.1 400 Bad_Request
{
"message": "Bad Request: Verify request data"
}
```


## Un-Assign Portfolio from all Accounts

This API Un-Assign Portfolio from Accounts.

**PUT** `https://baseurl/v1/portfolio/portfolios/:id/accounts`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/portfolio/portfolios/13/accounts
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| message | String | Success message. |

```http
HTTP/1.1 200 OK
{
"message": "Portfolio un-assigned from accounts successfully"
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```


## Update Portfolio

This API Update Portfolio.

**PUT** `https://baseurl/v1/portfolio/portfolios/:id`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/portfolio/portfolios/1
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| name | String | Name of the Portfolio. |
| modelId | Number | Model Id. |
| isSleevePortfolio | Boolean | Sleeve Portfolio - 0/1(true/false). |
| doNotTrade | Boolean | Do not trade Portfolio - 0/1(true/false). |
| tags | String | Portfolio tags. |
| teamIds | Array | Team ids of Portfolio. |
| primaryTeamId | Number | Primary team id of Portfolio. |
| tradingInstruction | String | Trading Instructions. |
| sellEmphasisOn | Number | Sell Emphasis node of Portfolio. |
| buyEmphasisOn | Number | Buy Emphasis node of Portfolio. |
| rebalanceOptionId | Number | Auto-Rebalance option Id for Portfolio. |
| rebalanceDay | Number | Auto-Rebalance day for Portfolio (In between 1 to 31). |

```json
{
"name": "Demo Portfolio",
"modelId": 1,
"isSleevePortfolio": false,
"doNotTrade": 0,
"tags": "test",
"tradingInstruction": "Trade Instruction",
"sellEmphasisOn": 5,
"buyEmphasisOn": 4,
"teamIds": [
1,
2,
5
],
"primaryTeamId": 1,
"rebalanceOptionId": 1,
"rebalanceDay": 1
}
```

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The Portfolio id. |
| general | JSON | General information of the Portfolio. |
| -portfolioName | String | Name of the Portfolio. |
| -sleevePortfolio | Boolean | True/False  Portfolio is Sleeved. |
| -custodialAccountNumber | String | Custodial Account Number. |
| -registrationId | String | Registration Id. |
| -sleeveStrategy | String | Sleeve Strategy. |
| -contributionMethod | String | Contribution Method. |
| -distributionMethod | String | Distribution Method. |
| -modelId | Number | Model Id. |
| -modelName | String | Name of Model. |
| -autoRebalance | String | Auto Rebalance option - None/Annual/Semi-Annual/Quarterly/Monthly. |
| -monthAndDate | Date | Auto Rebalance Month &amp; Date. |
| -rebalanceTypeId | Number | Auto-Rebalance type Id of Portfolio. |
| -rebalanceType | String | Auto-Rebalance type name of Portfolio. |
| -rebalanceOptionId | Number | Auto-Rebalance option Id of Portfolio. |
| -rebalanceOption | String | Auto-Rebalance option name of Portfolio. |
| -rebalanceDay | Number | Auto-Rebalance day of Portfolio. |
| -doNotTrade | Boolean | Do not trade Portfolio - 0/1(true/false). |
| -tradingInstruction | String | Trading Instruction. |
| -sellEmphasisOn | Number | Sell Emphasis. |
| -buyEmphasisOn | Number | Buy Emphasis. |
| -tags | String | Portfolio tags. |
| teams | Array | Teams of the Portfolio. |
| -id | Number | Team Id. |
| -name | String | Team Name. |
| -isPrimary | Boolean | True/False  Team is Primary. |
| -portfolioAccess | Boolean | True/False  Team has limited Portfolio Access. |
| issues | JSON | Issues In Portfolio. |
| -outOfTolerance | Number | Out of Tolerance of Portfolio - in Percentage. |
| -cashNeed | Number | Portfolio's cash need amount. |
| -setForAutoRebalance | Boolean | True/False  Whether the Portfolio is set for Auto rebalance. |
| -contribution | Number | Portfolio's contribution amount. |
| -distribution | Number | Portfolio's distribution amount. |
| -modelAssociation | Boolean | True/False  Whether the model is associated with Portfolio. |
| -TLHOpportunity | Boolean | True/False  Whether the Portfolio has TLH Opportunity. |
| -dataErrors | Number | Count of import errors (if any). |
| -pendingTrades | Number | Number of pending trades under Portfolio. |
| summary | JSON | Portfolio summary. |
| -analyticsOn | Date | Analytics Date. |
| -AUM | JSON | Portfolio's AUM(Assets Under Management) information. |
| --total | Number | Portfolio AUM total (totalValue + totalCash). |
| --totalValue | Number | Total Portfolio Value (Managed Value + Excluded Value). |
| --managedValue | Number | Portfolio value managed by user. |
| --excludedValue | Number | Portfolio value not managed by current user. |
| --totalCash | JSON | Total Portfolio cash information. |
| ---total | Number | Total Portfolio cash (cash + reserve + setAsideCash). |
| ---reserve | Number | Min cash value that Portfolio needs to hold to be active. |
| ---cash | Number | Cash (held by Portfolio) managed by user. |
| ---setAsideCash | Number | Portfolio's aside cash. |
| -realized | JSON | Realized Portfolio information. |
| --totalStatus | String | Realized total value status for Gain, Loss and no Gain/Loss ["high", "low", "no"]. |
| --shortTerm | Number | Realized short term value. |
| --shortTermStatus | String | Realized short term value status for Gain, Loss and no Gain/Loss ["high", "low", "no"]. |
| --longTerm | Number | Realized long term value. |
| --longTermStatus | String | Realized long term value status for Gain, Loss and no Gain/Loss ["high", "low", "no"]. |
| -reserveCashTarget | Number | Sum of Reserve Cash Targets of the associated accounts. |
| -reserveCashActual | Number | Sum of Reserve Cash Actual values for the associated accounts. |
| -targetCash | Number | The target of cash for the total portfolio. |
| -currentCash | Number | Total amount of custodial cash securities added up amongst all accounts in the portfolio. |
| -pendingCash | Number | Sum of Pending Cash $ for all the associated accounts. |
| isDisabled | Boolean | Portfolio is disabled or not - (0 or 1). |
| isDeleted | Boolean | Portfolio exist or not into the system. |
| createdOn | Date | Portfolio creation date into application. |
| createdBy | String | Full Name of user who created the Portfolio into the system. |
| editedOn | Date | Portfolio edited date into application. |
| editedBy | String | Full Name of user who edited the Portfolio details into the system. |

```http
HTTP/1.1 200 OK
{
"id":1,
"general" : {
"portfolioName" : "Demo Portfolio",
"sleevePortfolio" : false,
"custodialAccountNumber": 0,
"registrationId": 0,
"sleeveStrategy": "sleeveStrategy",
"contributionMethod": "contributionMethod",
"distributionMethod": "distributionMethod",
"modelId" : 1,
"modelName" : "My Model",
"autoRebalance": 0,
"monthAndDate": "2016-08-30",
"rebalanceTypeId": null,
"rebalanceType": null,
"rebalanceOptionId": null,
"rebalanceOption": null,
"rebalanceDay": 1,
"doNotTrade": 0,
"tradingInstruction": "Trade Instruction",
"sellEmphasisOn": 5,
"buyEmphasisOn": 4,
"tags" : "test"
},
"teams" : [{
"id" : 1,
"name" : "Team-One",
"isPrimary" : true,
"portfolioAccess" : 0
},{
"id" : 2,
"name" : "Team-Two",
"isPrimary" : false,
"portfolioAccess" : 0
},{
"id" : 5,
"name" : "Team-Five",
"isPrimary" : false,
"portfolioAccess" : 1
}],
"issues" : {
"outOfTolerance" : 12,
"cashNeed" : 1200,
"setForAutoRebalance" : true,
"contribution" : 100,
"distribution" : 4000,
"modelAssociation" : true,
"doNotTrade" : 0,
"TLHOpportunity" : false,
"dataErrors" : 15,
"pendingTrades" : 7
},
"summary" : {
"analyticsOn": "2016-08-30T06:19:20.000Z",
"AUM" : {
"total" : 4000,
"totalValue" : 2250,
"managedValue" : 1250,
"excludedValue" : 1000,
"totalCash" : {
"total" : 1750,
"reserve" : 1000,
"cash" : 500,
"setAsideCash" : 250
}
},
"realized" : {
"total" : 400,
"totalStatus": "high",
"shortTerm" : 500,
"shortTermStatus":"high",
"longTerm" : 100,
"longTermStatus":"low"
},
"reserveCashTarget": 0,
"reserveCashActual": 0,
"targetCash": 0,
"currentCash": 0,
"pendingCash": 0
},
"isDisabled": 0,
"isDeleted": 0,
"createdOn": "0000-00-00 00:00:00",
"createdBy": "ETL ETL",
"editedOn": "0000-00-00 00:00:00",
"editedBy": "ETL ETL"
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |
| Bad_Request | When without request data. |
| Not_Found | When Portfolio does not exist. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```

```http
HTTP/1.1 400 Bad_Request
{
"message": "Bad Request: Verify request data"
}
```

```http
HTTP/1.1 404 Not_Found
{
"message": "Portfolio does not exist"
}
```

```http
HTTP/1.1 404 Not_Found
{
"message": "sellEmphasisOn/buyEmphasisOn Values are not valid for modelId: 3"
}
```


---

# Models


## Add Model Detail for model

This API Add Model Detail or Structure.

**POST** `https://baseurl/v1/modeling/models/:id/modelDetail`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/modeling/models/:id/modelDetail
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| modelDetail | ModelDetail | Complete Tree Structure. |
| modelDetail.id | String | id of submodel |
| modelDetail.name | String | name |
| modelDetail.nameSpace | String | nameSpace |
| modelDetail.securityAsset | securityAsset | Security Asset Obj. |
| modelDetail.securityAsset.id | Number | Actual id of asset which is used. |
| modelDetail.targetPercent | Number | Target Percent. |
| modelDetail.toleranceType | String | ToleranceType can be one of two vlaues range/(fixband%) Id |
| modelDetail.toleranceTypeValue | Number | value of tolerance type. |
| modelDetail.rank | Number | rank |
| modelDetail.lowerModelTolerancePercent | Number | lowerModelTolerancePercent. |
| modelDetail.upperModelTolerancePercent | Number | upperModelTolerancePercent |
| modelDetail.lowerModelToleranceAmount | Number | lowerModelToleranceAmount |
| modelDetail.upperModelToleranceAmount | Number | upperModelToleranceAmount |
| modelDetail.children | ModelDetail[] | Children of current Node |
| modelDetail.isEdited | Number | When using submodel, and if you change the submodel. \n Changes can of two types 1. adding/removing child or changing the child, changing percentages of child. |
| modelDetail.isSubstituted | Number | If current submodel is isSubstituted. |
| modelDetail.substitutedOf | Number | The submodel which is acting substitute of this node |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The model Id. |
| name | String | Name of the Model. |
| description | String | Description of Model |
| nameSpace | String | Namespace of Model |
| statusId | Number | StatusId of model |
| status | String | status of model |
| ownerUserId | Number | OwnerUserId of model. |
| ownerUser | String | OwnerUser model |
| portfolioCount | Number | Number of portfolio's model is assigned to. |
| modelAUM | Number | Total sum of money invested in model. |
| managementStyleId | Number | ManagementStyleId of model |
| managementStyle | String | ManagementStyle of model |
| isCommunityModel | Boolean | flag if Model is imported from community. |
| approvedByUserId | Number | UserId who approved the Model |
| approvedByUser | String | User who approved the model. |
| isDynamic | Boolean | Flag if Model is dynamic. |
| isDeleted | Boolean | If model is deleted |
| createdOn | String | Created Date of Model |
| editedOn | String | Edited Date of Model |
| createdBy | String | User who created the Model |
| editedBy | String | User who edited the Model |
| modelDetail | ModelElement | Compelete Structure of Model |

```http
HTTP/1.1 201 OK
{
"id": 2,
"name": "Test Model 13",
"description": null,
"statusId": 1,
"status": "APPROVED",
"portfolioCount": 0,
"modelAUM": 0,
"ownerUserId": 66,
"ownerUser": "prime@tgi.com",
"managementStyleId": 2,
"managementStyle": "Aggressive",
"isCommunityModel": null,
"approvedByUserId": null,
"approvedByUser": "prime@tgi.com",
"isDynamic": 0,
"isDeleted": 0,
"createdOn": "2016-09-27T04:37:53.000Z",
"editedOn": "2016-09-27T05:00:59.000Z",
"createdBy": 66,
"editedBy": 66,
"modelDetail": {
"id": 126,
"name": "Test Model 13",
"modelType": null,
"modelTypeId": null,
"targetPercent": null,
"lowerModelTolerancePercent": null,
"upperModelTolerancePercent": null,
"rank" : 1,
"toleranceType": "RANGE",
"toleranceTypeValue": 44,
"lowerModelToleranceAmount": null,
"upperModelToleranceAmount": null,
"level": "0",
"leftValue": 1,
"rightValue": 10,
"children": [
{
"id": 9,
"name": "Test Model 13",
"modelType": null,
"modelTypeId": null,
"targetPercent": 5,
"lowerModelTolerancePercent": 5,
"upperModelTolerancePercent": 5,
"rank" : 1,
"toleranceType": "RANGE",
"toleranceTypeValue": 44,
"lowerModelToleranceAmount": null,
"upperModelToleranceAmount": null,
"level": "1",
"leftValue": 2,
"rightValue": 7,
"children": [
{
"id": 7,
"name": "Test Model 13",
"modelType": null,
"modelTypeId": null,
"targetPercent": 5,
"rank" : 1,
"lowerModelTolerancePercent": 5,
"upperModelTolerancePercent": 5,
"toleranceType": "RANGE",
"toleranceTypeValue": 44,
"lowerModelToleranceAmount": 5,
"upperModelToleranceAmount": 5,
"level": "2",
"leftValue": 3,
"rightValue": 4,
"children": []
},
{
"id": 8,
"name": "Test Model 13",
"modelType": null,
"modelTypeId": null,
"targetPercent": 5,
"rank" : 1,
"lowerModelTolerancePercent": 5,
"upperModelTolerancePercent": 5,
"toleranceType": "RANGE",
"toleranceTypeValue": 44,
"lowerModelToleranceAmount": 5,
"upperModelToleranceAmount": 5,
"level": "2",
"leftValue": 5,
"rightValue": 6,
"children": []
}
]
},
{
"id": 12,
"name": "Large cap",
"modelType": null,
"modelTypeId": null,
"targetPercent": 5,
"rank" : 1,
"lowerModelTolerancePercent": 5,
"upperModelTolerancePercent": 5,
"toleranceType": "RANGE",
"toleranceTypeValue": 44,
"lowerModelToleranceAmount": null,
"upperModelToleranceAmount": null,
"level": "1",
"leftValue": 8,
"rightValue": 9,
"children": []
}
]
}
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |
| Bad_Request | When missing required parameters. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```

```http
HTTP/1.1 400 Bad_Request
{
"message": "Missing required parameters"
}
```


## Add Model

This API Add Model.

**POST** `https://baseurl/v1/modeling/models`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/modeling/models
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The model Id. |
| name | String | Name of the Model. |
| nameSpace | String | Namespace of the Model. |
| description | String | Description of Model |
| tags | String | tags of Model |
| statusId | Number | StatusId of model |
| managementStyleId | Number | ManagementStyleId of model |
| isCommunityModel | Boolean | flag if Model is imported from community. |
| isDynamic | Boolean | Flag if Model is dynamic. |
| excludeRebalanceSleeve | Boolean | Flag if assigned sleeved accounts should be marked exclude from rebalance. |

```json
{
"name": "Test Model 13",
"nameSpace": "dsf",
"description": null,
"statusId": 1,
"managementStyleId": 2,
"isCommunityModel": null,
"isDynamic": 0,
"excludeRebalanceSleeve": false
}
```

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The model Id. |
| name | String | Name of the Model. |
| description | String | Description of Model |
| nameSpace | String | Namespace of the Model. |
| statusId | Number | StatusId of model |
| status | String | status of model |
| tags | String | Tags. |
| portfolioCount | Number | Number of portfolio's model is assigned to. |
| modelAUM | Number | Total sum of money invested in model. |
| ownerUserId | Number | OwnerUserId of model. |
| ownerUser | String | OwnerUser model |
| managementStyleId | Number | ManagementStyleId of model |
| managementStyle | String | ManagementStyle of model |
| isCommunityModel | Boolean | flag if Model is imported from community. |
| approvedByUserId | Number | UserId who approved the Model |
| approvedByUser | String | User who approved the model. |
| isDynamic | Boolean | Flag if Model is dynamic. |
| isDeleted | Boolean | If model is deleted |
| createdOn | String | Created Date of Model |
| editedOn | String | Edited Date of Model |
| createdBy | String | User who created the Model |
| editedBy | String | User who edited the Model |
| excludeRebalanceSleeve | Boolean | Flag if assigned sleeved accounts should be marked exclude from rebalance |

```http
HTTP/1.1 201 OK
{
"id": 2,
"name": "Test Model 13",
"description": null,
"statusId": 1,
"status": "APPROVED",
"portfolioCount": 0,
<span class="Apple-converted-space"> 		 "modelAUM": 0,
"ownerUserId": 66,
"ownerUser": "prime@tgi.com",
"managementStyleId": 2,
"managementStyle": "Aggressive",
"isCommunityModel": null,
"approvedByUserId": null,
"approvedByUser": "prime@tgi.com",
"isDynamic": 0,
"isDeleted": 0,
"createdOn": "2016-09-27T04:37:53.000Z",
"createdBy": 66,
"editedOn": "2016-09-27T05:00:59.000Z",
"editedBy": 66,
"excludeRebalanceSleeve": false
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |
| Bad_Request | When missing required parameters. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```

```http
HTTP/1.1 400 Bad_Request
{
"message": "Missing required parameters"
}
```


## Add Portfolio to model

This API Add Portfolio to Model.

**POST** `https://baseurl/v1/modeling/models/:id/portfolios`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/modeling/models/:id/portfolios
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| id | Number | PortfolioId |
| substitutedModelId | Number | SubstitutedModelId. |

```json
{
"id" : ID,
"substitutedModelId" : "SUBSTITUTED_MODEL_ID"
}
```

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| messages | String | Shows the status of result |

```http
HTTP/1.1 200 OK
{
"messages" : "Model assigned with Portfolios"
}
HTTP/1.1 201 OK
{
"messages" : "Model assigned with Portfolios but waiting for approval"
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |
| Bad_Request | When missing required parameters. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```

```http
HTTP/1.1 400 Bad_Request
{
"message": "Missing required parameters"
}
```


## Add sleeve to model

This API Add sleeve to Model.

**POST** `https://baseurl/v1/modeling/models/:id/sleeves`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/modeling/models/:id/sleeves
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| id | Number | sleeveAccountId |
| substitutedModelId | Number | SubstitutedModelId. |

```json
{
"id" : ID,
"substitutedModelId" : "SUBSTITUTED_MODEL_ID"
}
```

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| messages | String | Shows the status of result |

```http
HTTP/1.1 200 OK
{
"messages" : "Model assigned with sleeved account"
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |
| Bad_Request | When missing required parameters. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```

```http
HTTP/1.1 400 Bad_Request
{
"message": "Missing required parameters"
}
```


## Approve reject temporary model

This API approves the approved model changes which are waiting for approval.

**PUT** `https://baseurl/v1/modeling/models/:id/pending/{approve/reject}`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/modeling/models/:id/pending/{approve/reject}
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| message | String | Success Message. |

```http
HTTP/1.1 200 OK
{
message : "Model changes are reflected in approved model"
}
```

```http
HTTP/1.1 200 OK
{
message : "Model changes are rejected"
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## approve/reject portfolios for model

This API Approve/reject Portfolio to Model.

**PUT** `https://baseurl/v1/modeling/models/:id/portfolios/:actionStatus`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/modeling/models/1/portfolios/approve
curl -i http://baseurl/v1/modeling/models/1/portfolios/reject
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| portfolioIds | Object | List of portfolio Ids |

```json
{
"portfolioIds": [
4,
5
]
}
```

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| messages | String | Shows the status of result |

```http
HTTP/1.1 200 OK
{
<span class="Apple-converted-space"> 	"messages" : "Model approved for Portfolio"
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |
| Bad_Request | When missing required parameters. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```

```http
HTTP/1.1 400 Bad_Request
{
"message": "Missing required parameters"
}
```


## approve/reject sleeve for model

This API Approve/reject Portfolio to Model.

**PUT** `https://baseurl/v1/modeling/models/:id/sleevedaccount/:actionStatus`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/modeling/models/1/sleevedaccount/approve
curl -i http://baseurl/v1/modeling/models/1/sleevedaccount/reject
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| sleevedAccounts | Object | List of sleevedAccounts Ids |

```json
{
"sleevedAccounts": [
4,
5
]
}
```

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| messages | String | Shows the status of result |

```http
HTTP/1.1 200 OK
{
<span class="Apple-converted-space"> 	"messages" : "Model approved for sleeve"
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |
| Bad_Request | When missing required parameters. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```

```http
HTTP/1.1 400 Bad_Request
{
"message": "Missing required parameters"
}
```


## Can Delete Model

This API returns whether model can be deleted or not(soft delete).

**GET** `https://baseurl/v1/modeling/models/:id/canDelete`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/modeling/models/:id/canDelete
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| message | String | Success message. |

```http
HTTP/1.1 200 OK
{
<span class="Apple-converted-space">  	"status" : 1,
"message": "model can be deleted"
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |
| Unprocessable_Entity | When Security does not exist. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```

```http
HTTP/1.1 422 Unprocessable_Entity
{
"message": " Model does not exists "
}
```


## Can Delete Sub-Model

This API returns whether sub-model can be deleted or not(soft delete).

**GET** `https://baseurl/v1/modeling/models/submodels/:id/canDelete?modelId={ID}&amp;modelDetailId={ID}`

**Permission:** `appuser`

```bash
curl -i http://baseurl/modeling/models/submodels/:id/canDelete?modelId=1&modelDetailId=1
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| message | String | Success message. |

```http
HTTP/1.1 200 OK
{
<span class="Apple-converted-space">  	"status" : 1,
"message": "submodel can be deleted"
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |
| Unprocessable_Entity | When Security does not exist. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```

```http
HTTP/1.1 422 Unprocessable_Entity
{
"message": " Sub-Model does not exists "
}
```


## Copy Model

This API Copy Model.

**POST** `https://baseurl/v1/modeling/models/:id/copy`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/modeling/models/:id/copy
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| name | String | Name of the Model. |
| nameSpace | String | Namespace of the Model. |

```json
{
"name": "Test Model 13",
"namespace": "dsf"
}
```

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The model Id. |
| name | String | Name of the Model. |
| description | String | Description of Model |
| nameSpace | String | Namespace of the Model. |
| statusId | Number | StatusId of model |
| status | String | status of model |
| tags | String | Tags. |
| portfolioCount | Number | Number of portfolio's model is assigned to. |
| modelAUM | Number | Total sum of money invested in model. |
| ownerUserId | Number | OwnerUserId of model. |
| ownerUser | String | OwnerUser model |
| managementStyleId | Number | ManagementStyleId of model |
| managementStyle | String | ManagementStyle of model |
| isCommunityModel | Boolean | flag if Model is imported from community. |
| approvedByUserId | Number | UserId who approved the Model |
| approvedByUser | String | User who approved the model. |
| isDynamic | Boolean | Flag if Model is dynamic. |
| isDeleted | Boolean | If model is deleted |
| createdOn | String | Created Date of Model |
| editedOn | String | Edited Date of Model |
| createdBy | String | User who created the Model |
| editedBy | String | User who edited the Model |

```http
HTTP/1.1 201 OK
{
"id": 2,
"name": "Test Model 13",
"description": null,
"statusId": 1,
"status": "APPROVED",
"portfolioCount": 0,
<span class="Apple-converted-space"> 		 "modelAUM": 0,
"ownerUserId": 66,
"ownerUser": "prime@tgi.com",
"managementStyleId": 2,
"managementStyle": "Aggressive",
"isCommunityModel": null,
"approvedByUserId": null,
"approvedByUser": "prime@tgi.com",
"isDynamic": 0,
"isDeleted": 0,
"createdOn": "2016-09-27T04:37:53.000Z",
"createdBy": 66,
"editedOn": "2016-09-27T05:00:59.000Z",
"editedBy": 66
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |
| Bad_Request | When missing required parameters. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```

```http
HTTP/1.1 400 Bad_Request
{
"message": "Missing required parameters"
}
```


## Copy SubModel

This API Copy Sub-Model.

**POST** `https://baseurl/v1/modeling/models/submodels/:id/copy`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/modeling/models/submodels/:id/copy
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| name | String | Name of the Model. |
| nameSpace | String | Namespace of the Model. |
| modelTypeId | String | model type id. |

```json
{
"name": "Test Model 13",
"namespace": "dsf",
"modelTypeId": 4
}
```

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The model Id. |
| name | String | Name of the Model. |
| nameSpace | String | Namespace |
| description | String | Description of Model |
| modelType | String | modelType |
| securityAsset.id | Number | id of actual security asset. |
| securityAsset.name | String | name of actual security asset. |
| securityAsset.color | String | color of actual security asset. |
| children | ModelElement[] | childrens |

```http
HTTP/1.1 201 OK
{
"id": 350,
"name": "phani",
"modelType": "Category",
"modelTypeId": 1,
"nameSpace": "10221 team",
"securityAsset": null,
"leftValue": 4,
"rightValue": 11,
"children": [
{
"id": 286,
"name": "Model-Class1",
"modelType": "Class",
"modelTypeId": 2,
"nameSpace": null,
"securityAsset": null,
"leftValue": 5,
"rightValue": 8,
"targetPercent": 50,
"lowerModelTolerancePercent": 25,
"upperModelTolerancePercent": 25,
"lowerModelToleranceAmount": null,
"upperModelToleranceAmount": null,
"toleranceType": null,
"toleranceTypeValue": 25,
"isSubstituted": null,
"children": [
{
"id": 292,
"name": "SubClass-28-OCT3",
"modelType": "Sub Class",
"modelTypeId": 3,
"nameSpace": null,
"securityAsset": null,
"leftValue": 6,
"rightValue": 7,
"targetPercent": 100,
"lowerModelTolerancePercent": 5,
"upperModelTolerancePercent": 5,
"lowerModelToleranceAmount": 5,
"upperModelToleranceAmount": 5,
"toleranceType": null,
"toleranceTypeValue": null,
"isSubstituted": null,
"children": []
}
]
},
{
"id": 287,
"name": "Model-Class2",
"modelType": "Class",
"modelTypeId": 2,
"nameSpace": null,
"securityAsset": null,
"leftValue": 9,
"rightValue": 10,
"targetPercent": 50,
"lowerModelTolerancePercent": 12.5,
"upperModelTolerancePercent": 12.5,
"lowerModelToleranceAmount": null,
"upperModelToleranceAmount": null,
"toleranceType": null,
"toleranceTypeValue": 25,
"isSubstituted": null,
"children": []
}
]
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |
| Bad_Request | When missing required parameters. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```

```http
HTTP/1.1 400 Bad_Request
{
"message": "Missing required parameters"
}
```


## Create model submodel detail

This API Add SubModel Detail.

**POST** `https://baseurl/v1/modeling/models/submodels/submodeldetail`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/modeling/models/submodels
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| id | Number | Id of submodel. |
| name | String | Name of the submodel. |
| nameSpace | String | Namespace |
| modelTypeId | Number | relatedTypeId of Model |
| securityAsset | securityAsset | Actual security class which is being represented by this node. |
| chidlren.id | String | id of submodel |
| chidlren.name | String | name |
| chidlren.nameSpace | String | nameSpace |
| chidlren.securityAsset | securityAsset | Security Asset Obj. |
| chidlren.securityAsset.id | Number | Actual id of asset which is used. |
| chidlren.targetPercent | Number | Target Percent. |
| chidlren.toleranceType | String | ToleranceType can be one of two vlaues range/(fixband%) Id |
| chidlren.toleranceTypeValue | Number | value of tolerance type. |
| chidlren.rank | Number | rank |
| chidlren.lowerModelTolerancePercent | Number | lowerModelTolerancePercent. |
| chidlren.upperModelTolerancePercent | Number | upperModelTolerancePercent |
| chidlren.lowerModelToleranceAmount | Number | lowerModelToleranceAmount |
| chidlren.upperModelToleranceAmount | Number | upperModelToleranceAmount |

```json
{
id : ID,
name : NAME,
nameSpace : "kulwant",
modelTypeId : 1/2/3 (Category/Class/SubClass),
securityAsset :
{
"id" : securityAsset_ID
},
children : [
{
<span class="Apple-converted-space">		 name : NAME,
nameSpace : "kulwant",
modelTypeId : 1/2/3 (Category/Class/SubClass),
isFavorite : 1,
securityAsset :
{
"id" : securityAsset_ID
},
children : []
}
]
}
```

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| securityAsset.id | Number | id of actual security asset. |
| securityAsset.name | String | name of actual security asset. |
| securityAsset.color | String | color of actual security asset. |
| children | Array | model element |
| name | String | Name of the Model. |
| nameSpace | String | Namespace |
| modelType | String | modelType can be either of CATEGORY/CLASS/SUBCLASS |
| modelTypeId | Number | relatedTypeId of Model |
| isFavorite | Boolean | Just to tell whether this is favorite or not |
| securityAsset | securityAsset | security Asset object |
| canEdit | number | sub model access type. |
| haveAccess | boolean | user have sub model access or not. |

```http
HTTP/1.1 201 OK
{
"id": 389,
"name": "Eclipse Model Structure",
"modelType": null,
"modelTypeId": null,
"nameSpace": null,
"securityAsset": null,
"leftValue": 2,
"rightValue": 5,
"children": [
{
"id": 3682,
"name": "asdfsadsf",
"modelType": "Sub Class",
"modelTypeId": 3,
"nameSpace": "asdfaadf",
"securityAsset": null,
"leftValue": 3,
"rightValue": 4,
"targetPercent": 100,
"lowerModelTolerancePercent": null,
"upperModelTolerancePercent": null,
"lowerModelToleranceAmount": null,
"upperModelToleranceAmount": null,
"toleranceType": null,
"toleranceTypeValue": null,
"isSubstituted": null,
"children": []
}
]
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |
| Bad_Request | When missing required parameters. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```

```http
HTTP/1.1 400 Bad_Request
{
"message": "Missing required parameters"
}
```


## Create model submodel

This API Add SubModel.

**POST** `https://baseurl/v1/modeling/models/submodels`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/modeling/models/submodels
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| name | String | Name of the Model. |
| nameSpace | String | Namespace |
| modelTypeId | Number | relatedTypeId of Model |
| isFavorite | Boolean | Just to tell whether this is favorite or not |
| securityAsset | securityAsset | Actual security class which is being represented by this node. |

```json
{
name : NAME,
nameSpace : "kulwant",
modelTypeId : 1/2/3 (Category/Class/SubClass),
isFavorite : 1,
securityAsset :
{
"id" : ID
}
}
```

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| securityAsset.id | Number | id of actual security asset. |
| securityAsset.name | String | name of actual security asset. |
| securityAsset.color | String | color of actual security asset. |
| name | String | Name of the Model. |
| nameSpace | String | Namespace |
| modelType | String | modelType can be either of CATEGORY/CLASS/SUBCLASS |
| modelTypeId | Number | relatedTypeId of Model |
| isFavorite | Boolean | Just to tell whether this is favorite or not |
| securityAsset | securityAsset | security Asset object |

```http
HTTP/1.1 201 OK
{
"id": 3,
"name": "1 dfakdshfkh",
"nameSpace" : "namespace",
"modelType": "Category",
"modelTypeId": 1,
"isFavorite" : 1,
"securityAsset": {
"id": 1,
"name": "Asset Category 1",
"color": "#123456"
}
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |
| Bad_Request | When missing required parameters. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```

```http
HTTP/1.1 400 Bad_Request
{
"message": "Missing required parameters"
}
```


## Delete Model

This API deletes Model (soft delete).

**DELETE** `https://baseurl/v1/modeling/models/:id`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/modeling/models/:id
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| message | String | Success message. |

```http
HTTP/1.1 200 OK
{
"message": "Model deleted Successfully"
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |
| Unprocessable_Entity | When Security does not exist. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```

```http
HTTP/1.1 422 Unprocessable_Entity
{
"message": " Model does not exists "
}
```


## Delete sleeve to model

This API delete sleeve to Model.

**DELETE** `https://baseurl/v1/modeling/models/:id/sleeves/:sleeveId`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/modeling/models/:id/sleeves/:sleeveId
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| messages | String | Shows the status of result |

```http
HTTP/1.1 200 OK
{
"messages" : "Sleeved account and Model association deleted"
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |
| Bad_Request | When missing required parameters. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```

```http
HTTP/1.1 400 Bad_Request
{
"message": "Missing required parameters"
}
```


## Delete Sub-Model in bulk

This API deletes Sub-Model in bulk (soft delete).

**PUT** `https://baseurl/v1/modeling/models/submodels?modelId={ID}`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/modeling/models/submodels/:id?modelId=1
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| submodels[] | Array | submodels to delete array |
| submodels.id | Number | id of submodel. |
| submodels.modelDetailId | Number | modelDetailId. |

```json
{
submodels : [{ id : 1, modelDetailId : 3}]
}
```

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| message | String | Success message. |

```http
HTTP/1.1 200 OK
{
"message": "Sub-Model deleted Successfully"
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |
| Unprocessable_Entity | When Security does not exist. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```

```http
HTTP/1.1 422 Unprocessable_Entity
{
"message": " Sub-Model does not exists "
}
```


## Delete Sub-Model

This API deletes Sub-Model (soft delete).

**DELETE** `https://baseurl/v1/modeling/models/submodels/:id?modelId={ID}&amp;modelDetailId={ID}`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/modeling/models/submodels/:id?modelId=1
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| message | String | Success message. |

```http
HTTP/1.1 200 OK
{
"message": "Sub-Model deleted Successfully"
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |
| Unprocessable_Entity | When Security does not exist. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```

```http
HTTP/1.1 422 Unprocessable_Entity
{
"message": " Sub-Model does not exists "
}
```


## Get All Model Filter Types

This API gets model all filters of model.

**GET** `https://baseurl/v1/modeling/models/filterTypes`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/modeling/models/filterTypes
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The filter Id. |
| name | String | Name of the filter. |
| filterType | String | the filter code. |

```http
HTTP/1.1 200 OK
[
{
"id": 1,
"name": "Approved Models",
"filterType": "APPROVED_MODELS"
},
{
"id": 2,
"name": "Waiting For Approval",
"filterType": "WAITING_FOR_APPROVAL"
},
{
"id": 3,
"name": "Draft Models",
"filterType": "DRAFT_MODELS"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get All Model Management Styles

This API gets model managementStyles.

**GET** `https://baseurl/v1/modeling/models/managementStyles`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/modeling/models/managementStyles
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The managementStyle Id. |
| name | String | Name of the managementStyle. |

```http
HTTP/1.1 200 OK
[
{
"id": 1,
"name": "Conservative"
},
{
"id": 2,
"name": "Aggressive"
},
{
"id": 3,
"name": "Neutral"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get All Model status

This API gets model modelStatus.

**GET** `https://baseurl/v1/modeling/models/modelStatus`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/modeling/models/modelStatus
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The modelStatus Id. |
| status | String | Name of the model status. |
| displayName | String | Display-Name of the model status. |

```http
HTTP/1.1 200 OK
[
{
"id": 1,
"status": "APPROVED",
"displayName": "Approved"
},
{
"id": 2,
"status": "NOT_ACTIVE",
"displayName": "Not Active"
},
{
"id": 3,
"status": "WAITITNG_FOR_APPROVAL",
"displayName": "Waiting For Approval"
},
{
"id": 4,
"status": "DRAFT",
"displayName": "Draft"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get All Model types

This API gets model types.

**GET** `https://baseurl/v1/modeling/models/modelTypes`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/modeling/models/modelTypes
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token.x |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The modelType Id. |
| name | String | Name of model TypeId |
| displayName | String | Name of model TypeId |

```http
HTTP/1.1 200 OK
[
{
"id": "1",
"name": "CATEGORY",
"displayName": "Category"
},
{
"id": "2",
"name": "CLASS",
"displayName": "Class"
},
{
"id": "3",
"name": "SUBCLASS",
"displayName": "Sub Class"
},
{
"id": "4",
"name": "SECURITYSET",
"displayName": "Security Set"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get All Models with filter

This API gets model list with filters.

**GET** `https://baseurl/v1/modeling/models?filter={FILTER_ID1,FILTER_ID2}`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/modeling/models?filter=1
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The model Id. |
| name | String | Name of the Model. |
| description | String | Description of Model |
| portfolioCount | Number | Number of portfolio's model is assigned to. |
| source | String | Source. |
| statusId | Number | StatusId of model. |
| status | String | Status of model. |
| nameSpace | String | namespace. |
| tags | String | Tags. |
| isDynamic | Number | Whether model is Dynamic. |
| isSubstitutedForPortfolio | Number | Whether model is Substituted. |
| ownerUserId | Number | OwnerUserId of model. |
| ownerUser | String | OwnerUser model |
| managementStyleId | Number | ManagementStyleId of model |
| managementStyle | String | ManagementStyle of model |
| isCommunityModel | Boolean | flag if Model is imported from community. |
| communityModelId | Number | community modelId. |
| lastSyncDate | String | community model last sync date. |
| approvedByUserId | Number | UserId who approved the Model |
| approvedByUser | String | User who approved the model. |
| isDeleted | Boolean | If model is deleted |
| createdOn | String | Created Date of Model |
| createdBy | String | User who created the Model |
| editedOn | String | Edited Date of Model |
| editedBy | String | User who edited the Model |
| teams | Array | Teams |

```http
HTTP/1.1 200 OK
[
{
"id": 2,
"name": "model",
"portfolioCount": 5,
"source": "Team",
"statusId": 4,
"status": "DRAFT",
"namespace": null,
"tags": null,
"isDynamic": 0,
"isSubstitutedForPortfolio": 0,
"description": "ksdjfl",
"ownerUserId": 66,
"ownerUser": "prime@tgi.com",
"managementStyleId": 2,
"managementStyle": "Aggressive",
"isCommunityModel": null,
"approvedByUserId": null,
"approvedByUser": "prime@tgi.com",
"isDeleted": 0,
"createdOn": "2016-10-03T14:22:37.000Z",
"createdBy": "prime@tgi.com",
"editedOn": "2016-10-03T16:44:44.000Z",
"editedBy": "prime@tgi.com",
"teams": [
{
"id": 1,
"name": "newest team1"
}
]
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get All Models with with name and nameSpace

This API gets model list by name and nameSpace.

**GET** `https://baseurl/v1/modeling/models?name={NAME}&amp;nameSpace={NAMESPACE}`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/modeling/models?name=prime&nameSpace=xyz
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The model Id. |
| name | String | Name of the Model. |
| description | String | Description of Model |
| portfolioCount | Number | Number of portfolio's model is assigned to. |
| source | String | Source. |
| statusId | Number | StatusId of model. |
| status | String | Status of model. |
| nameSpace | String | namespace. |
| tags | String | Tags. |
| isDynamic | Number | Whether model is Dynamic. |
| isSubstitutedForPortfolio | Number | Whether model is Substituted. |
| ownerUserId | Number | OwnerUserId of model. |
| ownerUser | String | OwnerUser model |
| managementStyleId | Number | ManagementStyleId of model |
| managementStyle | String | ManagementStyle of model |
| isCommunityModel | Boolean | flag if Model is imported from community. |
| communityModelId | Number | community modelId. |
| lastSyncDate | String | community model last sync date. |
| approvedByUserId | Number | UserId who approved the Model |
| approvedByUser | String | User who approved the model. |
| isDeleted | Boolean | If model is deleted |
| createdOn | String | Created Date of Model |
| createdBy | String | User who created the Model |
| editedOn | String | Edited Date of Model |
| editedBy | String | User who edited the Model |
| teams | Array | Teams |

```http
HTTP/1.1 200 OK
[
{
"id": 2,
"name": "model",
"portfolioCount": 5,
"source": "Team",
"statusId": 4,
"status": "DRAFT",
"namespace": null,
"tags": null,
"isDynamic": 0,
"isSubstitutedForPortfolio": 0,
"description": "ksdjfl",
"ownerUserId": 66,
"ownerUser": "prime@tgi.com",
"managementStyleId": 2,
"managementStyle": "Aggressive",
"isCommunityModel": null,
"approvedByUserId": null,
"approvedByUser": "prime@tgi.com",
"isDeleted": 0,
"createdOn": "2016-10-03T14:22:37.000Z",
"createdBy": "prime@tgi.com",
"editedOn": "2016-10-03T16:44:44.000Z",
"editedBy": "prime@tgi.com",
"teams": [
{
"id": 1,
"name": "newest team1"
}
]
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get All Models

This API gets model list.

**GET** `https://baseurl/v1/modeling/models`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/modeling/models
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The model Id. |
| name | String | Name of the Model. |
| description | String | Description of Model |
| portfolioCount | Number | Number of portfolio's model is assigned to. |
| source | String | Source. |
| statusId | Number | StatusId of model. |
| status | String | Status of model. |
| nameSpace | String | namespace. |
| tags | String | Tags. |
| isDynamic | Number | Whether model is Dynamic. |
| isSubstitutedForPortfolio | Number | Whether model is Substituted. |
| ownerUserId | Number | OwnerUserId of model. |
| ownerUser | String | OwnerUser model |
| managementStyleId | Number | ManagementStyleId of model |
| managementStyle | String | ManagementStyle of model |
| isCommunityModel | Boolean | flag if Model is imported from community. |
| communityModelId | Number | community modelId. |
| lastSyncDate | String | community model last sync date. |
| approvedByUserId | Number | UserId who approved the Model |
| approvedByUser | String | User who approved the model. |
| isDeleted | Boolean | If model is deleted |
| createdOn | String | Created Date of Model |
| createdBy | String | User who created the Model |
| editedOn | String | Edited Date of Model |
| editedBy | String | User who edited the Model |
| teams | Array | Teams |

```http
HTTP/1.1 200 OK
[
{
"id": 2,
"name": "model",
"portfolioCount": 5,
"source": "Team",
"statusId": 4,
"status": "DRAFT",
"namespace": null,
"tags": null,
"isDynamic": 0,
"isSubstitutedForPortfolio": 0,
"description": "ksdjfl",
"ownerUserId": 66,
"ownerUser": "prime@tgi.com",
"managementStyleId": 2,
"managementStyle": "Aggressive",
"isCommunityModel": null,
"approvedByUserId": null,
"approvedByUser": "prime@tgi.com",
"isDeleted": 0,
"createdOn": "2016-10-03T14:22:37.000Z",
"createdBy": "prime@tgi.com",
"editedOn": "2016-10-03T16:44:44.000Z",
"editedBy": "prime@tgi.com",
"teams": [
{
"id": 1,
"name": "newest team1"
}
]
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get All Portfolios for given Model

This API gets portfolio's for models.

**GET** `https://baseurl/v1/modeling/models/:id/portfolios`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/modeling/models/:id/portfolios
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The model node Id. |
| name | String | Name of the model node. |
| substitutedModelId | Number | Substituted model id |
| status | String | Status of model-portfolio relation |

```http
HTTP/1.1 200 OK
[
{
"id": 3,
"name": "Test Portfolio 3",
"substitutedModelId": 0,
"status": "PENDING"
},
{
"id": 1,
"name": "Demo Portfolio Kate",
"substitutedModelId": 0,
"status": "PENDING"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get All security types for model

This API gets All security types for model

**GET** `https://baseurl/v1/modeling/models/:id/securitytypes`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/modeling/models/:id/securitytypes
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The security type Id. |
| name | Number | The Name of the security type. |

```http
HTTP/1.1 200 OK
{
"id": 491,
"name": "Test2016"
},
{
"id": 492,
"name": "Security Type 1"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get All sleeved accounts for given Model

This API gets sleeved accounts for models.

**GET** `https://baseurl/v1/modeling/models/:id/sleeves`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/modeling/models/:id/sleeves
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The model node Id. |
| name | String | Name of the model node. |
| accountId | Number | AccountId. |
| accountNumber | Number | accountNumber |
| portfolioId | Number | portfolioId whose this account is part of. |

```http
HTTP/1.1 200 OK
[
{
"id": 2,
"name": "Ashe Aaron M.",
"accountId": "1020_5",
"accountNumber": "L0704C0669",
"portfolioId": 3
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get All Sub Model based favorites flag.

This API gets all submodels based on favorites flag.

**GET** `https://baseurl/v1/modeling/models/submodels?favorites={BOOLEAN}`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/modeling/models/submodels?favorites={BOOLEAN}
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The model node Id. |
| name | String | Name of the model node. |
| modelType | String | The model Display name of relatedType. |
| modelTypeId | Number | The modeltype Id. |
| isFavorite | Boolean | Just to tell whether this is favorite or not |
| nameSpace | String | Namespace |
| securityAsset | SecurityAsset | model node securityAssetType. |
| securityAsset.id | Number | id of actual security asset. |
| securityAsset.name | String | name of actual security asset. |
| securityAsset.color | String | color of actual security asset. |

```http
HTTP/1.1 200 OK
[
{
"id": 3,
"name": "1 dfakdshfkh",
"modelType": "Category",
"modelTypeId": 1,
"isFavorite" : 1,
"securityAsset": {
"id": 1,
"name": "Asset Category 1",
"color": "#123456"
}
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get All Sub Model based on name and id

This API gets submodels by name and namespace.

**GET** `https://baseurl/v1/modeling/models/submodels?name={NAME}&amp;nameSpace={NAMESPACE}`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/modeling/models/submodels?name=equity&nameSpace=prime
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The model node Id. |
| name | String | Name of the model node. |
| modelType | String | The model Display name of relatedType. |
| modelTypeId | Number | The modeltype Id. |
| isFavorite | Boolean | Just to tell whether this is favorite or not |
| nameSpace | String | Namespace |
| securityAsset | SecurityAsset | model node securityAssetType. |
| securityAsset.id | Number | id of actual security asset. |
| securityAsset.name | String | name of actual security asset. |
| securityAsset.color | String | color of actual security asset. |

```http
HTTP/1.1 200 OK
[
{
"id": 3,
"name": "1 dfakdshfkh",
"modelType": "Category",
"modelTypeId": 1,
"isFavorite" : 1,
"securityAsset": {
"id": 1,
"name": "Asset Category 1",
"color": "#123456"
}
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get All Sub Model based on type and search name and id

This API gets sub-model based on two criterias modelType and search on name and id.

**GET** `https://baseurl/v1/modeling/models/submodels?modelType={ModelTypeId}&amp;search={ID/NAME}`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/modeling/models/submodels?modelType=1&search=equity
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The model node Id. |
| name | String | Name of the model node. |
| modelType | String | The model Display name of relatedType. |
| modelTypeId | Number | The modeltype Id. |
| isFavorite | Boolean | Just to tell whether this is favorite or not |
| nameSpace | String | Namespace |
| securityAsset | SecurityAsset | model node securityAssetType. |
| securityAsset.id | Number | id of actual security asset. |
| securityAsset.name | String | name of actual security asset. |
| securityAsset.color | String | color of actual security asset. |

```http
HTTP/1.1 200 OK
[
{
"id": 3,
"name": "1 dfakdshfkh",
"modelType": "Category",
"modelTypeId": 1,
"isFavorite" : 1,
"securityAsset": {
"id": 1,
"name": "Asset Category 1",
"color": "#123456"
}
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get All teams for Models

This API gets All teams for Models

**GET** `https://baseurl/v1/modeling/models/:id/teams?isEditModel=true`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/modeling/models/:id/teams?isEditMdel=false
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The team Id. |
| name | Number | Name of the team. |

```http
HTTP/1.1 200 OK
{
"id": 491,
"name": "Test2016"
},
{
"id": 492,
"name": "HDC team1"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get all the levels in Model.

This API gets all the levels for model.

**GET** `https://baseurl/v1/modeling/models/:id/levels`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/modeling/models/:id/levels
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The model Id. |
| name | String | name of level |

```http
HTTP/1.1 200 OK
[
{},
{
"id": 1,
"name": "Category"
},
{
"id": 2,
"name": "Class"
},
{
"id": 4,
"name": "Security Set"
},
{
"id": 3,
"name": "Sub Class"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get All Waiting For Approval Portfolios.

This API gets portfolio's for models.

**GET** `https://baseurl/v1/modeling/models/:id/portfolios/pending`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/modeling/models/:id/portfolios/pending
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| newModel | Object | Model Object |
| &nbsp;&nbsp;id | Number | New model node Id. |
| &nbsp;&nbsp;name | String | New Model Name. |
| oldModel | Object | Model Object |
| &nbsp;&nbsp;id | Number | old model node Id. |
| &nbsp;&nbsp;name | String | old Model Name. |
| requesterUserId | Number | requester User id. user who wanted this model to be assigned with portfolio. |
| requesterUser | String | requester User. |
| createdOn | String | creation date. |

```http
HTTP/1.1 200 OK
[
{
"newModel": {
"id": 83,
"name": "Raj Model652"
},
"oldModel": {
"id": null,
"name": null
},
"portfolio": {
"id": 11211591,
"name": "Portflio"
},
"requesterUserId": 66,
"requesterUser": "prime@tgi.com",
"createdOn": "2016-10-18T00:18:38.000Z"
},
{
"newModel": {
"id": 2,
"name": "Community Model 2"
},
"oldModel": {
"id": 2,
"name": "Community Model 2"
},
"portfolio": {
"id": 3,
"name": "Test Portfolio 3"
},
"requesterUserId": 66,
"requesterUser": "prime@tgi.com",
"createdOn": "2016-10-21T08:33:38.000Z"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get All Waiting For Approval sleeved accounts.

This API gets sleeve's for models.

**GET** `https://baseurl/v1/modeling/models/:id/sleeveaccount/pending`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/modeling/models/:id/sleeveaccount/pending
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| newModel | Object | Model Object |
| &nbsp;&nbsp;id | Number | New model node Id. |
| &nbsp;&nbsp;name | String | New Model Name. |
| oldModel | Object | Model Object |
| &nbsp;&nbsp;id | Number | old model node Id. |
| &nbsp;&nbsp;name | String | old Model Name. |
| requesterUserId | Number | requester User id. user who wanted this model to be assigned with portfolio. |
| requesterUser | String | requester User. |
| createdOn | String | creation date. |

```http
HTTP/1.1 200 OK
[
{
"newModel": {
"id": 83,
"name": "Raj Model652"
},
"oldModel": {
"id": null,
"name": null
},
"sleevedAccount": {
"id": 11211591,
"name": "Portflio"
},
"requesterUserId": 66,
"requesterUser": "prime@tgi.com",
"createdOn": "2016-10-18T00:18:38.000Z"
},
{
"newModel": {
"id": 2,
"name": "Community Model 2"
},
"oldModel": {
"id": 2,
"name": "Community Model 2"
},
"sleevedAccount": {
"id": 3,
"name": "Test Portfolio 3"
},
"requesterUserId": 66,
"requesterUser": "prime@tgi.com",
"createdOn": "2016-10-21T08:33:38.000Z"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get Changed Detailed Model

This API gets model Detail.

**GET** `https://baseurl/v1/modeling/models/:id/pending`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/modeling/models/:id/pending
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The model Id. |
| statusId | Number | StatusId of model |
| status | String | status of model |
| editedOn | String | Edited Date of Model |
| editedBy | String | User who edited the Model |
| modelDetail | ModelElement | Compelete Structure of Model |

```http
HTTP/1.1 200 OK
{
"id": 2,
"statusId": 1,
"status": "APPROVED",
"editedOn": "2016-09-27T05:00:59.000Z",
"editedBy": 66,
"modelDetail": {
"id": 126,
"name": "Test Model 13",
"modelType": null,
"modelTypeId": null,
"targetPercent": null,
"lowerModelTolerancePercent": null,
"upperModelTolerancePercent": null,
"rank" : 1,
"toleranceType": "RANGE",
"toleranceTypeValue": 44,
"lowerModelToleranceAmount": null,
"upperModelToleranceAmount": null,
"level": "0",
"leftValue": 1,
"rightValue": 10,
"children": [
{
"id": 9,
"name": "Test Model 13",
"modelType": null,
"modelTypeId": null,
"targetPercent": 5,
"lowerModelTolerancePercent": 5,
"upperModelTolerancePercent": 5,
"rank" : 1,
"toleranceType": "RANGE",
"toleranceTypeValue": 44,
"lowerModelToleranceAmount": null,
"upperModelToleranceAmount": null,
"level": "1",
"leftValue": 2,
"rightValue": 7,
"children": [
{
"id": 7,
"name": "Test Model 13",
"modelType": null,
"modelTypeId": null,
"targetPercent": 5,
"rank" : 1,
"lowerModelTolerancePercent": 5,
"upperModelTolerancePercent": 5,
"toleranceType": "RANGE",
"toleranceTypeValue": 44,
"lowerModelToleranceAmount": 5,
"upperModelToleranceAmount": 5,
"level": "2",
"leftValue": 3,
"rightValue": 4,
"children": []
},
{
"id": 8,
"name": "Test Model 13",
"modelType": null,
"modelTypeId": null,
"targetPercent": 5,
"rank" : 1,
"lowerModelTolerancePercent": 5,
"upperModelTolerancePercent": 5,
"toleranceType": "RANGE",
"toleranceTypeValue": 44,
"lowerModelToleranceAmount": 5,
"upperModelToleranceAmount": 5,
"level": "2",
"leftValue": 5,
"rightValue": 6,
"children": []
}
]
},
{
"id": 12,
"name": "Large cap",
"modelType": null,
"modelTypeId": null,
"targetPercent": 5,
"rank" : 1,
"lowerModelTolerancePercent": 5,
"upperModelTolerancePercent": 5,
"toleranceType": "RANGE",
"toleranceTypeValue": 44,
"lowerModelToleranceAmount": null,
"upperModelToleranceAmount": null,
"level": "1",
"leftValue": 8,
"rightValue": 9,
"children": []
}
]
}
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get Dashboard summary Models

This API gets model dashboard summary.

**GET** `https://baseurl/v1/dashboard/model/summary`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/dashboard/model/summary
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| totalNumberOfModels | Number | Total Number of models. |
| newModels | Number | The new models. |
| existingModels | Number | The existing models. |
| approvedModels | Number | Approved models. |
| waitingForApprovalModels | Number | Number of waiting for approval models. |
| draftModels | Number | Number of draft models. |
| OUBalanceModels | Number | Out of Balance model users |
| notActiveModels | Number | Not-Active models. |
| analyticsOn | String | Model edited date into application. |

```http
HTTP/1.1 200 OK
{
"totalNumberOfModels": 438,
"newModels": 0,
"existingModels": 438,
"approvedModels": 153,
"waitingForApprovalModels": 108,
"draftModels": 171,
"OUBalanceModels": 1,
"notActiveModels" : 1,
"analyticsOn": "2016-12-13T04:44:17.000Z",
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get Detailed Model

This API gets model with Details.

**GET** `https://baseurl/v1/modeling/models/:id`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/modeling/models/:id
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The model Id. |
| name | String | Name of the Model. |
| description | String | Description of Model |
| nameSpace | String | Namespace of the Model. |
| statusId | Number | StatusId of model |
| status | String | status of model |
| portfolioCount | Number | Number of portfolio's model is assigned to. |
| modelAUM | Number | Total sum of money invested in model. |
| ownerUserId | Number | OwnerUserId of model. |
| ownerUser | String | OwnerUser model |
| managementStyleId | Number | ManagementStyleId of model |
| managementStyle | String | ManagementStyle of model |
| isCommunityModel | Boolean | flag if Model is imported from community. |
| approvedByUserId | Number | UserId who approved the Model |
| approvedByUser | String | User who approved the model. |
| isDynamic | Boolean | Flag if Model is dynamic. |
| isDeleted | Boolean | If model is deleted |
| createdOn | String | Created Date of Model |
| editedOn | String | Edited Date of Model |
| createdBy | String | User who created the Model |
| editedBy | String | User who edited the Model |
| modelDetail | ModelElement | Compelete Structure of Model |

```http
HTTP/1.1 200 OK
{
"id": 1,
"name": "Community Model 1",
"description": null,
"nameSpace": "asdfa",
"statusId": 3,
"status": "Waiting For Approval",
"tags": null,
"ownerUserId": 66,
"ownerUser": "prime@tgi.com",
"managementStyleId": 1,
"managementStyle": "Conservative",
"isCommunityModel": null,
"communityModelId": null,
"lastSyncDate": "2016-09-02T10:15:50.000Z",
"approvedByUserId": null,
"approvedByUser": null,
"isDynamic": 0,
"isDeleted": 0,
"createdOn": "2016-09-02T10:15:50.000Z",
"editedOn": "2016-11-15T09:43:17.000Z",
"createdBy": "prime@tgi.com",
"editedBy": "prime@tgi.com",
"modelDetail": {
"modelDetailId": 1529,
"id": 343083,
"name": "Test Model 13",
"nameSpace": null,
"children": [
{
"id": 343023,
"name": "Raj Categor24919",
"modelType": "Category",
"modelTypeId": 1,
"nameSpace": "test",
"securityAsset": {
"id": 1,
"name": "Asset Category 1",
"color": "#123456"
},
"leftValue": 2,
"rightValue": 5,
"modelDetailId": 1524,
"targetPercent": 50,
"lowerModelTolerancePercent": 5,
"upperModelTolerancePercent": 5,
"lowerModelToleranceAmount": 5,
"upperModelToleranceAmount": 5,
"rank": 1,
"toleranceType": "RANGE",
"toleranceTypeValue": 44,
"isSubstituted": null,
"substitutedOf": null,
"children": [
{
"id": 343028,
"name": "Raj Sset24919",
"modelType": "Security Set",
"modelTypeId": 4,
"nameSpace": "test",
"securityAsset": {
"id": 36,
"color": null
},
"leftValue": 3,
"rightValue": 4,
"modelDetailId": 1523,
"targetPercent": 100,
"lowerModelTolerancePercent": 5,
"upperModelTolerancePercent": 5,
"lowerModelToleranceAmount": 5,
"upperModelToleranceAmount": 5,
"rank": 1,
"toleranceType": "RANGE",
"toleranceTypeValue": 44,
"isSubstituted": null,
"substitutedOf": null,
"children": []
}
]
},
{
"id": 343024,
"name": "Raj Cagor24949",
"modelType": "Category",
"modelTypeId": 1,
"nameSpace": "test",
"securityAsset": {
"id": 101,
"name": "Asset Category 101",
"color": "#96e499"
},
"leftValue": 6,
"rightValue": 13,
"modelDetailId": 1528,
"targetPercent": 50,
"lowerModelTolerancePercent": 5,
"upperModelTolerancePercent": 5,
"lowerModelToleranceAmount": 5,
"upperModelToleranceAmount": 5,
"rank": 1,
"toleranceType": "RANGE",
"toleranceTypeValue": 44,
"isSubstituted": null,
"substitutedOf": null,
"children": [
{
"id": 343025,
"name": "Raj Class24919",
"modelType": "Class",
"modelTypeId": 2,
"nameSpace": "test",
"securityAsset": {
"id": 528,
"name": "ass cla",
"color": null
},
"leftValue": 7,
"rightValue": 12,
"modelDetailId": 1527,
"targetPercent": 100,
"lowerModelTolerancePercent": 5,
"upperModelTolerancePercent": 5,
"lowerModelToleranceAmount": 5,
"upperModelToleranceAmount": 5,
"rank": 1,
"toleranceType": "RANGE",
"toleranceTypeValue": 44,
"isSubstituted": null,
"substitutedOf": null,
"children": [
{
"id": 343026,
"name": "Raj Subclass24919",
"modelType": "Sub Class",
"modelTypeId": 3,
"nameSpace": "test",
"securityAsset": {
"id": 2413,
"name": "Asset Sub Class 2413",
"color": "#123456"
},
"leftValue": 8,
"rightValue": 11,
"modelDetailId": 1526,
"targetPercent": 100,
"lowerModelTolerancePercent": 5,
"upperModelTolerancePercent": 5,
"lowerModelToleranceAmount": 5,
"upperModelToleranceAmount": 5,
"rank": 1,
"toleranceType": "RANGE",
"toleranceTypeValue": 44,
"isSubstituted": null,
"substitutedOf": null,
"children": [
{
"id": 343027,
"name": "Raj Secset24919",
"modelType": "Security Set",
"modelTypeId": 4,
"nameSpace": "test",
"securityAsset": {
"id": 52,
"color": null
},
"leftValue": 9,
"rightValue": 10,
"modelDetailId": 1525,
"targetPercent": 100,
"lowerModelTolerancePercent": 5,
"upperModelTolerancePercent": 5,
"lowerModelToleranceAmount": 5,
"upperModelToleranceAmount": 5,
"rank": 1,
"toleranceType": "RANGE",
"toleranceTypeValue": 44,
"isSubstituted": null,
"substitutedOf": null,
"children": []
}
]
}
]
}
]
}
],
"level": "0",
"leftValue": 1,
"rightValue": 14
},
"portfolioCount": 291,
"modelAUM": 1602.4
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get Detailed Model by Community Model Id

This API gets model with Details.

**GET** `https://baseurl/v1/modeling/models/:communityModelId`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/modeling/models/:communityModelId
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The model Id. |
| name | String | Name of the Model. |
| description | String | Description of Model |
| nameSpace | String | Namespace of the Model. |
| statusId | Number | StatusId of model |
| status | String | status of model |
| portfolioCount | Number | Number of portfolio's model is assigned to. |
| modelAUM | Number | Total sum of money invested in model. |
| ownerUserId | Number | OwnerUserId of model. |
| ownerUser | String | OwnerUser model |
| managementStyleId | Number | ManagementStyleId of model |
| managementStyle | String | ManagementStyle of model |
| isCommunityModel | Boolean | flag if Model is imported from community. |
| approvedByUserId | Number | UserId who approved the Model |
| approvedByUser | String | User who approved the model. |
| isDynamic | Boolean | Flag if Model is dynamic. |
| isDeleted | Boolean | If model is deleted |
| createdOn | String | Created Date of Model |
| editedOn | String | Edited Date of Model |
| createdBy | String | User who created the Model |
| editedBy | String | User who edited the Model |
| modelDetail | ModelElement | Compelete Structure of Model |

```http
HTTP/1.1 200 OK
{
"id": 1,
"name": "Community Model 1",
"description": null,
"nameSpace": "asdfa",
"statusId": 3,
"status": "Waiting For Approval",
"tags": null,
"ownerUserId": 66,
"ownerUser": "prime@tgi.com",
"managementStyleId": 1,
"managementStyle": "Conservative",
"isCommunityModel": null,
"communityModelId": null,
"lastSyncDate": "2016-09-02T10:15:50.000Z",
"approvedByUserId": null,
"approvedByUser": null,
"isDynamic": 0,
"isDeleted": 0,
"createdOn": "2016-09-02T10:15:50.000Z",
"editedOn": "2016-11-15T09:43:17.000Z",
"createdBy": "prime@tgi.com",
"editedBy": "prime@tgi.com",
"modelDetail": {
"modelDetailId": 1529,
"id": 343083,
"name": "Test Model 13",
"nameSpace": null,
"children": [
{
"id": 343023,
"name": "Raj Categor24919",
"modelType": "Category",
"modelTypeId": 1,
"nameSpace": "test",
"securityAsset": {
"id": 1,
"name": "Asset Category 1",
"color": "#123456"
},
"leftValue": 2,
"rightValue": 5,
"modelDetailId": 1524,
"targetPercent": 50,
"lowerModelTolerancePercent": 5,
"upperModelTolerancePercent": 5,
"lowerModelToleranceAmount": 5,
"upperModelToleranceAmount": 5,
"rank": 1,
"toleranceType": "RANGE",
"toleranceTypeValue": 44,
"isSubstituted": null,
"substitutedOf": null,
"children": [
{
"id": 343028,
"name": "Raj Sset24919",
"modelType": "Security Set",
"modelTypeId": 4,
"nameSpace": "test",
"securityAsset": {
"id": 36,
"color": null
},
"leftValue": 3,
"rightValue": 4,
"modelDetailId": 1523,
"targetPercent": 100,
"lowerModelTolerancePercent": 5,
"upperModelTolerancePercent": 5,
"lowerModelToleranceAmount": 5,
"upperModelToleranceAmount": 5,
"rank": 1,
"toleranceType": "RANGE",
"toleranceTypeValue": 44,
"isSubstituted": null,
"substitutedOf": null,
"children": []
}
]
},
{
"id": 343024,
"name": "Raj Cagor24949",
"modelType": "Category",
"modelTypeId": 1,
"nameSpace": "test",
"securityAsset": {
"id": 101,
"name": "Asset Category 101",
"color": "#96e499"
},
"leftValue": 6,
"rightValue": 13,
"modelDetailId": 1528,
"targetPercent": 50,
"lowerModelTolerancePercent": 5,
"upperModelTolerancePercent": 5,
"lowerModelToleranceAmount": 5,
"upperModelToleranceAmount": 5,
"rank": 1,
"toleranceType": "RANGE",
"toleranceTypeValue": 44,
"isSubstituted": null,
"substitutedOf": null,
"children": [
{
"id": 343025,
"name": "Raj Class24919",
"modelType": "Class",
"modelTypeId": 2,
"nameSpace": "test",
"securityAsset": {
"id": 528,
"name": "ass cla",
"color": null
},
"leftValue": 7,
"rightValue": 12,
"modelDetailId": 1527,
"targetPercent": 100,
"lowerModelTolerancePercent": 5,
"upperModelTolerancePercent": 5,
"lowerModelToleranceAmount": 5,
"upperModelToleranceAmount": 5,
"rank": 1,
"toleranceType": "RANGE",
"toleranceTypeValue": 44,
"isSubstituted": null,
"substitutedOf": null,
"children": [
{
"id": 343026,
"name": "Raj Subclass24919",
"modelType": "Sub Class",
"modelTypeId": 3,
"nameSpace": "test",
"securityAsset": {
"id": 2413,
"name": "Asset Sub Class 2413",
"color": "#123456"
},
"leftValue": 8,
"rightValue": 11,
"modelDetailId": 1526,
"targetPercent": 100,
"lowerModelTolerancePercent": 5,
"upperModelTolerancePercent": 5,
"lowerModelToleranceAmount": 5,
"upperModelToleranceAmount": 5,
"rank": 1,
"toleranceType": "RANGE",
"toleranceTypeValue": 44,
"isSubstituted": null,
"substitutedOf": null,
"children": [
{
"id": 343027,
"name": "Raj Secset24919",
"modelType": "Security Set",
"modelTypeId": 4,
"nameSpace": "test",
"securityAsset": {
"id": 52,
"color": null
},
"leftValue": 9,
"rightValue": 10,
"modelDetailId": 1525,
"targetPercent": 100,
"lowerModelTolerancePercent": 5,
"upperModelTolerancePercent": 5,
"lowerModelToleranceAmount": 5,
"upperModelToleranceAmount": 5,
"rank": 1,
"toleranceType": "RANGE",
"toleranceTypeValue": 44,
"isSubstituted": null,
"substitutedOf": null,
"children": []
}
]
}
]
}
]
}
],
"level": "0",
"leftValue": 1,
"rightValue": 14
},
"portfolioCount": 291,
"modelAUM": 1602.4
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get Detailed Sub Model

This API gets submodel detail.

**GET** `https://baseurl/v1/modeling/models/submodels/:id`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/modeling/models/submodels/:id
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The model Id. |
| name | String | Name of the Model. |
| nameSpace | String | Namespace |
| description | String | Description of Model |
| modelType | String | modelType |
| securityAsset.id | Number | id of actual security asset. |
| securityAsset.name | String | name of actual security asset. |
| securityAsset.color | String | color of actual security asset. |
| children | ModelElement[] | childrens |

```http
HTTP/1.1 200 OK
{
"id": 2,
"name": "1 2 child",
"modelType": "Security Set",
"securityAsset": {
"id": 1
},
"level": "2",
"leftValue": 5,
"rightValue": 6,
"isSubstituted": null,
"substituteOf": null,
"children": []
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get Model Allocations For securities

This api will be used to get holding list by for securities in model. By default, aggregated allocations will be returned for securities that are used multiple times in the model. The only fields returned in the response when aggregated are id, securityId, name, symbol, and targetInPercent.

**GET** `https://baseurl/v1/modeling/models/1/allocations?aggregateAllocations=true`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/modeling/models/1/allocations?aggregateAllocations=false
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| modelDetailId | Number | NodeId in model. |
| modelElementId | Number | model element as node in model. |
| id | Number | Security Id. |
| securityId | Number | Security Id. |
| name | String | Security name. |
| symbol | String | Security symbol. |
| targetInPercent | Number | Holding value. |
| lowerModelTolerancePercent | String | Account number associated with holding. |
| upperModelTolerancePercent | String | Security name. |
| assetCategoryIdOfSecurity | Number | asset category Id |
| assetClassIdOfSecurity | Number | asset class Id |
| assetSubClassIdOfSecurity | Number | asset subclass Id |
| assetCategoryNameOfSecurity | String | asset category name. |
| assetClassNameOfSecurity | String | asset class name. |
| assetSubClassNameOfSecurity | Number | asset subclass name. |

```http
HTTP/1.1 200 OK
[
{
"id": 40153,
"name": "Stone Ridge All Asset Variance Risk Premium",
"symbol": "AVRPX",
"targetInPercent": 2.73,
"modelDetailId": 23429,
"modelElementId": 1971,
"securitySetId": 9,
"targetPercentUptoSecuritySet": 13,
"categoryId": "5",
"categoryName": "Equity-MWA",
"classId": "35",
"className": "Alternative Investments",
"subclassId": null,
"subclassName": null,
"lowerModelTolerancePercent": 4.2,
"upperModelTolerancePercent": 4.2,
"assetCategoryIdOfSecurity": 7,
"assetCategoryNameOfSecurity": "Alternative Investments",
"assetClassIdOfSecurity": 974,
"assetClassNameOfSecurity": "Growth",
"assetSubClassIdOfSecurity": 681,
"assetSubClassNameOfSecurity": "Alternative Investments"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get Model Analysis Aggregate

This API get model aggregate detail for model analysis.

**GET** `https://baseurl/v1/modeling/models/{modelId}/modelAnalysis/modelAggregate?isIncludeCostBasis=0&amp;isIncludeTradeBlockAccount=0&amp;isExcludeAsset=0`

```bash
curl -i http://baseurl/v1/modeling/models/{modelId}/modelAnalysis/modelAggregate?isIncludeCostBasis=0&isIncludeTradeBlockAccount=0&isExcludeAsset=0
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| costBasis | Decimal | Cost basis. |
| cashValue: | Decimal | Cash value. |
| cashDiffrence: | Decimal | Cash Diffrence. |
| totalCash: | Decimal | Total Cash. |
| marketValue: | Decimal | Market value. |

```http
HTTP/1.1 200 OK
{
"costBasis": 0,
"cashValue": 24000,
"cashDifference": 0,
"totalCash": 24000,
"marketValue": 286950
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get Model Analysis

This API get model analysis for securityset, category, class or subclass

**GET** `https://baseurl/v1/modeling/models/{modelId}/modelAnalysis?assetType={securityset/category/class/subclass}&amp;isIncludeTradeBlockAccount=0&amp;isExcludeAsset=0`

```bash
curl -i http://baseurl/v1/modeling/models/{modelId}/modelAnalysis?assetType={securityset/category/class/subclass}&isIncludeTradeBlockAccount=0&isExcludeAsset=0
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| assetId: | Number | Asset id Which can be securityId, classId, subclassId or categoryId. |
| assetName: | String | Asset name Which can be securityName, className, subclassName, categoryName. |
| assetSymbol: | String | Asset symbol same as security symbol not available for others. |
| targetInPercentage | Decimal | Target value in percentage. |
| currentInPercentage: | Decimal | Current value in percentage. |
| postTradeInPercentage: | Decimal | Post trade value in percentage. |
| differenceInPercentage: | Decimal | Difference in percentage. |
| lowerModelTolerancePercentage: | Decimal | Lower Model Tolerance in percentage. |
| upperModelTolerancePercentage: | Decimal | Upper Model Tolerance in percentage. |
| currentInDollar | Decimal | Current value in dollar amount. |
| targetInDollar | Boolean | Target value in dollar amount. |
| differenceInDollar | Decimal | Difference in dollar. |
| postTradeInDollar | String | Post trade value in dollar. |
| currentInShares | Decimal | Current value in shares. |
| targetInShares | Boolean | Target value in shares. |
| differenceInShares | Decimal | Difference in shares |
| postTradeInShares | Boolean | Post trade value in shares. |

```http
HTTP/1.1 200 OK
[
{
"assetId": 14630,
"assetName": "Int IQ Smart Annuity: Janus Balanced",
"targetInPercentage": 0,
"currentInPercentage": 22.8,
"postTradeInPercentage": 22.8,
"differenceInPercentage": 0
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get Model Details For Export

This API will return .

**POST** `https://baseurl/v1/modeling/models/export`

```bash
curl -ihttp://baseurl/v1/modeling/models/export
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| modelId | Number | Modle id. |
| modelName | String | Model Name. |
| modelDescription | String | Model Description. |
| status | String | Model Status. |
| dynamic | String | Model Dynamic. |
| managementStyle | String | Management Style. |
| nameSpace | String | Name Space. |
| tags | String | Tags. |
| securitySetId | Number | Security Set Id. |
| securitySetName | String | Security Set Name. |
| securitySetTarget | Number | Security Set Target. |
| securitySetRange | Number | Security Set Band / Range. |
| securitySetUpperPercent | Number | Security Set Target. |
| securitySetLowerPercent | Number | Security Set Target. |
| categoryName | String | Category Sub Model Name. |
| categoryAssetClassType | String | Category Asset Class Type. |
| categoryNameSpace | String | Category Name Space. |
| categoryTarget | Number | Category Target. |
| categoryRange | Number | Category Band / Range. |
| categoryUpperPercent | Number | Category Target. |
| categoryLowerPercent | Number | Category Target. |
| className | String | Class Sub Model Name. |
| classAssetClassType | String | Class Asset Class Type. |
| classNameSpace | String | Class Name Space. |
| classTarget | Number | Class Target. |
| classRange | Number | Class Band / Range. |
| classUpperPercent | Number | Class Target. |
| classLowerPercent | Number | Class Target. |
| subClassName | String | SubClass Sub Model Name. |
| subClassAssetClassType | String | SubClass Asset Class Type. |
| subClassNameSpace | String | SubClass Name Space. |
| subClassTarget | Number | SubClass Target. |
| subClassRange | Number | SubClass Band / Range. |
| subClassUpperPercent | Number | SubClass Target. |
| subClassLowerPercent | Number | SubClass Target. |

```http
HTTP/1.1 200 OK
Binary File Data
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get Model Import Error Reports

This API gets model template.

**GET** `https://baseurl/v1/modeling/models/upload/modelImportErrorLogs`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/modeling/models/upload/modelImportErrorLogs
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

```http
HTTP/1.1 200 OK
FILE
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get Model Nodes

This API will return list of Portfolios/Model's nodes (Level and Sub Models).

**GET** `https://baseurl/v1/modeling/models/{modelId}/Model/nodes`

```bash
curl -ihttp://baseurl/v1/modeling/models/{modelId}/Model/nodes
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| portfolioId | Number | Protfolio id. |
| modelId | Number | Modle id. |
| levels | JSON | Levels/Nodes for model. |
| subModels | JSON | List of nodes( id from ModelDetail table and name) with node id and node name. |

```http
HTTP/1.1 200 OK
{
"portfolioId": 1,
"modelId": 604,
"levels": [
{
"level": "0",
"subModels": [
{
"id": 343685,
"subModelName": "asddf"
}
]
},
{
"level": "1",
"subModels": [
{
"id": 343684,
"subModelName": "Test ModDedld d13"
}
]
},
{
"level": "2",
"subModels": [
{
"id": 343684,
"subModelName": "Test ModDedld d13"
},
{
"id": 343682,
"subModelName": "Test Moddeld 13"
},
{
"id": 343683,
"subModelName": "SSd1"
}
]
},
{
"level": "3",
"subModels": [
{
"id": 343684,
"subModelName": "Test ModDedld d13"
},
{
"id": 343682,
"subModelName": "Test Moddeld 13"
},
{
"id": 343683,
"subModelName": "SSd1"
},
{
"id": 343681,
"subModelName": "Test dMdoSdel 13"
},
{
"id": 343679,
"subModelName": "Test Mdoddel 13"
},
{
"id": 343678,
"subModelName": "SdS1"
}
]
},
{
"level": "3",
"subModels": [
{
"id": 343684,
"subModelName": "Test ModDedld d13"
},
{
"id": 343682,
"subModelName": "Test Moddeld 13"
},
{
"id": 343683,
"subModelName": "SSd1"
},
{
"id": 343681,
"subModelName": "Test dMdoSdel 13"
},
{
"id": 343679,
"subModelName": "Test Mdoddel 13"
},
{
"id": 343678,
"subModelName": "SdS1"
},
{
"id": 343680,
"subModelName": "SdSS1"
}
]
}
],
"preSelectedNodeId": null
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get Model Templates

This API gets model template.

**GET** `https://baseurl/v1/modeling/models/upload/templates`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/modeling/models/upload/templates
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

```http
HTTP/1.1 200 OK
FILE
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get Models By Model Details

This API gets models by model details.

**POST** `https://baseurl/v1/modeling/models/modelsByModelDetails`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/modeling/models/modelsByModelDetails
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Name | Description |
|------|-------------|
| modelDetailIds | Number[] |

```json
{
"modelDetailIds": [
9478,
8493
]
}
```

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | Model Id |
| modelDescription | String | Model Description |
| modelDetailIds | Number[] | Model Detail Ids |
| modelName | String | Mode name |
| modelStatus | String | Model Status |
| portfolioCount | Number | Portfolio Count |

```http
HTTP/1.1 200 OK
[
{
<span class="Apple-converted-space">  	"id": 14
"modelDescription": "Updated"
"modelDetailIds": [20626, 30184]
"modelName": "SF Growth 4"
"modelStatus": "Approved"
"portfolioCount": 18
},
{
"id": 46
"modelDescription': "Updated"
"modelDetailIds": [21047, 29844]
"modelName": "SF Aggressive Growth 4"
"modelStatus": "Approved"
"portfolioCount": 8
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get Original And SubstituteModel Details by PortfolioId

This API gets model Details by portfolio id.

**GET** `https://baseurl/v1/modeling/models/modelDetails/portfolioId`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/modeling/models/modelDetails/:portfolioId
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The model Id. |
| name | String | Name of the Model. |
| description | String | Description of Model |
| nameSpace | String | Namespace of the Model. |
| statusId | Number | StatusId of model |
| status | String | status of model |
| ownerUserId | Number | OwnerUserId of model. |
| ownerUser | String | OwnerUser model |
| managementStyleId | Number | ManagementStyleId of model |
| managementStyle | String | ManagementStyle of model |
| isCommunityModel | Boolean | flag if Model is imported from community. |
| approvedByUserId | Number | UserId who approved the Model |
| approvedByUser | String | User who approved the model. |
| isDynamic | Boolean | Flag if Model is dynamic. |
| isDeleted | Boolean | If model is deleted |
| createdOn | String | Created Date of Model |
| editedOn | String | Edited Date of Model |
| createdBy | String | User who created the Model |
| editedBy | String | User who edited the Model |
| modelDetail | ModelElement | Compelete Structure of Model |

```http
HTTP/1.1 200 OK
originalModel: {
"id": 1,
"name": "Community Model 1",
"description": null,
"nameSpace": "asdfa",
"statusId": 3,
"status": "Waiting For Approval",
"tags": null,
"ownerUserId": 66,
"ownerUser": "prime@tgi.com",
"managementStyleId": 1,
"managementStyle": "Conservative",
"isCommunityModel": null,
"communityModelId": null,
"lastSyncDate": "2016-09-02T10:15:50.000Z",
"approvedByUserId": null,
"approvedByUser": null,
"isDynamic": 0,
"isDeleted": 0,
"createdOn": "2016-09-02T10:15:50.000Z",
"editedOn": "2016-11-15T09:43:17.000Z",
"createdBy": "prime@tgi.com",
"editedBy": "prime@tgi.com",
"modelDetail": {
"modelDetailId": 1529,
"id": 343083,
"name": "Test Model 13",
"nameSpace": null,
"children": [
{
"id": 343023,
"name": "Raj Categor24919",
"modelType": "Category",
"modelTypeId": 1,
"nameSpace": "test",
"securityAsset": {
"id": 1,
"name": "Asset Category 1",
"color": "#123456"
},
"leftValue": 2,
"rightValue": 5,
"modelDetailId": 1524,
"targetPercent": 50,
"lowerModelTolerancePercent": 5,
"upperModelTolerancePercent": 5,
"lowerModelToleranceAmount": 5,
"upperModelToleranceAmount": 5,
"rank": 1,
"toleranceType": "RANGE",
"toleranceTypeValue": 44,
"isSubstituted": null,
"substitutedOf": null,
"children": [
{
"id": 343028,
"name": "Raj Sset24919",
"modelType": "Security Set",
"modelTypeId": 4,
"nameSpace": "test",
"securityAsset": {
"id": 36,
"color": null
},
"leftValue": 3,
"rightValue": 4,
"modelDetailId": 1523,
"targetPercent": 100,
"lowerModelTolerancePercent": 5,
"upperModelTolerancePercent": 5,
"lowerModelToleranceAmount": 5,
"upperModelToleranceAmount": 5,
"rank": 1,
"toleranceType": "RANGE",
"toleranceTypeValue": 44,
"isSubstituted": null,
"substitutedOf": null,
"children": []
}
]
},
{
"id": 343024,
"name": "Raj Cagor24949",
"modelType": "Category",
"modelTypeId": 1,
"nameSpace": "test",
"securityAsset": {
"id": 101,
"name": "Asset Category 101",
"color": "#96e499"
},
"leftValue": 6,
"rightValue": 13,
"modelDetailId": 1528,
"targetPercent": 50,
"lowerModelTolerancePercent": 5,
"upperModelTolerancePercent": 5,
"lowerModelToleranceAmount": 5,
"upperModelToleranceAmount": 5,
"rank": 1,
"toleranceType": "RANGE",
"toleranceTypeValue": 44,
"isSubstituted": null,
"substitutedOf": null,
"children": [
{
"id": 343025,
"name": "Raj Class24919",
"modelType": "Class",
"modelTypeId": 2,
"nameSpace": "test",
"securityAsset": {
"id": 528,
"name": "ass cla",
"color": null
},
"leftValue": 7,
"rightValue": 12,
"modelDetailId": 1527,
"targetPercent": 100,
"lowerModelTolerancePercent": 5,
"upperModelTolerancePercent": 5,
"lowerModelToleranceAmount": 5,
"upperModelToleranceAmount": 5,
"rank": 1,
"toleranceType": "RANGE",
"toleranceTypeValue": 44,
"isSubstituted": null,
"substitutedOf": null,
"children": [
{
"id": 343026,
"name": "Raj Subclass24919",
"modelType": "Sub Class",
"modelTypeId": 3,
"nameSpace": "test",
"securityAsset": {
"id": 2413,
"name": "Asset Sub Class 2413",
"color": "#123456"
},
"leftValue": 8,
"rightValue": 11,
"modelDetailId": 1526,
"targetPercent": 100,
"lowerModelTolerancePercent": 5,
"upperModelTolerancePercent": 5,
"lowerModelToleranceAmount": 5,
"upperModelToleranceAmount": 5,
"rank": 1,
"toleranceType": "RANGE",
"toleranceTypeValue": 44,
"isSubstituted": null,
"substitutedOf": null,
"children": [
{
"id": 343027,
"name": "Raj Secset24919",
"modelType": "Security Set",
"modelTypeId": 4,
"nameSpace": "test",
"securityAsset": {
"id": 52,
"color": null
},
"leftValue": 9,
"rightValue": 10,
"modelDetailId": 1525,
"targetPercent": 100,
"lowerModelTolerancePercent": 5,
"upperModelTolerancePercent": 5,
"lowerModelToleranceAmount": 5,
"upperModelToleranceAmount": 5,
"rank": 1,
"toleranceType": "RANGE",
"toleranceTypeValue": 44,
"isSubstituted": null,
"substitutedOf": null,
"children": []
}
]
}
]
}
]
}
],
"level": "0",
"leftValue": 1,
"rightValue": 14
},
"portfolioCount": 291,
"modelAUM": 1602.4
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get securities of Sub Models

This API gets securities of sub models.

**POST** `https://baseurl/v1/modeling/models/submodels/securities`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/modeling/models/submodels/securities
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Name | Description |
|------|-------------|
| filter | Object |
| &nbsp;&nbsp;type | String |
| &nbsp;&nbsp;ids | Number[] |
| &nbsp;&nbsp;subModeltype | String |
| &nbsp;&nbsp;subModelIds | Number[] |

```json
{
"filter": {
type: "account",
ids: [6926, 8471],
subModelType: "CATEGORY",
subModelIds: [94, 38]
}
}
```

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| assetCategoryId | Number | Assest Category Id |
| assetCategoryName | String | Asset Category Name |
| assetClassId | Number | Asset Class Id |
| assetClassName | String | Asset Class Name |
| assetSubClassId | Number | Asset Sub Class Id |
| assetSubClassName | String | Asset Sub Class Name |
| lowerModelToleranceAmount | Number | Lower Model Tolerance Amount. |
| lowerModelTolerancePercent | Number | Lower Model Tolerance Percent |
| rank | Number | Rank |
| securityId | Number | Security Id |
| securityName | String | Security Name |
| securitySymbol | String | Security Symbol |
| securityType | String | Security Type |
| securityTypeId | Number | Security Type Id |
| targetPercent | Number | Target Percent |
| upperModelToleranceAmount | Number | Upper Model Tolerance Amount |

```http
HTTP/1.1 200 OK
[
{
<span class="Apple-converted-space">  	"assetCategoryId": 3
"assetCategoryName": "Equity"
"assetClassId": 19
"assetClassName": "US Mid Cap Stocks"
"assetSubClassId": 26
"assetSubClassName": "US Mid Growth"
"lowerModelToleranceAmount": 0
"lowerModelTolerancePercent": 0
"rank": null
"securityId": 5
"securityName": "iShares S&P Mid Cap 400 Growth ETF"
"securitySymbol": "IJK"
"securityType": "Equity"
"securityTypeId": 5
"targetPercent": 100
"upperModelToleranceAmount": 0
"upperModelTolerancePercent": 0
},
{
"assetCategoryId": 3
"assetCategoryName": "Equity"
"assetClassId": 20
"assetClassName": "US Small Cap Stocks"
"assetSubClassId": 30
"assetSubClassName": "US Small Value"
"lowerModelToleranceAmount": 0
"lowerModelTolerancePercent": 0
"rank": null
"securityId": 7
"securityName": "iShares S&P Small-Cap 600 Value"
"securitySymbol": "IJS"
"securityType": "Equity"
"securityTypeId": 5
"targetPercent": 100
"upperModelToleranceAmount": 0
"upperModelTolerancePercent": 0
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get Selected Model Node SMA weightings.

This API gets selected node SMA weightings.

**GET** `https://baseurl/v1/modeling/models/:id/smaweightings/:modelElementId`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/modeling/models/:id/smaweightings/:modelElementId
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The model Id. |
| name | String | name of level |

```http
HTTP/1.1 200 OK
[
{},
{
"id": 1,
"name": "Category"
},
{
"id": 2,
"name": "Class"
},
{
"id": 4,
"name": "Security Set"
},
{
"id": 3,
"name": "Sub Class"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get Sub Model based on type

This API gets sub model by modelTypeId.

**GET** `https://baseurl/v1/modeling/models/submodels?modelType={ModelTypeId}`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/modeling/models/submodels?modelType=1
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The model node Id. |
| name | String | Name of the model node. |
| modelType | String | The model Display name of relatedType. |
| modelTypeId | Number | The modeltype Id. |
| isFavorite | Boolean | Just to tell whether this is favorite or not |
| nameSpace | String | Namespace |
| securityAsset | SecurityAsset | model node securityAssetType. |
| securityAsset.id | Number | id of actual security asset. |
| securityAsset.name | String | name of actual security asset. |
| securityAsset.color | String | color of actual security asset. |

```http
HTTP/1.1 200 OK
[
{
"id": 3,
"name": "1 dfakdshfkh",
"modelType": "Category",
"modelTypeId": 1,
"isFavorite" : 1,
"securityAsset": {
"id": 1,
"name": "Asset Category 1",
"color": "#123456"
}
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## - Get a report of sub model usages

This API gets sub model by modelTypeId.

**GET** `https://baseurl/v1/modeling/models/submodels/usage`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/modeling/models/submodels?modelType=1
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The model node Id. |
| name | String | Name of the model node. |
| modelType | String | The model Display name of relatedType. |
| modelTypeId | Number | The modeltype Id. |
| isFavorite | Boolean | Just to tell whether this is favorite or not |
| nameSpace | String | Namespace |
| securityAsset | SecurityAsset | model node securityAssetType. |
| securityAsset.id | Number | id of actual security asset. |
| securityAsset.name | String | name of actual security asset. |
| securityAsset.color | String | color of actual security asset. |

```http
HTTP/1.1 200 OK
[
{
"id": 3,
"name": "1 dfakdshfkh",
"modelType": "Category",
"modelTypeId": 1,
"isFavorite" : 1,
"securityAsset": {
"id": 1,
"name": "Asset Category 1",
"color": "#123456"
}
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## ids:"1,2,3"} Get Sub Model based on type

This API gets submodels by name and namespace.

**POST** `https://baseurl/v1/modeling/models/assignedSubmodels?filter={type:"account",`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/modeling/models/submodels?modelType=1
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The model node Id. |
| name | String | Name of the model node. |
| modelType | String | The model Display name of relatedType. |
| modelTypeId | Number | The modeltype Id. |
| isFavorite | Boolean | Just to tell whether this is favorite or not |
| nameSpace | String | Namespace |
| securityAsset | SecurityAsset | model node securityAssetType. |
| securityAsset.id | Number | id of actual security asset. |
| securityAsset.name | String | name of actual security asset. |
| securityAsset.color | String | color of actual security asset. |

```http
HTTP/1.1 200 OK
[
{
"id": 3,
"name": "1 dfakdshfkh",
"modelType": "Category",
"modelTypeId": 1,
"isFavorite" : 1,
"securityAsset": {
"id": 1,
"name": "Asset Category 1",
"color": "#123456"
}
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get Sub Model based on type

This API gets sub model by modelTypeId.

**GET** `https://baseurl/v1/modeling/models/allSubModel?modelType={ModelTypeId}`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/modeling/models/allSubModel?modelType=1
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The model node Id. |
| name | String | Name of the model node. |
| modelType | String | The model Display name of relatedType. |
| createdDate | Date | Creation Date of security set. |

```http
HTTP/1.1 200 OK
[
{
"id": 3,
"name": "1 test",
"modelType": "Category",
"createdDate": "2016-08-02T10:14:54.000Z"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get Sub Model

This API gets sub model.

**GET** `https://baseurl/v1/modeling/models/getSubmodels`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/modeling/models/getSubmodels
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The model node Id. |
| name | String | Name of the model node. |
| modelType | String | The model Display name of relatedType. |
| modelTypeId | Number | The modeltype Id. |
| isFavorite | Boolean | Just to tell whether this is favorite or not |
| nameSpace | String | Namespace |
| securityAsset | SecurityAsset | model node securityAssetType. |
| securityAsset.id | Number | id of actual security asset. |
| securityAsset.name | String | name of actual security asset. |
| securityAsset.color | String | color of actual security asset. |

```http
HTTP/1.1 200 OK
[
{
"id": 3,
"name": "1 dfakdshfkh",
"modelType": "Category",
"modelTypeId": 1,
"isFavorite" : 1,
"securityAsset": {
"id": 1,
"name": "Asset Category 1",
"color": "#123456"
}
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get Teams having Sub Model access

This API gets teams of sub model.

**GET** `https://baseurl/v1/modeling/models/submodel/:id/teams`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/modeling/models/submodel/:id/teams
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| ids | Array | Team ids |

```http
HTTP/1.1 200 OK
` * 			[1,2,3]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Rebalance for Model.

**POST** `https://baseurl/v1/rebalancer/rebalance`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/rebalancer/rebalance
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| type | String | model type to rebalance |
| ids | Array | ids to rebalance |
| firmId | Integer | Firm id on which rebalancer to run |
| isViewOnly | Boolean | boolean param for view only purpose |

```json
{
"type": "model",
"ids": [
1,
2,
3
],
"firmId": 3,
"isViewOnly": false
}
```

```json
{
"type": "portfolio",
"ids": [
1,
2,
3
],
"firmId": 3,
"isViewOnly": false
}
```

```json
{
"type": "account",
"ids": [
1,
2,
3
],
"firmId": 3,
"isViewOnly": false
}
```

```json
{
"type": "community model",
"ids": [
1,
2,
3
],
"firmId": 3,
"isViewOnly": false
}
```

```json
{
"type": "model detail",
"portfolioIds": [
1,
2
],
"accountIds": [
12,
21
],
"ids": [
1,
2,
3
],
"firmId": 3,
"isViewOnly": true
}
```

```json
{
"type": "model detail",
"ids": [
1,
2,
3
],
"firmId": 3,
"isViewOnly": false
}
```

```http
HTTP/1.1 201 OK
```

```json
[
{
"response": {
"success": false,
"message": "No Securities found for SecuritySets.",
"data": "https://orion-eclipse-lambda-audit-file.s3.amazonaws.com/0.txt",
"tradeCode": 0,
"portfolioId": 0,
"tradeInfo": null
}
},
{
"response": {
"success": true,
"message": "Rebalancer ran successfully.",
"data": "https://orion-eclipse-lambda-audit-file.s3.amazonaws.com/9314179.txt",
"tradeCode": 9314179,
"portfolioId": 559,
"tradeInfo": {
"numberOfTradesGenerated": 27,
"tradeDiscardMessages": []
}
}
},
{
"response": {
"success": false,
"message": "No model is assigned for sleeve accountaccount number = LA0_59C-ELPMAS and account id =960",
"data": "https://orion-eclipse-lambda-audit-file.s3.amazonaws.com/0.txt",
"tradeCode": 0,
"portfolioId": 0,
"tradeInfo": null
}
},
{
"response": {
"success": true,
"message": "Rebalancer ran successfully.",
"data": "https://orion-eclipse-lambda-audit-file.s3.amazonaws.com/4923085.txt",
"tradeCode": 4923085,
"portfolioId": 548,
"tradeInfo": {
"numberOfTradesGenerated": 0,
"tradeDiscardMessages": []
}
}
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |
| Bad_Request | When missing required parameters. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```

```http
HTTP/1.1 400 Bad_Request
{
"message": "Missing required parameters"
}
```


## Retry Update Other Model Process

This API will return .

**POST** `https://baseurl/v1/modeling/models/updateOtherModel/retryProcess`

```bash
curl -ihttp://baseurl/v1/modeling/models/updateOtherModel/retryProcess
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

```http
HTTP/1.1 200 OK
SUCCESS
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Search Models

This API search model.

**GET** `https://baseurl/v1/modeling/models?search={id/name}`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/modeling/models?search={id/name}
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The model Id. |
| name | String | Name of the Model. |
| description | String | Description of Model |
| portfolioCount | Number | Number of portfolio's model is assigned to. |
| source | String | Source. |
| statusId | Number | StatusId of model. |
| status | String | Status of model. |
| nameSpace | String | namespace. |
| tags | String | Tags. |
| isDynamic | Number | Whether model is Dynamic. |
| isSubstitutedForPortfolio | Number | Whether model is Substituted. |
| ownerUserId | Number | OwnerUserId of model. |
| ownerUser | String | OwnerUser model |
| managementStyleId | Number | ManagementStyleId of model |
| managementStyle | String | ManagementStyle of model |
| isCommunityModel | Boolean | flag if Model is imported from community. |
| communityModelId | Number | community modelId. |
| lastSyncDate | String | community model last sync date. |
| approvedByUserId | Number | UserId who approved the Model |
| approvedByUser | String | User who approved the model. |
| isDeleted | Boolean | If model is deleted |
| createdOn | String | Created Date of Model |
| createdBy | String | User who created the Model |
| editedOn | String | Edited Date of Model |
| editedBy | String | User who edited the Model |
| teams | Array | Teams |

```http
HTTP/1.1 200 OK
[
{
"id": 2,
"name": "model",
"description": "ksdjfl",
"portfolioCount": 5,
"source": "Team",
"statusId": 4,
"status": "DRAFT",
"namespace": null,
"tags": null,
"isDynamic": 0,
"isSubstitutedForPortfolio": 0,
"ownerUserId": 66,
"ownerUser": "prime@tgi.com",
"managementStyleId": 2,
"managementStyle": "Aggressive",
"isCommunityModel": null,
<span class="Apple-converted-space">  	"communityModelId": null,
<span class="Apple-converted-space">  		"lastSyncDate": "2016-09-02T10:15:50.000Z",
"approvedByUserId": null,
"approvedByUser": "prime@tgi.com",
"isDeleted": 0,
"createdOn": "2016-10-03T14:22:37.000Z",
"createdBy": "prime@tgi.com",
"editedOn": "2016-10-03T16:44:44.000Z",
"editedBy": "prime@tgi.com",
"teams": [
{
"id": 1,
"name": "newest team1"
}
]
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Unassign portfolio from model

This API unassign portfolio from model.

**DELETE** `https://baseurl/v1/modeling/models/:id/portfolios/:portfolioId`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/modeling/models/2/portfolios/2
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| messages | String | Shows the status of result |

```http
HTTP/1.1 200 OK
{
<span class="Apple-converted-space"> 	"messages" : "Model unassigned from Portfolios"
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |
| Bad_Request | When missing required parameters. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```

```http
HTTP/1.1 400 Bad_Request
{
"message": "Missing required parameters"
}
```


## update certain fields in Model

This API certain fields in update Model.

**PATCH** `https://baseurl/v1/modeling/models/:id`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/modeling/models/:id
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| data | Array | Array of operationss. |

```json
{
"data": [
{
"op": "replace",
"path": "/name",
"value": "model name"
},
{
"op": "replace",
"path": "/nameSpace",
"value": "team name"
}
]
}
```

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The model Id. |
| name | String | Name of the Model. |
| description | String | Description of Model |
| nameSpace | String | Namespace of Model |
| statusId | Number | StatusId of model |
| status | String | status of model |
| portfolioCount | Number | Number of portfolio's model is assigned to. |
| modelAUM | Number | Total sum of money invested in model. |
| ownerUserId | Number | OwnerUserId of model. |
| ownerUser | String | OwnerUser model |
| managementStyleId | Number | ManagementStyleId of model |
| managementStyle | String | ManagementStyle of model |
| isCommunityModel | Boolean | flag if Model is imported from community. |
| approvedByUserId | Number | UserId who approved the Model |
| approvedByUser | String | User who approved the model. |
| isDynamic | Boolean | Flag if Model is dynamic. |
| isDeleted | Boolean | If model is deleted |
| createdOn | String | Created Date of Model |
| editedOn | String | Edited Date of Model |
| createdBy | String | User who created the Model |
| editedBy | String | User who edited the Model |

```http
HTTP/1.1 201 OK
{
"id": 2,
"name": "Test Model 13",
"description": null,
"statusId": 1,
"status": "APPROVED",
"portfolioCount": 0,
"modelAUM": 0,
"ownerUserId": 66,
"ownerUser": "prime@tgi.com",
"managementStyleId": 2,
"managementStyle": "Aggressive",
"isCommunityModel": null,
"approvedByUserId": null,
"approvedByUser": "prime@tgi.com",
"isDynamic": 0,
"isDeleted": 0,
"createdOn": "2016-09-27T04:37:53.000Z",
"editedOn": "2016-09-27T05:00:59.000Z",
"createdBy": 66,
"editedBy": 66
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |
| Bad_Request | When missing required parameters. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```

```http
HTTP/1.1 400 Bad_Request
{
"message": "Missing required parameters"
}
```


## update Model Detail

This API update Model Detail.

**PUT** `https://baseurl/v1/modeling/models/:id/modelDetail`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/modeling/models/:id/modelDetail
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| substitutedModelId | Number | When creating substitute no need to send it. but when updating substitute you need to send the subsituted modelId. which you will get from portfolio. |
| substitutedFor | Number | Id of portfolio for which this model is substituted. |
| modelDetail | ModelDetail | Complete Tree Structure. |
| modelDetail.id | String | id of submodel |
| modelDetail.modelDetailId | String | internal id of model-submodel associations |
| modelDetail.name | String | name |
| modelDetail.nameSpace | String | nameSpace |
| modelDetail.securityAsset | securityAsset | Security Asset Obj. |
| modelDetail.securityAsset.id | Number | Actual id of asset which is used. |
| modelDetail.targetPercent | Number | Target Percent. |
| modelDetail.toleranceType | String | ToleranceType can be one of two vlaues range/fixband% Id |
| modelDetail.toleranceTypeValue | Number | value of tolerance type. |
| modelDetail.rank | Number | rank |
| modelDetail.lowerModelTolerancePercent | Number | lowerModelTolerancePercent. |
| modelDetail.upperModelTolerancePercent | Number | upperModelTolerancePercent |
| modelDetail.lowerModelToleranceAmount | Number | lowerModelToleranceAmount |
| modelDetail.upperModelToleranceAmount | Number | upperModelToleranceAmount |
| modelDetail.children | ModelDetail[] | Children of current Node |
| modelDetail.isEdited | Number | When using submodel, and if you change the submodel. \n Changes can of two types 1. adding/removing child or changing the child, changing percentages of child. |
| modelDetail.isSubstituted | Number | If current submodel is isSubstituted. |
| modelDetail.substitutedOf | Number | The submodel which is acting substitute of this node |

```json
{
"substitutedModelId" : 1,
"substitutedFor" : "PORTFOLIO_ID"
"modelDetail": {
"name" : "asdf",
"targetPercent": 100,
"toleranceType": "RANGE",
"toleranceTypeValue": 44,
"rank" : 1,
"lowerModelTolerancePercent": 0,
"upperModelTolerancePercent": 0,
"lowerModelToleranceAmount": 0,
"upperModelToleranceAmount": 0,
"isSubstituted" : 1,
"substitutedOf" : oldsubmodeiId,
"isEdited" : 1,
"children": [
{
"id": 9,
"name": "Test Model 13",
"nameSpace" : "namespace"
"modelTypeId" : 1,
"securityAsset" : {
"id" : 1
},
"targetPercent": 5,
"rank" : 1,
"toleranceType": "RANGE",
"toleranceTypeValue": 44,
"lowerModelTolerancePercent": 5,
"upperModelTolerancePercent": 5,
"lowerModelToleranceAmount": 5,
"upperModelToleranceAmount": 5,
"children": [
{
"id": 7,
"name": "Test Model 13",
"modelTypeId" : 1,
"securityAsset" : {
"id" : 1
},
"targetPercent": 5,
"lowerModelTolerancePercent": 5,
"upperModelTolerancePercent": 5,
"rank" : 1,
"toleranceType": "RANGE",
"toleranceTypeValue": 44,
"lowerModelToleranceAmount": null,
"upperModelToleranceAmount": null,
"children": []
},
{
"id": 8,
"name": "Test Model 13",
"modelTypeId" : 1,
"securityAsset" : {
"id" : 1
},
"targetPercent": 5,
"rank" : 1,
"lowerModelTolerancePercent": 5,
"upperModelTolerancePercent": 5,
"toleranceType": "RANGE",
"toleranceTypeValue": 44,
"lowerModelToleranceAmount": null,
"upperModelToleranceAmount": null,
"children": []
}
]
},
{
"id": 12,
"name": "Large cap",
"modelTypeId" : 1,
"securityAsset" : {
"id" : 1
},
"targetPercent": 5,
"rank" : 1,
"lowerModelTolerancePercent": 5,
"upperModelTolerancePercent": 5,
"toleranceType": "RANGE",
"toleranceTypeValue": 44,
"lowerModelToleranceAmount": 5,
"upperModelToleranceAmount": 5,
"children": []
}
]
}
}
```

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The model Id. |
| name | String | Name of the Model. |
| description | String | Description of Model |
| statusId | Number | StatusId of model |
| status | String | status of model |
| tags | String | Tags. |
| portfolioCount | Number | Number of portfolio's model is assigned to. |
| modelAUM | Number | Total sum of money invested in model. |
| ownerUserId | Number | OwnerUserId of model. |
| ownerUser | String | OwnerUser model |
| managementStyleId | Number | ManagementStyleId of model |
| managementStyle | String | ManagementStyle of model |
| isCommunityModel | Boolean | flag if Model is imported from community. |
| approvedByUserId | Number | UserId who approved the Model |
| approvedByUser | String | User who approved the model. |
| isDynamic | Boolean | Flag if Model is dynamic. |
| isDeleted | Boolean | If model is deleted |
| createdOn | String | Created Date of Model |
| editedOn | String | Edited Date of Model |
| createdBy | String | User who created the Model |
| editedBy | String | User who edited the Model |
| modelDetail | ModelElement | Compelete Structure of Model |

```http
HTTP/1.1 201 OK
{
"id": 2,
"name": "Test Model 13",
"description": null,
"statusId": 1,
"status": "APPROVED",
"portfolioCount": 0,
"modelAUM": 0,
"ownerUserId": 66,
"ownerUser": "prime@tgi.com",
"managementStyleId": 2,
"managementStyle": "Aggressive",
"isCommunityModel": null,
"approvedByUserId": null,
"approvedByUser": "prime@tgi.com",
"isDynamic": 0,
"isDeleted": 0,
"createdOn": "2016-09-27T04:37:53.000Z",
"editedOn": "2016-09-27T05:00:59.000Z",
"createdBy": 66,
"editedBy": 66,
"modelDetail": {
"id": 126,
"name": "Test Model 13",
"modelType": null,
"modelTypeId": null,
"targetPercent": null,
"lowerModelTolerancePercent": null,
"upperModelTolerancePercent": null,
"rank" : 1,
"toleranceType": "RANGE",
"toleranceTypeValue": 44,
"lowerModelToleranceAmount": null,
"upperModelToleranceAmount": null,
"level": "0",
"leftValue": 1,
"rightValue": 10,
"children": [
{
"id": 9,
"name": "Test Model 13",
"modelType": null,
"modelTypeId": null,
"targetPercent": 5,
"lowerModelTolerancePercent": 5,
"upperModelTolerancePercent": 5,
"rank" : 1,
"toleranceType": "RANGE",
"toleranceTypeValue": 44,
"lowerModelToleranceAmount": null,
"upperModelToleranceAmount": null,
"level": "1",
"leftValue": 2,
"rightValue": 7,
"children": [
{
"id": 7,
"name": "Test Model 13",
"modelType": null,
"modelTypeId": null,
"targetPercent": 5,
"rank" : 1,
"lowerModelTolerancePercent": 5,
"upperModelTolerancePercent": 5,
"toleranceType": "RANGE",
"toleranceTypeValue": 44,
"lowerModelToleranceAmount": 5,
"upperModelToleranceAmount": 5,
"level": "2",
"leftValue": 3,
"rightValue": 4,
"children": []
},
{
"id": 8,
"name": "Test Model 13",
"modelType": null,
"modelTypeId": null,
"targetPercent": 5,
"rank" : 1,
"lowerModelTolerancePercent": 5,
"upperModelTolerancePercent": 5,
"toleranceType": "RANGE",
"toleranceTypeValue": 44,
"lowerModelToleranceAmount": 5,
"upperModelToleranceAmount": 5,
"level": "2",
"leftValue": 5,
"rightValue": 6,
"children": []
}
]
},
{
"id": 12,
"name": "Large cap",
"modelType": null,
"modelTypeId": null,
"targetPercent": 5,
"rank" : 1,
"lowerModelTolerancePercent": 5,
"upperModelTolerancePercent": 5,
"toleranceType": "RANGE",
"toleranceTypeValue": 44,
"lowerModelToleranceAmount": null,
"upperModelToleranceAmount": null,
"level": "1",
"leftValue": 8,
"rightValue": 9,
"children": []
}
]
}
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |
| Bad_Request | When missing required parameters. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```

```http
HTTP/1.1 400 Bad_Request
{
"message": "Missing required parameters"
}
```


## update Model

This API update Model.

**PUT** `https://baseurl/v1/modeling/models/:id`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/modeling/models/:id
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The model Id. |
| name | String | Name of the Model. |
| nameSpace | String | Namespace of the Model. |
| description | String | Description of Model |
| tags | String | tags of Model |
| statusId | Number | StatusId of model |
| managementStyleId | Number | ManagementStyleId of model |
| isCommunityModel | Boolean | flag if Model is imported from community. |
| excludeRebalanceSleeve | Boolean | Flag if assigned sleeved accounts should be marked exclude from rebalance. |

```json
{
"name": "Test Model 13",
"nameSpace": "sdf",
"description": null,
"statusId": 1,
"managementStyleId": 2,
"isCommunityModel": null,
"isDynamic": 0,
"excludeRebalanceSleeve": false
}
```

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The model Id. |
| name | String | Name of the Model. |
| description | String | Description of Model |
| nameSpace | String | Namespace of Model |
| statusId | Number | StatusId of model |
| status | String | status of model |
| portfolioCount | Number | Number of portfolio's model is assigned to. |
| modelAUM | Number | Total sum of money invested in model. |
| ownerUserId | Number | OwnerUserId of model. |
| ownerUser | String | OwnerUser model |
| managementStyleId | Number | ManagementStyleId of model |
| managementStyle | String | ManagementStyle of model |
| isCommunityModel | Boolean | flag if Model is imported from community. |
| approvedByUserId | Number | UserId who approved the Model |
| approvedByUser | String | User who approved the model. |
| isDynamic | Boolean | Flag if Model is dynamic. |
| isDeleted | Boolean | If model is deleted |
| createdOn | String | Created Date of Model |
| editedOn | String | Edited Date of Model |
| createdBy | String | User who created the Model |
| editedBy | String | User who edited the Model |
| excludeRebalanceSleeve | Boolean | Flag if assigned sleeved accounts should be marked exclude from rebalance |

```http
HTTP/1.1 201 OK
{
"id": 2,
"name": "Test Model 13",
"description": null,
"statusId": 1,
"status": "APPROVED",
"portfolioCount": 0,
"modelAUM": 0,
"ownerUserId": 66,
"ownerUser": "prime@tgi.com",
"managementStyleId": 2,
"managementStyle": "Aggressive",
"isCommunityModel": null,
"approvedByUserId": null,
"approvedByUser": "prime@tgi.com",
"isDynamic": 0,
"isDeleted": 0,
"createdOn": "2016-09-27T04:37:53.000Z",
"editedOn": "2016-09-27T05:00:59.000Z",
"createdBy": 66,
"editedBy": 66,
"excludeRebalanceSleeve": false
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |
| Bad_Request | When missing required parameters. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```

```http
HTTP/1.1 400 Bad_Request
{
"message": "Missing required parameters"
}
```


## update particular node in Model.

This API update particular node in Model.

**PUT** `https://baseurl/v1/modeling/models/:id/modelDetail/:modelDetailId`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/modeling/models/:id/modelDetail/:modelDetailId
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| targetPercent | Number | Target Percent. |
| lowerModelTolerancePercent | Number | lowerModelTolerancePercent. |
| upperModelTolerancePercent | Number | upperModelTolerancePercent |

```json
{
"targetPercent": 4,
"lowerModelTolerancePercent": 5,
"upperModelTolerancePercent": 5
}
```

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| message | String | Name of the Model. |

```http
HTTP/1.1 201 OK
{
message :"Model Node updated successfully"
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |
| Bad_Request | When missing required parameters. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```

```http
HTTP/1.1 400 Bad_Request
{
"message": "Missing required parameters"
}
```


## Update Security Detailes

This API Updates Security.

**PATCH** `https://baseurl/v1/security/securities/:id`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/modeling/models/:id
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| data | Array | Array of operationss. |

```json
{
"data" : [
{ "op" : "replace", "path" : "/symbol" , "value" : "model name"	},
]
}
```

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The Security Id. |
| name | String | Name of the Security in Eclipse. |
| symbol | String | Symbol of the Security in Eclipse. |
| securityTypeId | Number | SecurityType Id in Eclipse. |
| securityType | String | SecurityType Name in Eclipse. |
| price | Number | Latest Security price in Eclipse. |
| status | String | Security Status in Eclipse. |
| isDeleted | Number | Security exists in system or not in Eclipse. |
| assetCategoryId | Number | AssetCategoryId of Security in Eclipse. |
| assetClassId | Number | AssetClassId of Security in Eclipse. |
| assetSubClassId | Number | AssetSubClassId of Security in Eclipse. |
| assetCategory | String | AssetCategory Name of Security in Eclipse. |
| assetClass | String | AssetClass Name of Security in Eclipse. |
| assetSubClass | String | AssetSubClass Name of Security in Eclipse. |
| custodialCash | Number | Security is custodial cash or not. |
| createdOn | Date | Security creation Date. |
| createdBy | Number | Full Name of user who created the Security into the system. |
| editedOn | Date | Security edited date into the system. |
| editedBy | Number | Full Name of user who edited the Security into the system. |
| custodians | String[] | List of Custodians associated with Security. |

```http
HTTP/1.1 201 OK
{
"id": 8496,
"name": "Sysco Corporation",
"symbol": "SYY",
"status": "OPEN",
"price": 150,
"custodialCash": null,
"assetCategoryId": 1,
"assetClassId": 1,
"assetSubClassId": 2413,
"assetCategory": "Fixed Income",
"assetClass": "Municipal Bond",
"assetSubClass": "FND",
"securityTypeId": 1,
"securityType": "MUTUAL FUND",
"isDeleted": null,
"createdOn": null,
"createdBy": "Prime Prime",
"editedOn": "2016-07-21T23:41:40.000Z",
"editedBy": "Prime Prime",
"custodians": []
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |
| Bad_Request | When missing required parameters. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```

```http
HTTP/1.1 400 Bad_Request
{
"message": "Missing required parameters"
}
```


## Update submodel favorite status

This API update favorite flag for SubModel.

**PUT** `https://baseurl/v1/modeling/models/submodels/favorites/:id`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/modeling/models/submodels/favorites/:id
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| isFavorite | Boolean | Just to tell whether this is favorite or not |

```json
{
"isFavorite" : BOOLEAN
}
```

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| message | String | Favorites updated. |

```http
HTTP/1.1 201 OK
{
"message": "Model flag for favorite updated"
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |
| Bad_Request | When missing required parameters. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```

```http
HTTP/1.1 400 Bad_Request
{
"message": "Missing required parameters"
}
```


## Update submodel

This API update SubModel.

**PUT** `https://baseurl/v1/modeling/models/submodels/:id`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/modeling/models/submodels/1
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| name | String | Name of the Model. |
| nameSpace | String | Namespace |
| isFavorite | Boolean | Just to tell whether this is favorite or not |
| modelTypeId | Number | model type of submodel |
| securityAsset.id | Object | actual security asset i.e actual category, class, subclass |

```json
{
"name": "1 dfakdshfkh",
"nameSpace": "namespace",
"isFavorite": 1,
"modelTypeId": 1,
"securityAsset": {
"id": 1
}
}
```

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| name | String | Name of the Model. |
| nameSpace | String | Namespace |
| modelType | String | modelType can be either of CATEGORY/CLASS/SUBCLASS |
| modelTypeId | Number | relatedTypeId of Model |
| isFavorite | Boolean | Just to tell whether this is favorite or not |
| securityAsset | securityAsset | security Asset object |
| securityAsset.id | Number | id of actual security asset. |
| securityAsset.name | String | name of actual security asset. |
| securityAsset.color | String | color of actual security asset. |

```http
HTTP/1.1 201 OK
{
"id": 3,
"name": "1 dfakdshfkh",
"nameSpace" : "namespace",
"modelType": "Category",
"modelTypeId": 1,
"isFavorite" : 1,
"securityAsset": {
"id": 1,
"name": "Asset Category 1",
"color": "#123456"
}
}
```

```http
HTTP/1.1 201 OK
{
"message": "model updated"
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |
| Bad_Request | When missing required parameters. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```

```http
HTTP/1.1 400 Bad_Request
{
"message": "Missing required parameters"
}
```


## Upload model import file

This API imports model from file in specific format.

**POST** `https://baseurl/v1/modeling/models/upload`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/modeling/models/upload
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| file | FILE | Upload model file with securities in it. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The model Id. |
| name | String | Name of the Model. |
| description | String | Description of Model |
| nameSpace | String | Namespace of Model |
| statusId | Number | StatusId of model |
| status | String | status of model |
| ownerUserId | Number | OwnerUserId of model. |
| ownerUser | String | OwnerUser model |
| portfolioCount | Number | Number of portfolio's model is assigned to. |
| modelAUM | Number | Total sum of money invested in model. |
| managementStyleId | Number | ManagementStyleId of model |
| managementStyle | String | ManagementStyle of model |
| isCommunityModel | Boolean | flag if Model is imported from community. |
| approvedByUserId | Number | UserId who approved the Model |
| approvedByUser | String | User who approved the model. |
| isDynamic | Boolean | Flag if Model is dynamic. |
| isDeleted | Boolean | If model is deleted |
| createdOn | String | Created Date of Model |
| editedOn | String | Edited Date of Model |
| createdBy | String | User who created the Model |
| editedBy | String | User who edited the Model |
| modelDetail | ModelElement | Compelete Structure of Model |

```http
HTTP/1.1 200 OK
```

```http
HTTP/1.1 201 OK
{
message : 'Model Imported SuccessFully
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Validate Uploaded model import file

This API validates model from file in specific format.

**POST** `https://baseurl/v1/modeling/models/upload/validate`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/modeling/models/upload/validate
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| file | FILE | Upload model file with securities in it. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| message | String | [] |

```http
HTTP/1.1 200 OK
```

```http
HTTP/1.1 201 OK
[]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Whether rebalancer for Model can be run.

This just checks whether rebalancer can be run or not.

**GET** `https://baseurl/v1/modeling/models/:id/canRebalance`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/modeling/models/:id/canRebalance
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| status | Number | Status whether can rebalancer can be run or not. |
| message | String | Message. |

```http
HTTP/1.1 201 OK
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |
| Bad_Request | When missing required parameters. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```

```http
HTTP/1.1 400 Bad_Request
{
"message": "Missing required parameters"
}
```


---

# Dashboard


## Get Admin Dashboard Summary

**GET** `https://baseurl/v1/dashboard/admin/summary`

**Permission:** `admin`

```bash
curl -i http://baseurl/v1/dashboard/admin/summary
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| users | Number | Number of all users. |
| existingUsers | Number | Number of existing user. |
| newUsers | Number | Number of new users in last day. |
| roles | Number | Number of all roles. |
| existingRoles | Number | Number of existing roles. |
| newRoles | Number | Number of new roles in last day. |
| teams | Number | Number of all teams. |
| activeTeams | Number | Number of active teams. |
| pendingTeams | Number | Number of pending teams. |
| custodians | Number | Number of all custodians. |
| approvedCustodians | Number | Number of approvedCustodians. |
| declinedCustodians | Number | Number of declinedCustodians. |
| firmPreferences | Number | Number of firmPreferences. |

```http
HTTP/1.1 200 OK
{
"users": 29,
"existingUsers": 29,
"newUsers": 0,
"roles": 106,
"existingRoles": 105,
"newRoles": 1,
"teams": 27,
"activeTeams": 23,
"pendingTeams": 4,
"custodians": 10,
"approvedCustodians": 10,
"declinedCustodians": 0,
"firmPreferences": 0
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get dashboard filters

This api will be used for dashboard setting.

**GET** `https://baseurl/v1/dashboardfilter?type='Portfolio'&amp;filterId=1`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/dashboardFilter?type='Portfolio'&filterId=1
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

```http
HTTP/1.1 200 OK
[
{
"id": 1,
"name": "$"
},
{
"id": 2,
"name": "%"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## get exclude filters

This api will be used for fetching the exclude filters.

**PUT** `https://baseurl/v1/excludefilter`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/excludefilter
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

```http
HTTP/1.1 200 OK
{
portfolioIds: [23, 25]
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get main dashboard summary

This api will be used to get main dashboard summary

**GET** `https://baseurl/v1/dashboard/main/summary`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/dashboard/main/summary
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| importAnalysisSummary | Object | Import Analysis Summary |
| warningsSummary | Array | Warning Summary |

```http
HTTP/1.1 200 OK
{
'importAnalysisSummary': {
'lastImportedDate':'01/01/2016',
'errors':25,
'latestAvailableImport':'05/05/2016',
'isAutoImport': true,
'totalAUM':1500000,
'lastImportPorcessTime':35
},
'warningsSummary':[
{
'moduleName':'Portfolio',
'total':300,
},
{
'moduleName':'Accounts',
'total':300,
},
{
'moduleName':'models',
'total':300,
},
{
'moduleName':'tradeOrders',
'total':300,
}
]
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
'message': 'Invalid Authorization Header''
}
```


## Get Portfolio Dashboard Summary

This API gets Portfolio Summary on Dashboard.

**GET** `https://baseurl/v1/dashboard/portfolio/summary`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/dashboard/portfolio/summary
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| analyticsOn | Date | Date and Time (on which the analytics report was run). |
| portfolio | JSON | Portfolio Summary. |
| -total | Number | Total number of Portfolios for which the current user has access. |
| -existing | Number | Number of portfolios created &gt; 24 hours ago. |
| -new | Number | Newly created Portfolio (Total - Existing). |
| AUM | JSON | Assets under management of Portfolios. |
| -changeValue | Number | Change in AUM value (Total AUM- Previous days AUM) |
| -changePercent | Number | Percentage of changed AUM value (% change in Previous days AUM). |
| -status | String | Status value of changed AUM value for Positive change, Negative change and No change ["high", "low", "no"]. |
| issues | JSON | Issues in Portfolio. |
| -errors | Number | Number of portfolios with Import Errors. |
| -warnings | Number | Number of portfolios with 1 or more items in the actionable dashboard items (Ex. Out of tolerance, distributions etc). |
| outOfTolerance | Number | Out of Tolerance status of Portfolios. |
| cashNeed | Number | Cash Needed in Portfolios. |
| setForAutoRebalance | Number | AutoRebalance value of Portfolios. |
| contribution | Number | Portfolio's contribution amount. |
| distribution | Number | Portfolio's Distribution amount. |
| noModel | Number | Portfolios with no model. |
| doNotTrade | Number | Blocked Portfolios. |
| TLHOpportunity | Number | Tax Loss Harvesting in Portfolios. |
| dataErrors | Number | Data Errors in Portfolios. |
| pendingTrades | Number | Pending Trades in Portfolios. |
| washSalesTrades | Number | Wash Sales Trades Portfolios. |

```http
HTTP/1.1 200 OK
{
"analyticsOn" : "2016-09-02 12:21:39",
"portfolio" : {
"total" : 200,
"existing" : 150,
"new" : 50
},
"AUM" : {
"total" : 284,
"changeValue" : 40,
"changePercent" : 3,
"status":"high"
},
"issues" : {
"total" : 235,
"errors" : 16,
"warnings" : 69
},
"outOfTolerance" : 50,
"cashNeed" : 87,
"setForAutoRebalance" : 41,
"contribution" : 29,
"distribution" : 54,
"noModel" : 5,
"doNotTrade" : 34,
"TLHOpportunity" : 76,
"dataErrors" : 25,
"pendingTrades" : 65,
"washSalesTrades" : 3
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get Trade dashboard

This API is used to get trade dashboard.

**GET** `https://baseurl/v1/dashboard/tradeorder/summary`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/dashboard/tradeorder/summary
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| dateTime | Date | Dashboard detail as on Date. |
| openOrders_count | NUMBER | count of open orders |
| openOrders_totalAmount | Number | Total estimate value of all open orders. |
| openOrders_buy | Number | Total estimate value of all buy open orders. |
| openOrders_sell | Number | Total estimate value of all sell open orders. |
| pendingOrders_count | NUMBER | count of pending orders |
| pendingOrders_totalAmount | Number | Total estimate value of all pending orders. |
| pendingOrders_buy | Number | Total estimate value of all pending open orders. |
| pendingOrders_sell | Number | Total estimate value of all pending open orders. |
| closedOrders_count | NUMBER | count of closed orders |
| closedOrders_totalAmount | Number | Total estimate value of all closed orders. |
| closedOrders_buy | Number | Total estimate value of all closed open orders. |
| closedOrders_sell | Number | Total estimate value of all closed open orders. |
| blocks_count | NUMBER | count of block orders |
| blocks_totalAmount | Number | Total estimate value of all block orders. |
| blocks_buy | Number | Total estimate value of all buy block orders. |
| blocks_sell | Number | Total estimate value of all sell block orders. |
| allocations_count | NUMBER | count of allocation orders |
| allocations_totalAmount | Number | Total estimate value of all allocation orders. |
| allocations_buy | Number | Total estimate value of all buy allocation orders. |
| allocations_sell | Number | Total estimate value of all sell allocation orders. |
| tomFilterSummary_filterId | Number | tomFilterSummary filterId. |
| tomFilterSummary_filterType | String | tomFilterSummary filter type. |
| tomFilterSummary_filterName | String | tomFilterSummary filter name. |
| tomFilterSummary_total | Number | totlal count of open orders. |
| tomFilterSummary_value | Number | totlal count of hold orders. |
| queue_count | Number | count of queued orders |
| queue_totalAmount | Number | Total estimate value of all queued orders. |
| queue_buy | Number | Total estimate value of all buy queued orders. |
| queue_sell | Number | Total estimate value of all sell queued orders. |
| queue_sent | Number | Total estimate value of all sent queued orders. |
| queue_notSent | Number | Total estimate value of all not sent queued orders. |

```http
HTTP/1.1 200 OK
{
"analyticsOn":"2017-01-25T12:37:59.345Z",
"openOrders":{
"count": 0,
"totalAmount":20,
"buy":10,
"sell":10
},
"pendingOrders":{
"count": 0,
"totalAmount":2250,
"buy":1125,
"sell":1125
},
"closedOrders":{
"count": 0,
"totalAmount":2250,
"buy":1125,
"sell":1125
},
"blocks":{
"count": 0,
"totalAmount":2250,
"buy":1125,
"sell":1125
},
"allocations":{
"count": 0,
"totalAmount":2250,
"buy":1125,
"sell":1125
},
"tomFilterSummary":[
{
"filterId":1,
"filterType":"Orders",
"filterName":"Trades On Hold",
"total":200,
"value":120
},
{
"filterId":2,
"filterType":"Orders",
"filterName":"Trades Pending Approval",
"total":200,
"value":180
}
],
"queue":{
"count": 0,
"totalAmount":2250,
"buy":1125,
"sell":1125,
"sent":10,
"notSent":2
},
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## reset dashboard filters

This api will be used for reseting the dashboard setting.

**PUT** `https://baseurl/v1/dashboardfilter/reset`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/dashboardFilter/reset
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

```http
HTTP/1.1 200 OK
{message: "Dashboard filters reset successfully"}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## save dashboard filters

This api will be used for saving the dashboard setting.

**PUT** `https://baseurl/v1/dashboardfilter`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/dashboardFilter
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

```http
HTTP/1.1 200 OK
[
{
"id": 1,
"name": "$"
},
{
"id": 2,
"name": "%"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## save exclude filters

This api will be used for saving the exclude filters.

**PUT** `https://baseurl/v1/excludefilter`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/excludefilter
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

```http
HTTP/1.1 200 OK
{
filters: {
"outOfTolerance":
{
"exclude":true,
"excludeDate":null
},
"taxLossHarvest":
{
"exclude":true,
"excludeDate":"2020-01-29T18:30:00.000Z"
}
}
portfolioIds: [23, 25]
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


---

# Import


## Accept import process

This API accept import process

**POST** `https://baseurl/v1/dataimport/action/accept`

```bash
curl -i http://baseurl/v1/dataimport/action/accept
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

```http
HTTP/1.1 200 OK
{
"message": "Import Initiated successfully"
}
```

```http
HTTP/1.1 200 OK
{
"message": "Import Initiated successfully"
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid Token. |
| Bad_Request | When passed inappropriate request data. |
| INTERNAL_SERVER_ERROR | Internal Server Error. |

```http
HTTP/1.1 401 Unauthorized Header
{
"message": "Invalid Authorization Header"
}
```


## Check analysis process is running

Check Analysis Process is Running

**GET** `https://baseurl/v1/dataimport/analysis/status`

```bash
curl -i http://baseurl/v1/dataimport/analysis/status
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| isAnalysisRunning | Boolean | Flag to check analysis process |
| doRunAnalytics | Boolean | Flag to check next analysis process |

```http
HTTP/1.1 200 OK
{
"isAnalysisRunning": 0,
"doRunAnalytics": 0
}
```

```http
HTTP/1.1 200 OK
{
"isAnalysisRunning": 0,
"doRunAnalytics": 0
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid Token. |
| Bad_Request | When passed inappropriate request data. |
| INTERNAL_SERVER_ERROR | Internal Server Error. |

```http
HTTP/1.1 401 Unauthorized Header
{
"message": "Invalid Authorization Header"
}
```


## Check import process is running

Check Import Process is Running

**GET** `https://baseurl/v1/dataimport/status`

```bash
curl -i http://baseurl/v1/dataimport/status
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| isImportRunning | Boolean | Flag to check import process |

```http
HTTP/1.1 200 OK
{
"isImportRunning" :1
}
```

```http
HTTP/1.1 200 OK
{
"isImportRunning" :1
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid Token. |
| Bad_Request | When passed inappropriate request data. |
| INTERNAL_SERVER_ERROR | Internal Server Error. |

```http
HTTP/1.1 401 Unauthorized Header
{
"message": "Invalid Authorization Header"
}
```


## Get all import error logs

Get all import error logs

**GET** `https://baseurl/v1/dataimport/errorlogs?type={portfolio/account/holding/taxlot}`

```bash
curl -i http://baseurl/v1/dataimport/errorlogs
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| Array.portfolioId | Number | portfolioId. |
| Array.portfolioName | String | portfolio Name. |
| Array.accountId | Number | accountId. |
| Array.accountName | String | account Name. |
| Array.positionId | Number | position Id. |
| Array.symbol | String | symbol of security. |
| Array.errorMessage | String | errormessage. |
| Array.errorLevel | String | error level. |

```http
HTTP/1.1 200 OK
[
{
"portfolioId": null,
"portfolioName": null,
"accountId": "96",
"accountName": null,
"positionId": null,
"symbol": "KBE",
"errorMessage": "Taxlot Quantity not matching with position",
"errorLevel": "HOLDINGS"
},
{
"portfolioId": null,
"portfolioName": null,
"accountId": "96",
"accountName": null,
"positionId": null,
"symbol": "EWJ",
"errorMessage": "Taxlot Quantity not matching with position",
"errorLevel": "HOLDINGS"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid Token. |
| Bad_Request | When passed inappropriate request data. |
| INTERNAL_SERVER_ERROR | Internal Server Error. |

```http
HTTP/1.1 401 Unauthorized Header
{
"message": "Invalid Authorization Header"
}
```


## Get failed analysis portfolios error logs

Get failed analysis portfolios error logs

**GET** `https://baseurl/v1/postimport/errorLogs`

```bash
curl -i http://baseurl/v1/postimport/errorLogs
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| portfolioId | Number | Portfolio Id |
| portfolioName | String | Portfolio Name |
| analyticsType | String | Analytics Type |
| error | String | Error |

```http
HTTP/1.1 200 OK
{
"portfolioId": 2,
"portfolioName": "Test Portfolio",
"analyticsType":"full",
"error":"Error in portfolio"
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid Token. |
| Bad_Request | When passed inappropriate request data. |
| INTERNAL_SERVER_ERROR | Internal Server Error. |

```http
HTTP/1.1 401 Unauthorized Header
{
"message": "Invalid Authorization Header"
}
```


## get import status for firms

This API get import status for firms.

**GET** `https://baseurl/v1dataimport/firmImportMap`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/dataimport/firmImportMap
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |


## get notification timeout dump

This API gets notification dump which contains timeout for notification.

**GET** `https://baseurl/v1dataimport/notificationtimeoutdump`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/dataimport/notificationtimeoutdump
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |


## Hit Data Import api on orion side

This API Hits api on orion side.

**POST** `https://baseurl/v1/dataimport/initiate/orion?fullExtract={true/false}`

```bash
curl -i http://baseurl/v1/dataimport/initiate/orion
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

```http
HTTP/1.1 200 OK
{
"message": "Import API hit on orion side"
}
```

```http
HTTP/1.1 200 OK
{
"message": "Import API hit on orion side"
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid Token. |
| Bad_Request | When passed inappropriate request data. |
| INTERNAL_SERVER_ERROR | Internal Server Error. |

```http
HTTP/1.1 401 Unauthorized Header
{
"message": "Invalid Authorization Header"
}
```


## Import File Check &amp; Trigger ETL Process forcefully

This API notify the import process about data file upload on S3

**POST** `https://baseurl/v1/dataimport/initiate?forcefully=true`

```bash
curl -i http://baseurl/v1/dataimport/initiate?forcefully=true
```

### Header

| Name | Description |
|------|-------------|
| Authorization | Super {preshared key} or Session {eclipse_token} |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| firmId | Integer | eclispe Firm Id |
| status | String | Status of Extraction (e.g. "Extract Started", "Extract Ended") |
| sessionId | String | Session Id to track Import Process |
| bucket | String | Bucket where S3 folder exists |
| path | String | AWS S3 path of uploaded data files |
| fullExtract | String | whether it is full extract or not |

```json
{
"firmId": 488,
"status": "Extract Started",
"bucket": "orioneclipse",
"path": "extracts/test/1100/2016/12/6/",
"fullExtract": true
}
```

```json
{
"firmId": 488,
"status": "Extract Ended",
"sessionId": Authorization orion_access_token.,
"bucket": "orioneclipse",
"path": "extracts/test/1100/2016/12/6/",
"fullExtract" : true
}
```

```http
HTTP/1.1 200 OK
{
"sessionId": Authorization orion_access_token.
}
```

```http
HTTP/1.1 200 OK
{
"message": "ETL Process ran successfully!!! Import Analysis Started!!!"
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid Preshared Token. |
| Bad_Request | When passed inappropriate request data. |
| INTERNAL_SERVER_ERROR | Internal Server Error. |

```http
HTTP/1.1 401 Unauthorized Header
{
"message": "Invalid Authorization Header"
}
```

```http
HTTP/1.1 422 Invalid Data
{
"message": "Invalid Input Data!!! Check your Data like Session, Status, etc."
}
```

```http
HTTP/1.1 500 INTERNAL_SERVER_ERROR
{
"message": "Unable to start ETL Process!!! Please contact Administrator."
}
```


## Import File Check &amp; Trigger ETL Process

This API notify the import process about data file upload on S3

**POST** `https://baseurl/v1/dataimport/initiate`

```bash
curl -i http://baseurl/v1/dataimport/initiate
```

### Header

| Name | Description |
|------|-------------|
| Authorization | Super {preshared key} or Session {eclipse_token} |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| firmId | Integer | eclispe Firm Id |
| status | String | Status of Extraction (e.g. "Extract Started", "Extract Ended") |
| sessionId | String | Session Id to track Import Process |
| bucket | String | Bucket where S3 folder exists |
| path | String | AWS S3 path of uploaded data files |
| fullExtract | String | whether it is full extract or not |

```json
{
"firmId": 488,
"status": "Extract Started",
"bucket": "orioneclipse",
"path": "extracts/test/1100/2016/12/6/",
"fullExtract": true
}
```

```json
{
"firmId": 488,
"status": "Extract Ended",
"sessionId": Authorization orion_access_token.,
"bucket": "orioneclipse",
"path": "extracts/test/1100/2016/12/6/",
"fullExtract" : true
}
```

```http
HTTP/1.1 200 OK
{
"sessionId": Authorization eclipse_access_token.
}
```

```http
HTTP/1.1 200 OK
{
"message": "ETL Process ran successfully!!! Import Analysis Started!!!"
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid Preshared Token. |
| Bad_Request | When passed inappropriate request data. |
| INTERNAL_SERVER_ERROR | Internal Server Error. |

```http
HTTP/1.1 401 Unauthorized Header
{
"message": "Invalid Authorization Header"
}
```

```http
HTTP/1.1 422 Invalid Data
{
"message": "Invalid Input Data!!! Check your Data like Session, Status, etc."
}
```

```http
HTTP/1.1 500 INTERNAL_SERVER_ERROR
{
"message": "Unable to start ETL Process!!! Please contact Administrator."
}
```


## Initiate full import process

This API initiate full import process

**POST** `https://baseurl/v1/dataimport/action/initiatefull`

```bash
curl -i http://baseurl/v1/dataimport/action/initiatefull
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

```http
HTTP/1.1 200 OK
{
"message": "Import Initiated successfully"
}
```

```http
HTTP/1.1 200 OK
{
"message": "Import Initiated successfully"
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid Preshared Token. |
| Bad_Request | When passed inappropriate request data. |
| INTERNAL_SERVER_ERROR | Internal Server Error. |

```http
HTTP/1.1 401 Unauthorized Header
{
"message": "Invalid Authorization Header"
}
```


## Initiate partial import process

This API initiate extract and partial import process

**POST** `https://baseurl/v1/dataimport/action/initiatepartial`

```bash
curl -i http://baseurl/v1/dataimport/action/initiatepartial
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

```http
HTTP/1.1 200 OK
{
"message": "Import Initiated successfully"
}
```

```http
HTTP/1.1 200 OK
{
"message": "Import Initiated successfully"
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid Preshared Token. |
| Bad_Request | When passed inappropriate request data. |
| INTERNAL_SERVER_ERROR | Internal Server Error. |

```http
HTTP/1.1 401 Unauthorized Header
{
"message": "Invalid Authorization Header"
}
```


## Reset analysis flag status

Reset analysis flag status

**GET** `https://baseurl/v1/postimport/resetanalysisflag`

```bash
curl -i http://baseurl/v1/postimport/resetanalysisflag
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| enableResetAnalysis | Boolean | Flag for reset analysis button |

```http
HTTP/1.1 200 OK
{
"enableResetAnalysis": false
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid Token. |
| Bad_Request | When passed inappropriate request data. |
| INTERNAL_SERVER_ERROR | Internal Server Error. |

```http
HTTP/1.1 401 Unauthorized Header
{
"message": "Invalid Authorization Header"
}
```


## Reset Import Flag

This API reset all the flags related to import.

**GET** `https://baseurl/v1dataimport/resetImportFlag`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/dataimport/resetImportFlag
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |


## Sleeve Sync From Orion Connect

This API sync sleeve from orion connect to orion eclipse

**POST** `https://baseurl/v1/dataimport/action/initiate/sleeveSync`

```bash
curl -i http://baseurl/v1/dataimport/action/initiate/sleeveSync
```

### Header

| Name | Description |
|------|-------------|
| Authorization | Super {preshared key} or Session {eclipse_token} |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| firmId | Number | Orion Eclipse Firm Id |
| orionFirmId | Number | Firm Id from Orion Connect |
| externalId | Number | External Id from Orion Connect |
| accountId | String | Account Id from Orion Connect |
| accountNumber | String | Account Number from Orion Connect |
| portfolioId | String | Portfolio Id from Orion Connect |
| portfolioName | String | Portfolio Name from Orion Connect |
| householdId | Number | Household Id from Orion Connect |
| householdName | String | Household Name from Orion Connect |
| eclipseModelId | Number | eclipse model id |
| taxable | Boolean | Is Taxable from Orion Connect |
| accountYTDRealizedSTGL | Amount | Account YTD Realized STGL from Orion Connect |
| accountYTDRealizedLTGL | Amount | Account YTD Realized LTGL from Orion Connect |
| SSN | String | Social Security Number from Orion Connect |
| sweepSymbol | String | Sweep Symbol from Orion Connect |
| sleeveType | String | Sleeve Type from Orion Connect |
| sleeveTarget | Number | Sleeve Target from Orion Connect |
| sleeveContributionPercent | Number | Sleeve Contribution Method Percent from Orion Connect |
| sleeveDistributionPercent | Number | Sleeve Distribution Method Percent from Orion Connect |
| sleeveToleranceLower | Number | Sleeve Lower Tolerance from Orion Connect |
| sleeveToleranceUpper | Number | Sleeve Uper Tolerance from Orion Connect |
| sMA | Boolean | SMA from Orion Connect |
| sMATradeable | Boolean | Is SMA Tradeable from Orion Connect |
| billingAccount | Boolean | Is Billing Account from Orion Connect |
| systematicAmount | Amount | Systematic Amount from Orion Connect |
| systematicDate | Date | Systematic Date from Orion Connect |
| hashedSSN | String | Hashed Social Security Number from Orion Connect |
| sleeveStrategyName | String | Sleeve Strategy Name from Orion Connect |
| sleeveContributionMethod | Number | Sleeve Contribution Method from Orion Connect |
| sleeveDistributionMethod | Number | Sleeve Distribution Method from Orion Connect |
| registrationId | Number | Registration Id from Orion Connect |
| custodianName | Object | Custodian Name from Orion Connect |
| advisorName | Object | Advisor Name from Orion Connect |
| advisorExternalId | Object | Advisor external id from Orion Connect |
| holdings | Array | Holdings from Orion Connect |
| realizedGainLosses | Array | RealizedGainLosses from Orion Connect |
| taxLots | Array | TaxLots from Orion Connect |
| transactions | Array | Transactions from Orion Connect |

```json
{
"firmId": 1000,
"accounts": [
{
"orionFirmId": 477,
"externalId": 1295,
"accountId": "124563",
"accountNumber": "23423423432423423",
"accountName": "test account",
"portfolioId": "1",
"portfolioName": "test portfolio",
"eclipseModelId": 1,
"householdId": 127673,
"householdName": "test house",
"accountType": "IANKUI",
"taxable": 1,
"accountYTDRealizedSTGL": 500,
"accountYTDRealizedLTGL": 1000,
"SSN": "test ssn",
"sweepSymbol": "KK",
"sleeveType": "main sleeve",
"sleeveTarget": 30,
"sleeveContributionPercent": 10,
"sleeveDistributionPercent": 20,
"sleeveToleranceLower": 22,
"sleeveToleranceUpper": 13,
"sMA": false,
"sMATradeable": 0,
"billingAccount": 1,
"systematicAmount": 1200,
"systematicDate": "05/01/2017",
"hashedSSN": "a7f7f2589e1e984e37117bc550e17e9e",
"sleeveStrategyName": " test sleeve strategy",
"sleeveContributionMethod": 1,
"sleeveDistributionMethod": 1,
"registrationId": 1470,
"custodianName": "Custodian Name",
"advisorName": "Advisor Name",
"advisorExternalId": "1345",
"holdings": [
{
"externalId": 12983,
"symbol": "MLPSX",
"price": 1,
"priceDate": "9/29/2016 12:00:00 AM",
"marketValue": 7,
"quantity": 5,
"positionYTDRealizedSTGL": 0,
"positionYTDRealizedLTGL": 0.01
}
],
"realizedGainLosses": [
{
"externalId": 67,
"symbol": "MLPSX",
"grossProceeds": 8,
"netProceeds": 8.98,
"costAmount": 35.67,
"dateAquired": "2016-08-23 00:00:00",
"sellDate": "2016-08-23 00:00:00",
"quantity": 3,
"longTerm": 1,
"sellMethod": "sell meth",
"totalGains": 3
}
],
"taxLots": [
{
"externalId": "647",
"symbol": "CUSTODIAL_CASH",
"dateAcquired": "03/05/2016",
"quantity": 1,
"costAmount": 345.03,
"costPerShare": 1.03,
"price": 22.3,
"marketValue": 21.09,
"priceDate": "9/29/2016 12:00:00 AM"
}
],
"transactions": [
{
"externalId": 3254,
"symbol": "TestEQ16.53",
"tradeDate": "04/03/2016",
"quantity": 3.05,
"amount": 32.06,
"type": "sell exchange",
"action": "sell",
"tradeCost": 0,
"eclipseTradeOrderId": 1435,
"status": "not confirmed"
}
]
}
]
}
```

```http
HTTP/1.1 200 OK
{
"Message": "Sleeve Sync process completed successfully."
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |
| Bad_Request | When passed inappropriate request data. |
| INTERNAL_SERVER_ERROR | Internal Server Error. |

```http
HTTP/1.1 500 INTERNAL_SERVER_ERROR
{
"message": "Unable to start sleeve sync import process, please contact administrator."
}
```


---

# Preferences


## Get Cap Gain Reinvest Preference Master Data

This APIA will return master JSON structure for Cap Gain Reinvest custom preference.

**GET** `https://baseurl/v1/preference/:levelName/capitalGainReinvestPreference/:capitalGainReinvestPreferenceId/master`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/preference/Firm/dividendReinvestPreference/116/master
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| levelName | String | Name of level. |
| recordId | Number | Record id for which we get preference. |
| id | Number | Preference value id if prefernces already updated. |
| preferenceId | Number | Prefererence id in DB table. |
| capitalGainReinvestPreferences | List | List of capGain Reinvest setting preferences for security. |
| inheritedCapitalGainReinvestPreferences | List | List of capGain Reinvest inherited setting preferences for security. |

```json
{
"levelName": "Firm",
"recordId": 11,
"id": 249,
"preferenceId": 117,
"name": "capitalGainReinvestSetting",
"displayName": "Capital Gain Reinvest Setting",
"categoryType": "Other",
"subCategoryType": null,
"componentType": "custom",
"componentName": "CapitalGainReinvestDataGrid",
"capitalGainReinvestPreferences": [],
"inheritedCapitalGainReinvestPreferences": []
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| UNAUTHORIZED | Invalid eclipse token. |
| INTERNAL_SERVER_ERROR | Internal Server Error. |
| BAD_REQUEST | Invalid or wrong query parameters. |

```http
HTTP/1.1 401 Not Authenticated
{
"message": "Invalid Authorization Header"
}
HTTP/1.1 500 INTERNAL_SERVER_ERROR
{
"message": "Internal Server Error"
}
```


## Get Cap Gain Reinvestment Preference

This API will return cap gain preference grid.

**GET** `https://baseurl/v1/preference/:levelName/capitalGainReinvestPreference/:recordId/:capitalGainReinvestPreferenceId/:preferenceValueId/:inheritedPreferenceValueId`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/preference/Firm/dividendReinvestPreference/11/116/1/null
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| levelName | String | Name of level. |
| recordId | Number | Record id for which we get preference. |
| id | Number | Preference value id if prefernces already updated. |
| preferenceId | Number | Prefererence id in DB table. |
| capitalGainReinvestPreferences | List | List of capGain Reinvest setting preferences for security. |
| inheritedCapitalGainReinvestPreferences | List | List of capGain Reinvest inherited setting preferences for security. |

```json
{
"levelName": "Firm",
"recordId": 11,
"id": 249,
"preferenceId": 117,
"name": "capitalGainReinvestSetting",
"displayName": "Capital Gain Reinvest Setting",
"categoryType": "Other",
"subCategoryType": null,
"componentType": "custom",
"componentName": "CapitalGainReinvestDataGrid",
"capitalGainReinvestPreferences": [
{
"id": 12,
"securityTypeId": 1,
"capGainReinvestTaxable": 0,
"capGainReinvestTaxExempt": 0,
"capGainReinvestTaxDef": 0,
"inheritedFrom": "Firm"
},
{
"id": 13,
"securityTypeId": 9,
"capGainReinvestTaxable": 1,
"capGainReinvestTaxExempt": 1,
"capGainReinvestTaxDef": 1,
"inheritedFrom": "Firm"
}
],
"inheritedCapitalGainReinvestPreferences": [
{
"id": null,
"securityTypeId": 1,
"capGainReinvestTaxable": 0,
"capGainReinvestTaxExempt": 0,
"capGainReinvestTaxDef": 0,
"inheritedFrom": "Firm"
},
{
"id": null,
"capGainReinvestTaxable": 9,
"taxableDivReInvest": 0,
"capGainReinvestTaxExempt": 0,
"capGainReinvestTaxDef": 0,
"inheritedFrom": "Firm"
}
]
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| UNAUTHORIZED | Invalid eclipse token. |
| INTERNAL_SERVER_ERROR | Internal Server Error. |
| BAD_REQUEST | Invalid or wrong query parameters. |

```http
HTTP/1.1 401 Not Authenticated
{
"message": "Invalid Authorization Header"
}
HTTP/1.1 500 INTERNAL_SERVER_ERROR
{
"message": "Internal Server Error"
}
```


## Get Community Strategist Preference Master

This API will return master JSON data for Community Strategist preference.

**GET** `https://baseurl/v1/preference/:levelName/communityStrategist/:communityStrategistPreferenceId/master`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/preference/Team/communityStrategist/7/master
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

```json
{
"level": "Firm",
"recordId": null,
"id": null,
"preferenceId": 7,
"componentType": null,
"componentName": "CommunityStrategistEnabledListCascadingControl",
"strategists": {
"strategistIds": null,
"modelAccessLevel": null,
"communityModels": null
},
"inheritedFromValueId": null,
"inheritedStrategists": {
"strategistIds": null,
"modelAccessLevel": null,
"communityModels": null
}
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| UNAUTHORIZED | Invalid eclipse token. |
| INTERNAL_SERVER_ERROR | Internal Server Error. |
| BAD_REQUEST | Invalid or wrong query parameters. |

```http
HTTP/1.1 401 Not Authenticated
{
"message": "Invalid Authorization Header"
}
HTTP/1.1 500 INTERNAL_SERVER_ERROR
{
"message": "Internal Server Error"
}
```


## Get Community Strategist Preference

This API will provide community strategist preference values for provided Level's name (:levelName) and Level's record id (:recordId). Value will be accessed using:preferenceValueId and :inheritedPreferenceValueId. So :communityStrategistPreferenceId does not play any role in selecting value for community strategist. :preferenceValueId and :inheritedPreferenceValueId are optional. If you pass both ids null ( :preferenceValueId and :inheritedPreferenceValueId) then it will return only master data without values.

**GET** `https://baseurl/v1/preference/:levelName/communityStrategist/:recordId/:communityStrategistPreferenceId/:preferenceValueId/:inheritedPreferenceValueId`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/preference/Frim/communityStrategist/1/7/2/null
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| level | Number | name of level for which we need preferences. |
| recordId | Number | id of selected level. |
| preferenceId | Number | strategist setting master preference id from DB. |
| preferences | List | List of preferences mapped by selected Level's bit value and level's record id. |

```json
{
"level": "Firm",
"recordId": 3,
"id": 2,
"preferenceId": 7,
"componentType": null,
"componentName": "CommunityStrategistEnabledListCascadingControl",
"strategists": {
"strategistIds": [
2,
1
],
"modelAccessLevel": 2,
"communityModels": [
7,
10
]
},
"inheritedFromValueId": null,
"inheritedStrategists": {
"strategistIds": null,
"modelAccessLevel": null,
"communityModels": null
}
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| UNAUTHORIZED | Invalid eclipse token. |
| INTERNAL_SERVER_ERROR | Internal Server Error. |
| BAD_REQUEST | Invalid or wrong query parameters. |

```http
HTTP/1.1 401 Not Authenticated
{
"message": "Invalid Authorization Header"
}
HTTP/1.1 500 INTERNAL_SERVER_ERROR
{
"message": "Internal Server Error"
}
```


## Get Custodian Specific Redemption Fee Preference

This API will return redemption fee preference grid.

**GET** `https://baseurl/v1/preference/:levelName/custodianRedemptionFeePreference/:recordId/:custodianRedemptionFeePreferenceId/:preferenceValueId/:inheritedPreferenceValueId`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/preference/Firm/custodianRedemptionFeePreference/3/112/2/null
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| level | String | Name of level for which preferences are going to update. |
| id | Number | Record id for which we are going to update preferences. |
| redemptionFeePreferences | List | List of all existing redemption fee preferences. |
| inheritedRedemptionFeePreferences | List | List of all inheritedexisting redemption fee preferences. |

### Error 4xx

| Name | Description |
|------|-------------|
| UNAUTHORIZED | Invalid eclipse token. |
| INTERNAL_SERVER_ERROR | Internal Server Error. |
| BAD_REQUEST | Invalid or wrong query parameters. |

```http
HTTP/1.1 401 Not Authenticated
{
"message": "Invalid Authorization Header"
}
HTTP/1.1 500 INTERNAL_SERVER_ERROR
{
"message": "Internal Server Error"
}
```


## Get Custodian Specific Redemption Fee Setting Master Data

This APIA will return master JSON structure for Redemption fee custom preference.

**GET** `https://baseurl/v1/preference/:levelName/custodianRedemptionFeePreference/:custodianRedemptionFeePreferenceId/master`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/preference/Custodian/custodianRedemptionFeePreference/112/master
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| levelName | String | Name of level. |
| recordId | Number | Record id for which we get preference. |
| id | Number | Preference value id if prefernces already updated. |
| preferenceId | Number | Prefererence id in DB table. |
| redemtionPreference | List | List of custodian specific redemption fee setting preferences. |
| inheritedRedemtionPreference | List | List of custodian specific inherited redemption fee setting preferences. |

```json
{
"levelName": "Firm",
"recordId": null,
"id": null,
"preferenceId": 103,
"name": "SecuritySetting",
"displayName": "Security Setting",
"categoryType": "Security Setting",
"componentType": "custom",
"componentName": "SecurityDataGrid",
"redemtionPreference": [],
"inheritedRedemtionPreference": []
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| UNAUTHORIZED | Invalid eclipse token. |
| INTERNAL_SERVER_ERROR | Internal Server Error. |
| BAD_REQUEST | Invalid or wrong query parameters. |

```http
HTTP/1.1 401 Not Authenticated
{
"message": "Invalid Authorization Header"
}
HTTP/1.1 500 INTERNAL_SERVER_ERROR
{
"message": "Internal Server Error"
}
```


## Get Default Primary Team Preference

This API will return default primary team preference.

**GET** `https://baseurl/v1/preference/:levelName/defaultPrimaryTeamPreference/:recordId/:defaultPrimaryTeamPreferenceId/:preferenceValueId?/:inheritedPreferenceValueId?`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/preference/Firm/defaultPrimaryTeamPreference/1000/123/null/null
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| levelName | String | Name of level. |
| recordId | Number | Record id for which we get preference. |
| id | Number | Preference value id if prefernces already updated. |
| defaultPrimaryTeamPreferenceId | Number | Prefererence id in DB table. |
| inheritedPreferenceValueId | List | Inherited preference id. |

```json
{
"levelName": "Firm",
"recordId": 1000,
"id": null,
"preferenceId": 123,
"name": "defaultPrimaryTeam",
"displayName": "Select Default Primary Team",
"categoryType": "Data Import",
"componentType": "custom",
"componentName": "DefaultPrimaryTeamDropdownSearch",
"defaultPrimaryTeamPreferences": [
{
"id": 2,
"name": "Todd Bertucci"
}
],
"inheritedDefaultPrimaryTeamPreferences": []
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| UNAUTHORIZED | Invalid eclipse token. |
| INTERNAL_SERVER_ERROR | Internal Server Error. |
| BAD_REQUEST | Invalid or wrong query parameters. |

```http
HTTP/1.1 401 Not Authenticated
{
"message": "Invalid Authorization Header"
}
HTTP/1.1 500 INTERNAL_SERVER_ERROR
{
"message": "Internal Server Error"
}
```


## Get Dividend Reinvestment Preference Master Data

This APIA will return master JSON structure for Trade Fee custom preference.

**GET** `https://baseurl/v1/preference/:levelName/dividendReinvestPreference/:dividendReinvestPreferenceId/master`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/preference/Firm/dividendReinvestPreference/116/master
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| levelName | String | Name of level. |
| recordId | Number | Record id for which we get preference. |
| id | Number | Preference value id if prefernces already updated. |
| preferenceId | Number | Prefererence id in DB table. |
| dividendReinvestPreferences | List | List of tradeMax fee setting preferences for security. |
| inheritedDividendReinvestPreferences | List | List of traradeMaxnsaction inherited trade fee setting preferences for security. |

```json
{
"levelName": "Firm",
"recordId": null,
"id": null,
"preferenceId": 116,
"name": "dividendReinvestSetting",
"displayName": "Dividend Reinvest Setting",
"categoryType": "Rebalance",
"subCategoryType": null,
"componentType": "custom",
"componentName": "DividendReinvestDataGrid",
"dividendReinvestPreferences": [],
"inheritedDividendReinvestPreferences": []
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| UNAUTHORIZED | Invalid eclipse token. |
| INTERNAL_SERVER_ERROR | Internal Server Error. |
| BAD_REQUEST | Invalid or wrong query parameters. |

```http
HTTP/1.1 401 Not Authenticated
{
"message": "Invalid Authorization Header"
}
HTTP/1.1 500 INTERNAL_SERVER_ERROR
{
"message": "Internal Server Error"
}
```


## Get Dividend Reinvestment Preference

This API will return transaction fee preference grid.

**GET** `https://baseurl/v1/preference/:levelName/dividendReinvestPreference/:recordId/:dividendReinvestPreferenceId/:preferenceValueId/:inheritedPreferenceValueId`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/preference/Firm/dividendReinvestPreference/11/116/1/null
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| levelName | String | Name of level. |
| recordId | Number | Record id for which we get preference. |
| id | Number | Preference value id if prefernces already updated. |
| preferenceId | Number | Prefererence id in DB table. |
| dividendReinvestPreferences | List | List of tradeMax fee setting preferences for security. |
| inheritedDividendReinvestPreferences | List | List of traradeMaxnsaction inherited trade fee setting preferences for security. |

```json
{
"levelName": "Firm",
"recordId": 11,
"id": 382,
"preferenceId": 116,
"name": "dividendReinvestSetting",
"displayName": "Dividend Reinvest Setting",
"categoryType": "Rebalance",
"subCategoryType": null,
"componentType": "custom",
"componentName": "DividendReinvestDataGrid",
"dividendReinvestPreferences": [],
"inheritedDividendReinvestPreferences": [],
"tradeMinPreferences": [
{
"id": 2,
"securityTypeId": 1,
"taxableDivReInvest": 1,
"taxDefDivReinvest": 0,
"taxExemptDivReinvest": 1,
"inheritedFrom": "Firm"
},
{
"id": 1,
"securityTypeId": 9,
"taxableDivReInvest": 1,
"taxDefDivReinvest": 1,
"taxExemptDivReinvest": 1,
"inheritedFrom": "Firm"
}
],
"inheritedTradeMinPreferences": [
{
"id": 2,
"securityTypeId": 1,
"taxableDivReInvest": 1,
"taxDefDivReinvest": 0,
"taxExemptDivReinvest": 1,
"inheritedFrom": "Firm"
},
{
"id": 1,
"securityTypeId": 9,
"taxableDivReInvest": 1,
"taxDefDivReinvest": 1,
"taxExemptDivReinvest": 1,
"inheritedFrom": "Firm"
}
]
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| UNAUTHORIZED | Invalid eclipse token. |
| INTERNAL_SERVER_ERROR | Internal Server Error. |
| BAD_REQUEST | Invalid or wrong query parameters. |

```http
HTTP/1.1 401 Not Authenticated
{
"message": "Invalid Authorization Header"
}
HTTP/1.1 500 INTERNAL_SERVER_ERROR
{
"message": "Internal Server Error"
}
```


## Get Location Optimization Setting Master Data

This APIA will return master JSON structure for Location Optimization custom preference.

**GET** `https://baseurl/v1/preference/:levelName/locationOptimization/:locationPreferenceId/master`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/preference/Firm/locationOptimization/87/master
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| level | String | Name of level for which preferences are going to update. |
| id | Number | Record id for which we are going to update preferences. |
| defaulttPreferences | List | List of all default preference. |

```json
{
"level": "Firm",
"recordId": null,
"id": null,
"preferenceId": 87,
"componentType": "custom",
"componentName": "LocationOptimizationDataGrid",
"assetTypes": [],
"inheritedFromValueId": null,
"inheritedAssetTypes": []
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| UNAUTHORIZED | Invalid eclipse token. |
| INTERNAL_SERVER_ERROR | Internal Server Error. |
| BAD_REQUEST | Invalid or wrong query parameters. |

```http
HTTP/1.1 401 Not Authenticated
{
"message": "Invalid Authorization Header"
}
HTTP/1.1 500 INTERNAL_SERVER_ERROR
{
"message": "Internal Server Error"
}
```


## Get Location Optimization Setting

This API will provide location optimization preference values for provided Level's name (:levelName) and Level's record id (:recordId). Value will be accessed using:preferenceValueId and :inheritedPreferenceValueId. So :locationPreferenceId does not play any role in selecting value for location optimization. :preferenceValueId and :inheritedPreferenceValueId are optional. If you pass both ids null ( :preferenceValueId and :inheritedPreferenceValueId) then it will return only master data without values.

**GET** `https://baseurl/v1/preference/:levelName/locationOptimization/:recordId/:locationPreferenceId/:preferenceValueId/:inheritedPreferenceValueId`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/preference/Firm/locationOptimization/1/87/2550/null(Optional)
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| levelName | String | Name of level. |
| recordId | Number | Record id for which we get preference. |
| id | Number | Preference value id if prefernces already updated. |
| preferenceId | Number | Prefererence id in DB table. |
| assetTypes | List | List of assetTypes for location Optimization Preference. |
| inheritedAssetTypes | List | List of inheritedAssetTypes for location Optimization Preference. |

```json
{
"level": "Firm",
"recordId": 1,
"id": 1,
"preferenceId": 87,
"componentType": null,
"componentName": "LocationOptimizationDataGrid",
"assetTypes": [
{
"id": 2417,
"name": "Asset Sub Class 2417",
"buySetting": {
"T": 1,
"TD": 1,
"TE": 4
},
"sellSetting": {
"T": 4,
"TD": 4,
"TE": 3
}
},
{
"id": 2418,
"name": "Asset Sub Class 2418",
"buySetting": {
"T": 2,
"TD": 2,
"TE": 2
},
"sellSetting": {
"T": 2,
"TD": 2,
"TE": 2
}
},
{
"id": 2419,
"name": "Asset Sub Class 2419",
"buySetting": {
"T": 1,
"TD": 1,
"TE": 1
},
"sellSetting": {
"T": 3,
"TD": 3,
"TE": 3
}
}
],
"inheritedFromValueId": null,
"inheritedAssetTypes": []
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| UNAUTHORIZED | Invalid eclipse token. |
| INTERNAL_SERVER_ERROR | Internal Server Error. |
| BAD_REQUEST | Invalid or wrong query parameters. |

```http
HTTP/1.1 401 Not Authenticated
{
"message": "Invalid Authorization Header"
}
HTTP/1.1 500 INTERNAL_SERVER_ERROR
{
"message": "Internal Server Error"
}
```


## Get Preference Categories

This API will return a list of preference categories by levelName

**GET** `https://baseurl/v1/preference/:levelName/categories`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/preference/Firm/categories
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| CategoryList | Array | List of categories (id, name and displayOrder (order)). |

```json
[
{
"id": 2,
"name": "Dashboard",
"order": 1
},
{
"id": 1,
"name": "Daily Import",
"order": 2
},
{
"id": 3,
"name": "Other",
"order": 3
},
{
"id": 4,
"name": "Rebalance",
"order": 4
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| UNAUTHORIZED | Invalid eclipse token. |
| INTERNAL_SERVER_ERROR | Internal Server Error. |
| BAD_REQUEST | Invalid or wrong query parameters. |

```http
HTTP/1.1 401 Not Authenticated
{
"message": "Invalid Authorization Header"
}
HTTP/1.1 500 INTERNAL_SERVER_ERROR
{
"message": "Internal Server Error"
}
```


## Get Preference Levels

This API will provide list of preferences levels.

**GET** `https://baseurl/v1/preference/levels`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/preference/levels
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | Unique id of level from db. |
| name | String | Name of level. |
| bitValue | Number | BitValue of level. |
| shortName | String | Short name for level. |
| allowedRoleType | Number | RoleType Ids allowed for level access. |

```json
[
{
"id": 1,
"name": "Firm",
"bitValue": 1,
"shortName": "F",
"allowedRoleType": 1
},
{
"id": 2,
"name": "Custodian",
"bitValue": 2,
"shortName": "C",
"allowedRoleType": 1
},
.........
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| UNAUTHORIZED | Invalid eclipse token. |
| INTERNAL_SERVER_ERROR | Internal Server Error. |

```http
HTTP/1.1 401 Not Authenticated
{
"message": "Invalid Authorization Header"
}
HTTP/1.1 500 INTERNAL_SERVER_ERROR
{
"message": "Internal Server Error"
}
```


## get preference option

This api is used for get preference option.

**GET** `https://baseurl/v1/preference/:id/option/`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1//preference/87/option
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| preferenceId | number | of preference. |

### Error 4xx

| Name | Description |
|------|-------------|
| UNAUTHORIZED | Invalid eclipse token. |
| INTERNAL_SERVER_ERROR | Internal Server Error. |

```http
HTTP/1.1 401 Not Authenticated
{
"message": "Invalid Authorization Header"
}
HTTP/1.1 500 INTERNAL_SERVER_ERROR
{
"message": "Internal Server Error"
}
```


## Get Preference Sub Categories

This API will return a list of preference sub categories by levelName

**GET** `https://baseurl/v1/preference/:levelName/subcategories`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/preference/Firm/subcategories
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| SubCategoryList | Array | List of sub categories (id, name and displayOrder (order)). |

```json
[
{
"id": 1,
"name": "Tax",
"order": 1
},
{
"id": 2,
"name": "Trading Cost",
"order": 2
},
{
"id": 3,
"name": "Cash",
"order": 3
},
{
"id": 4,
"name": "Trading",
"order": 4
},
{
"id": 5,
"name": "Tax Loss Harvesting",
"order": 5
},
{
"id": 6,
"name": "Trade Cost",
"order": 6
},
{
"id": 7,
"name": "Approvals",
"order": 7
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| UNAUTHORIZED | Invalid eclipse token. |
| INTERNAL_SERVER_ERROR | Internal Server Error. |
| BAD_REQUEST | Invalid or wrong query parameters. |

```http
HTTP/1.1 401 Not Authenticated
{
"message": "Invalid Authorization Header"
}
HTTP/1.1 500 INTERNAL_SERVER_ERROR
{
"message": "Internal Server Error"
}
```


## Get Preference Summary

This API will provide count of preferences (Total, Edited Today and Edited In Week).

**GET** `https://baseurl/v1/preference/summary`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/preference/summary
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| PreferenceTotal | Number | Total no. of preferences. |
| PreferenceEditedToday | Number | Total no. of preferences edited today. |
| PreferenceEditedInWeek | Number | Total no. of preferences edited in week. |

```json
{
"PreferenceTotal": 29,
"PreferenceEditedToday": 0,
"PreferenceEditedInWeek": 3
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| UNAUTHORIZED | Invalid eclipse token. |
| INTERNAL_SERVER_ERROR | Internal Server Error. |

```http
HTTP/1.1 401 Not Authenticated
{
"message": "Invalid Authorization Header"
}
HTTP/1.1 500 INTERNAL_SERVER_ERROR
{
"message": "Internal Server Error"
}
```


## Get Redemption Fee Preference

This API will return redemption fee preference grid.

**GET** `https://baseurl/v1/preference/:levelName/redemptionFeePreference/:recordId/:redemptionFeePreferenceId/:preferenceValueId/:inheritedPreferenceValueId`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/preference/Firm/redemptionFeePreference/3/111/2/null
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| level | String | Name of level for which preferences are going to update. |
| id | Number | Record id for which we are going to update preferences. |
| redemptionFeePreferences | List | List of all existing redemption fee preferences. |
| inheritedRedemptionFeePreferences | List | List of all inheritedexisting redemption fee preferences. |

### Error 4xx

| Name | Description |
|------|-------------|
| UNAUTHORIZED | Invalid eclipse token. |
| INTERNAL_SERVER_ERROR | Internal Server Error. |
| BAD_REQUEST | Invalid or wrong query parameters. |

```http
HTTP/1.1 401 Not Authenticated
{
"message": "Invalid Authorization Header"
}
HTTP/1.1 500 INTERNAL_SERVER_ERROR
{
"message": "Internal Server Error"
}
```


## Get Redemption Fee Setting Master Data

This APIA will return master JSON structure for Redemption fee custom preference.

**GET** `https://baseurl/v1/preference/:levelName/redemptionFeePreference/:redemptionFeePreferenceId/master`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/preference/Firm/redemptionFeePreference/111/master
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| levelName | String | Name of level. |
| recordId | Number | Record id for which we get preference. |
| id | Number | Preference value id if prefernces already updated. |
| preferenceId | Number | Prefererence id in DB table. |
| redemtionPreference | List | List of custodian specific redemption fee setting preferences. |
| inheritedRedemtionPreference | List | List of custodian specific inherited redemption fee setting preferences. |

```json
{
"levelName": "Firm",
"recordId": null,
"id": null,
"preferenceId": 111,
"name": "SecuritySetting",
"displayName": "Security Setting",
"categoryType": "Security Setting",
"subCategoryType": null,
"componentType": "custom",
"componentName": "SecurityDataGrid",
"redemtionPreference": [],
"inheritedRedemtionPreference": []
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| UNAUTHORIZED | Invalid eclipse token. |
| INTERNAL_SERVER_ERROR | Internal Server Error. |
| BAD_REQUEST | Invalid or wrong query parameters. |

```http
HTTP/1.1 401 Not Authenticated
{
"message": "Invalid Authorization Header"
}
HTTP/1.1 500 INTERNAL_SERVER_ERROR
{
"message": "Internal Server Error"
}
```


## Get Security Preferences

This API will provide security setting preferences values for provided Level's name (:levelName) and Level's record id (:recordId). Value will be accessed using:preferenceValueId. So :securityPreferenceId does not play any role in selecting value for security Preferences. If you pass both ids null ( :preferenceValueId) then it will return only master data without values. The :preferenceValueId value to use for a specific :levelName and :recordId can be found by making a GET call to the List Preferences endpoint. The id field of the securitySetting preference returned in that response is the value to use as :preferenceValueId, the inheritedFromValueId field is the :inheritedPreferenceValueId, and the preferenceId is the :securityPreferenceId.

**GET** `https://baseurl/v1/preference/:levelName/securityPreference/:recordId/:securityPreferenceId/:preferenceValueId/:inheritedPreferenceValueId`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/preference/Firm/securityPreference/3/103/2/null
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| level | String | Name of level for which preferences are going to update. |
| id | Number | Record id for which we are going to update preferences. |
| securityPreferences | List | List of all securities preferences. |
| inheritedSecurityPreferences | List | List of all inherited securities preferences. |

### Error 4xx

| Name | Description |
|------|-------------|
| UNAUTHORIZED | Invalid eclipse token. |
| INTERNAL_SERVER_ERROR | Internal Server Error. |
| BAD_REQUEST | Invalid or wrong query parameters. |

```http
HTTP/1.1 401 Not Authenticated
{
"message": "Invalid Authorization Header"
}
HTTP/1.1 500 INTERNAL_SERVER_ERROR
{
"message": "Internal Server Error"
}
```


## Get Security Setting Master Data

This APIA will return master JSON structure for Location Optimization custom preference.

**GET** `https://baseurl/v1/preference/:levelName/securityPreference/:securityPreferenceId/master`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/preference/Firm/securityPreference/103/master
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| levelName | String | Name of level. |
| recordId | Number | Record id for which we get preference. |
| id | Number | Preference value id if prefernces already updated. |
| preferenceId | Number | Prefererence id in DB table. |
| securityPreferences | List | List of securities for security preferences. |
| inheritedSecurityPreferences | List | List of inherited securities for security preferences. |

### Error 4xx

| Name | Description |
|------|-------------|
| UNAUTHORIZED | Invalid eclipse token. |
| INTERNAL_SERVER_ERROR | Internal Server Error. |
| BAD_REQUEST | Invalid or wrong query parameters. |

```http
HTTP/1.1 401 Not Authenticated
{
"message": "Invalid Authorization Header"
}
HTTP/1.1 500 INTERNAL_SERVER_ERROR
{
"message": "Internal Server Error"
}
```


## Get Teams for Default Primary Team

This API will return a list of preference categories by levelName

**GET** `https://baseurl/v1/preference/:levelName/teams`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/preference/Firm/teams
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| CategoryList | Array | List of categories (id, name and displayOrder (order)). |

```json
[
{
"id": 1,
"name": "Default Team"
},
{
"id": 9,
"name": "Omaha Team"
},
{
"id": 10,
"name": "Team Shaun"
},
{
"id": 11,
"name": "Team CV"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| UNAUTHORIZED | Invalid eclipse token. |
| INTERNAL_SERVER_ERROR | Internal Server Error. |
| BAD_REQUEST | Invalid or wrong query parameters. |

```http
HTTP/1.1 401 Not Authenticated
{
"message": "Invalid Authorization Header"
}
HTTP/1.1 500 INTERNAL_SERVER_ERROR
{
"message": "Internal Server Error"
}
```


## Get Trade Max Fee Preference Master Data

This APIA will return master JSON structure for Trade Fee custom preference.

**GET** `https://baseurl/v1/preference/:levelName/tradeMaxPreference/:tradeMaxFeePreferenceId/master`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/preference/Custodian/tradeMaxPreference/114/master
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| levelName | String | Name of level. |
| recordId | Number | Record id for which we get preference. |
| id | Number | Preference value id if prefernces already updated. |
| preferenceId | Number | Prefererence id in DB table. |
| tradeMaxPreferences | List | List of tradeMax fee setting preferences for security. |
| inheritedTradeMaxPreferences | List | List of traradeMaxnsaction inherited trade fee setting preferences for security. |

```json
{
"levelName": "Firm",
"recordId": null,
"id": null,
"preferenceId": 115,
"name": "tradeMaxSetting",
"displayName": "Trade Max Setting",
"categoryType": "Rebalance",
"subCategoryType": null,
"componentType": "custom",
"componentName": "TradeMaxDataGrid",
"tradeMaxPreferences": [],
"inheritedTradeMaxPreferences": []
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| UNAUTHORIZED | Invalid eclipse token. |
| INTERNAL_SERVER_ERROR | Internal Server Error. |
| BAD_REQUEST | Invalid or wrong query parameters. |

```http
HTTP/1.1 401 Not Authenticated
{
"message": "Invalid Authorization Header"
}
HTTP/1.1 500 INTERNAL_SERVER_ERROR
{
"message": "Internal Server Error"
}
```


## Get Trade Max Fee Preference

This API will return transaction fee preference grid.

**GET** `https://baseurl/v1/preference/:levelName/tradeMaxPreference/:recordId/:tradeMaxFeePreferenceId/:preferenceValueId/:inheritedPreferenceValueId`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/preference/Firm/tradeMaxPreference/3/1134/1/null
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| levelName | String | Name of level. |
| recordId | Number | Record id for which we get preference. |
| id | Number | Preference value id if prefernces already updated. |
| preferenceId | Number | Prefererence id in DB table. |
| tradeMaxPreferences | List | List of tradeMax fee setting preferences for security. |
| inheritedTradeMaxPreferences | List | List of traradeMaxnsaction inherited trade fee setting preferences for security. |

```json
{
"levelName": "Firm",
"recordId": 11,
"id": 232,
"preferenceId": 115,
"name": "tradeMaxSetting",
"displayName": "Trade Max Setting",
"categoryType": "Rebalance",
"subCategoryType": null,
"componentType": "custom",
"componentName": "TradeMaxDataGrid",
"tradeMaxPreferences": [
{
"id": 5,
"securityTypeId": 4,
"securityType": "Mutual Fund",
"sellMaxAmount": 555.5,
"sellMaxPercent": 55,
"buyMaxAmount": 55.5,
"buyMaxPercent": 10,
"inheritedFrom": "Firm"
},
{
"id": 6,
"securityTypeId": 4,
"securityType": "Apple",
"sellMaxAmount": 111.5,
"sellMaxPercent": 32,
"buyMaxAmount": 55.5,
"buyMaxPercent": 56,
"inheritedFrom": "Firm"
}
],
"inheritedTradeMaxPreferences": [
{
"id": 1,
"securityTypeId": 4,
"securityType": "Mutual Fund",
"sellMaxAmount": 123.5,
"sellMaxPercent": 77,
"buyMaxAmount": 876.5,
"buyMaxPercent": 12,
"inheritedFrom": "Firm"
}
]
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| UNAUTHORIZED | Invalid eclipse token. |
| INTERNAL_SERVER_ERROR | Internal Server Error. |
| BAD_REQUEST | Invalid or wrong query parameters. |

```http
HTTP/1.1 401 Not Authenticated
{
"message": "Invalid Authorization Header"
}
HTTP/1.1 500 INTERNAL_SERVER_ERROR
{
"message": "Internal Server Error"
}
```


## Get Trade Min Preference Master Data

This APIA will return master JSON structure for Trade Min custom preference.

**GET** `https://baseurl/v1/preference/:levelName/tradeMinPreference/:tradeMinFeePreferenceId/master`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/preference/Custodian/tradeMinPreference/114/master
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| levelName | String | Name of level. |
| recordId | Number | Record id for which we get preference. |
| id | Number | Preference value id if prefernces already updated. |
| preferenceId | Number | Prefererence id in DB table. |
| tradeMinPreferences | List | List of tradeMin fee setting preferences for security. |
| inheritedTradeMinPreferences | List | List of traradeMinnsaction inherited trade fee setting preferences for security. |

```json
{
"levelName": "Firm",
"recordId": null,
"id": null,
"name": "tradeMinSetting",
"displayName": "Trade Min Setting",
"categoryType": "Rebalance",
"subCategoryType": null,
"componentType": "custom",
"componentName": "TradeMinDataGrid",
"tradeMinPreferences": [],
"inheritedTradeMinPreferences": []
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| UNAUTHORIZED | Invalid eclipse token. |
| INTERNAL_SERVER_ERROR | Internal Server Error. |
| BAD_REQUEST | Invalid or wrong query parameters. |

```http
HTTP/1.1 401 Not Authenticated
{
"message": "Invalid Authorization Header"
}
HTTP/1.1 500 INTERNAL_SERVER_ERROR
{
"message": "Internal Server Error"
}
```


## Get Trade Setting Preference

This API will return transaction fee preference grid.

**GET** `https://baseurl/v1/preference/:levelName/tradeSettingsPreference/:recordId/:tradeSettingPreferenceId/:preferenceValueId?/:inheritedPreferenceValueId`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/preference/Firm/tradeSettingsPreference/1000/122/1981/null
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| levelName | String | Name of level. |
| recordId | Number | Record id for which we get preference. |
| id | Number | Preference value id if prefernces already updated. |
| preferenceId | Number | Prefererence id in DB table. |
| transactionFeePreferences | List | List of transaction fee setting preferences for security. |
| tradeMinPreferences | List | List of tradeMin fee setting preferences for security. |
| inheritedTradeMinPreferences | List | List of traradeMinnsaction inherited trade fee setting preferences for security. |

```json
{
"levelName": "Firm",
"recordId": 1000,
"id": 1986,
"preferenceId": 122,
"name": "tradeSetting",
"displayName": "Trade Setting",
"categoryType": "Rebalance",
"componentType": "custom",
"componentName": "TradeSettingsDataGrid",
"tradeSettingPreferences": [
{
"id": 11,
"securityTypeId": 1,
"sellPriority": 2,
"buyPriority": 3,
"excludedFromTrading": 0,
"inheritedFrom": "Firm"
}
],
"inheritedTradeSettingPreferences": [
{
"id": 10,
"securityTypeId": 1,
"sellPriority": 2,
"buyPriority": 3,
"excludedFromTrading": 0,
"inheritedFrom": "Firm"
}
]
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| UNAUTHORIZED | Invalid eclipse token. |
| INTERNAL_SERVER_ERROR | Internal Server Error. |
| BAD_REQUEST | Invalid or wrong query parameters. |

```http
HTTP/1.1 401 Not Authenticated
{
"message": "Invalid Authorization Header"
}
HTTP/1.1 500 INTERNAL_SERVER_ERROR
{
"message": "Internal Server Error"
}
```


## Get Trade Settings Preference Master Data

This APIA will return master JSON structure for Trade Settings custom preference.

**GET** `https://baseurl/v1/preference/:levelName/tradeSettingsPreference/:tradeSettingsPreferenceId/master`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/preference/Firm/tradeSettingsPreference/122/master
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| levelName | String | Name of level. |
| tradeSettingsPreferenceId | Number | Prefererence id in DB table. |

```json
{
"levelName": "Firm",
"recordId": null,
"id": null,
"preferenceId": 122,
"name": "tradeSetting",
"displayName": "Trade Setting",
"categoryType": "Rebalance",
"componentType": "custom",
"componentName": "TradeSettingsDataGrid",
"tradeSettingPreferences": [],
"inheritedTradeSettingPreferences": []
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| UNAUTHORIZED | Invalid eclipse token. |
| INTERNAL_SERVER_ERROR | Internal Server Error. |
| BAD_REQUEST | Invalid or wrong query parameters. |

```http
HTTP/1.1 401 Not Authenticated
{
"message": "Invalid Authorization Header"
}
HTTP/1.1 500 INTERNAL_SERVER_ERROR
{
"message": "Internal Server Error"
}
```


## Get Transaction Fee Preference Master Data

This APIA will return master JSON structure for Transaction Fee custom preference.

**GET** `https://baseurl/v1/preference/:levelName/transactionFeePreference/:transactionFeePreferenceId/master`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/preference/Custodian/transactionFeePreference/113/master
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| levelName | String | Name of level. |
| recordId | Number | Record id for which we get preference. |
| id | Number | Preference value id if prefernces already updated. |
| preferenceId | Number | Prefererence id in DB table. |
| transactionFeePreferences | List | List of transaction fee setting preferences for security. |
| inheritedTransactionFeePreferences | List | List of transaction inherited redemption fee setting preferences for security. |

```json
{
"levelName": "Firm",
"recordId": null,
"id": null,
"preferenceId": 103,
"name": "SecuritySetting",
"displayName": "Security Setting",
"categoryType": "Security Setting",
"subCategoryType": null,
"componentType": "custom",
"componentName": "SecurityDataGrid",
"transactionFeePreferences": [],
"inheritedTransactionFeePreferences": []
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| UNAUTHORIZED | Invalid eclipse token. |
| INTERNAL_SERVER_ERROR | Internal Server Error. |
| BAD_REQUEST | Invalid or wrong query parameters. |

```http
HTTP/1.1 401 Not Authenticated
{
"message": "Invalid Authorization Header"
}
HTTP/1.1 500 INTERNAL_SERVER_ERROR
{
"message": "Internal Server Error"
}
```


## Get Transaction Fee Preference

This API will return transaction fee preference grid.

**GET** `https://baseurl/v1/preference/:levelName/tradeMinPreference/:recordId/:tradeMinFeePreferenceId/:preferenceValueId/:inheritedPreferenceValueId`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/preference/Firm/tradeMinPreference/3/1134/1/null
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| levelName | String | Name of level. |
| recordId | Number | Record id for which we get preference. |
| id | Number | Preference value id if prefernces already updated. |
| preferenceId | Number | Prefererence id in DB table. |
| transactionFeePreferences | List | List of transaction fee setting preferences for security. |
| tradeMinPreferences | List | List of tradeMin fee setting preferences for security. |
| inheritedTradeMinPreferences | List | List of traradeMinnsaction inherited trade fee setting preferences for security. |

```json
{
"levelName": "Firm",
"recordId": 11,
"id": 232,
"preferenceId": 114,
"name": "tradeMinSetting",
"displayName": "Trade Min Setting",
"categoryType": "Rebalance",
"subCategoryType": null,
"componentType": "custom",
"componentName": "TradeMinDataGrid",
"tradeMinPreferences": [
{
"id": 5,
"securityTypeId": 4,
"securityType": "Mutual Fund",
"sellMinAmount": 555.5,
"sellMinPercent": 55,
"buyMinAmount": 55.5,
"buyMinPercent": 10,
"inheritedFrom": "Firm"
},
{
"id": 6,
"securityTypeId": 4,
"securityType": "Apple",
"sellMinAmount": 111.5,
"sellMinPercent": 32,
"buyMinAmount": 55.5,
"buyMinPercent": 56,
"inheritedFrom": "Firm"
}
],
"inheritedTradeMinPreferences": [
{
"id": 1,
"securityTypeId": 4,
"securityType": "Mutual Fund",
"sellMinAmount": 123.5,
"sellMinPercent": 77,
"buyMinAmount": 876.5,
"buyMinPercent": 12,
"inheritedFrom": "Firm"
}
]
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| UNAUTHORIZED | Invalid eclipse token. |
| INTERNAL_SERVER_ERROR | Internal Server Error. |
| BAD_REQUEST | Invalid or wrong query parameters. |

```http
HTTP/1.1 401 Not Authenticated
{
"message": "Invalid Authorization Header"
}
HTTP/1.1 500 INTERNAL_SERVER_ERROR
{
"message": "Internal Server Error"
}
```


## Get Transaction Fee Preference

This API will return transaction fee preference grid.

**GET** `https://baseurl/v1/preference/:levelName/transactionFeePreference/:recordId/:transactionFeePreferenceId/:preferenceValueId/:inheritedPreferenceValueId`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/preference/Firm/transactionFeePreference/3/113/1/null
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| levelName | String | Name of level. |
| recordId | Number | Record id for which we get preference. |
| id | Number | Preference value id if prefernces already updated. |
| preferenceId | Number | Prefererence id in DB table. |
| transactionFeePreferences | List | List of transaction fee setting preferences for security. |
| inheritedTransactionFeePreferences | List | List of transaction inherited redemption fee setting preferences for security. |

```json
{
"levelName": "Firm",
"recordId": null,
"id": 1,
"preferenceId": 113,
"name": "transactionFeeSetting",
"displayName": "Transaction Fee Setting",
"categoryType": "Rebalance",
"subCategoryType": null,
"componentType": "custom",
"componentName": "TransactionFeeSettingsGrid",
"transactionFeePreferences": [
{
"id": 1,
"securityTypeId": 1,
"sellTransactionFee": 111.5,
"buyTransactionFee": 123.32,
"inheritedFrom": "Firm"
},
{
"id": 2,
"securityTypeId": 2,
"sellTransactionFee": 122.5,
"buyTransactionFee": 123.32,
"inheritedFrom": "Firm"
}
],
"inheritedTransactionFeePreferences": [
{
"id": 6,
"securityTypeId": 2,
"sellTransactionFee": 155.5,
"buyTransactionFee": 555.32,
"inheritedFrom": "Firm"
}
]
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| UNAUTHORIZED | Invalid eclipse token. |
| INTERNAL_SERVER_ERROR | Internal Server Error. |
| BAD_REQUEST | Invalid or wrong query parameters. |

```http
HTTP/1.1 401 Not Authenticated
{
"message": "Invalid Authorization Header"
}
HTTP/1.1 500 INTERNAL_SERVER_ERROR
{
"message": "Internal Server Error"
}
```


## List Master Preferences

This API will provide list of preferences for provided Level's name (:levelName) but without values.

**GET** `https://baseurl/v1/preference/:levelName/master`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/preference/Firm/master
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| level | Number | name of level for which we need preferences. |
| Record | Number | id of selected level. |
| preferences | List | List of preferences mapped by selected Level's bit value and level's record id. |

### Error 4xx

| Name | Description |
|------|-------------|
| UNAUTHORIZED | Invalid eclipse token. |
| INTERNAL_SERVER_ERROR | Internal Server Error. |
| BAD_REQUEST | Invalid or wrong query parameters. |

```http
HTTP/1.1 401 Not Authenticated
{
"message": "Invalid Authorization Header"
}
HTTP/1.1 500 INTERNAL_SERVER_ERROR
{
"message": "Internal Server Error"
}
```


## List Preferences

This API will provide list of preferences for provided Level's name (:levelName) and Level's record id (:recordId) e.g levelId 2 Custodian and then recordId will be selected custodian's unique id

**GET** `https://baseurl/v1/preference/:levelName/:recordId`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/preference/Firm/1
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| level | Number | name of level for which we need preferences. |
| Record | Number | id of selected level. |
| preferences | List | List of preferences mapped by selected Level's bit value and level's record id. |

### Error 4xx

| Name | Description |
|------|-------------|
| UNAUTHORIZED | Invalid eclipse token. |
| INTERNAL_SERVER_ERROR | Internal Server Error. |
| BAD_REQUEST | Invalid or wrong query parameters. |

```http
HTTP/1.1 401 Not Authenticated
{
"message": "Invalid Authorization Header"
}
HTTP/1.1 500 INTERNAL_SERVER_ERROR
{
"message": "Internal Server Error"
}
```


## Mass Update All Preferences

**PUT** `https://baseurl/v1/preference/Action/massUpdateAll`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/preference/Action/massUpdateAll
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| level | String | Name of level for which preferences are going to update. |
| id | Number | Record id for which we are going to update preferences. |
| defaultPreferences | list | List of all default preference. |
| locationOptimizationPreference | Object | Location optimization setting preference object. |
| communityStrategistPreference | Object | Community strategist preference object. |

```json
{
"level": "Firm",
"id": null,
"ids": [
3
],
"defaultPreferences": [
{
"id": null,
"preferenceId": 41,
"name": "reserveCashTaxable",
"valueType": "number",
"componentType": "default",
"componentName": "Textbox",
"selectedOptions": [],
"selectedIndicatorValue": "%",
"value": 25
},
{
"id": 475,
"preferenceId": 81,
"name": "taxLotDepletionMethod",
"valueType": "SortedList",
"componentType": "custom",
"componentName": "TaxLotDepletionMethodSortedlist",
"selectedOptions": [
{
"id": 37,
"name": "Long Term",
"order": 4
}
],
"value": null
}
],
"locationOptimizationPreference": {
"id": null,
"preferenceId": 87,
"assetTypes": [
{
"id": 2417,
"name": "311",
"buySetting": {
"T": 1,
"TD": 1,
"TE": 4
},
"sellSetting": {
"T": 4,
"TD": 4,
"TE": 3
}
},
{
"id": 2418,
"name": "311",
"buySetting": {
"T": 2,
"TD": 2,
"TE": 2
},
"sellSetting": {
"T": 2,
"TD": 2,
"TE": 2
}
},
{
"id": 2419,
"name": "311",
"buySetting": {
"T": 1,
"TD": 1,
"TE": 1
},
"sellSetting": {
"T": 3,
"TD": 3,
"TE": 3
}
}
]
},
"communityStrategistPreference": {
"id": null,
"preferenceId": 7,
"strategists": {
"strategistIds": [
2,
1
],
"modelAccessLevel": 2,
"communityModels": [
7,
10
]
}
},
"securityPreferences": {
"id": 2320,
"preferenceId": 103,
"securities": [
{
"id": 14612,
"securityName": "Agilent Technologies Inc",
"securityType": "MUTUAL FUND",
"symbol": " ty",
"custodianSecuritySymbolId": 18,
"buyTradeMaxAmtBySecurity": 1,
"buyTradeMaxPctBySecurity": 1,
"buyTradeMinAmtBySecurity": 1,
"buyTradeMinPctBySecurity": 0,
"buyTransactionFee": null,
"capGainReinvestTaxable": true,
"capGainsReinvestTaxDef": false,
"capGainsReinvestTaxExempt": true,
"custodianRedemptionDays": null,
"custodianRedemptionFeeAmount": null,
"custodianRedemptionFeeTypeId": null,
"excludeHolding": null,
"redemptionDays": null,
"redemptionFeeAmount": null,
"redemptionFeeTypeId": null,
"sellTradeMaxAmtBySecurity": 1,
"sellTradeMaxPctBySecurity": 0,
"sellTradeMinAmtBySecurity": 1,
"sellTradeMinPctBySecurity": 1,
"sellTransactionFee": null,
"buyPriority": 1,
"sellPriority": 5,
"taxableAlternate": {
"id": 1,
"name": "Yahoo"
},
"taxableDivReInvest": true,
"taxDefDivReinvest": true,
"taxDeferredAlternate": {
"id": 1,
"name": "Yahoo"
},
"taxExemptAlternate": {
"id": 1,
"name": "Yahoo"
},
"taxExemptDivReinvest": true
}
]
}
}
```

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| Object | List | List of preferences with updated values. |

```json
"Preferences updated successfully."
```

### Error 4xx

| Name | Description |
|------|-------------|
| UNAUTHORIZED | Invalid eclipse token. |
| INTERNAL_SERVER_ERROR | Internal Server Error. |
| BAD_REQUEST | Invalid or wrong query parameters. |

```http
HTTP/1.1 401 Not Authenticated
{
"message": "Invalid Authorization Header"
}
HTTP/1.1 500 INTERNAL_SERVER_ERROR
{
"message": "Internal Server Error"
}
HTTP/1.1 500 BAD_REQUEST
{
"message": "Bad Request: Verify request data"
}
```


## Mass Update Security Preferences

This API used to update security preferences for given levelName and recordId.

**PUT** `https://baseurl/v1/preference/Action/massUpdateAll/securityPreferences`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/Action/massUpdateAll/securityPreferences
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| level | String | Name of level for which preferences are going to update. |
| id | Number | Record id for which we are going to update preferences. |
| ids | Number | Record ids for which we are going to update for multiple records. |
| securityPreferences | Object | security preference object. |
| addSecurities | Array | added security preference object. |
| editSecurities | Array | editedsecurity preference object. |
| deleteSecurities | Array | Ids of securities to delete. |

```json
{
"level": "Firm",
"id": null,
"ids": [
34,
27
],
"securityPreferences": {
"id": null,
"preferenceId": 103,
"addSecurities": [
{
"id": 44034,
"securityName": "3M Company",
"securityType": "CASH",
"symbol": "sfdf",
"redemptionFeeTypeId": 1,
"redemptionFeeAmount": 200,
"redemptionFeeDays": null,
"sellTradeMinAmtBySecurity": null,
"sellTradeMinPctBySecurity": null,
"buyTradeMinAmtBySecurity": null,
"buyTradeMinPctBySecurity": null,
"buyTradeMaxAmtBySecurity": null,
"buyTradeMaxPctBySecurity": null,
"sellTradeMaxAmtBySecurity": null,
"sellTradeMaxPctBySecurity": null,
"taxableAlternate": {},
"taxDeferredAlternate": {},
"taxExemptAlternate": {},
"taxableDivReInvest": null,
"taxDefDivReinvest": null,
"taxExemptDivReinvest": null,
"capGainReinvestTaxable": null,
"capGainsReinvestTaxExempt": null,
"capGainsReinvestTaxDef": null,
"sellTransactionFee": null,
"buyTransactionFee": null,
"custodianRedemptionFeeTypeId": null,
"custodianRedemptionDays": null,
"custodianRedemptionFeeAmount": null,
"excludeHolding": null,
"sellPriority": null,
"buyPriority": null,
"minInitialBuyAmount": null
}
],
"editSecurities": [],
"deleteSecurities": [],
"resetToParent": false
}
}
```

```json
{
"level": "Firm",
"id": null,
"ids": [
34,
27
],
"securityPreferences": {
"id": 2916,
"preferenceId": 103,
"addSecurities": [],
"editSecurities": [],
"deleteSecurities": [
44034,
43165
],
"resetToParent": false
}
}
```

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| String | String | Success message. |

```json
"Preferences updated successfully."
```

### Error 4xx

| Name | Description |
|------|-------------|
| UNAUTHORIZED | Invalid eclipse token. |
| INTERNAL_SERVER_ERROR | Internal Server Error. |
| BAD_REQUEST | Invalid or wrong query parameters. |

```http
HTTP/1.1 401 Not Authenticated
{
"message": "Invalid Authorization Header"
}
HTTP/1.1 500 INTERNAL_SERVER_ERROR
{
"message": "Internal Server Error"
}
HTTP/1.1 500 BAD_REQUEST
{
"message": "Bad Request: Verify request data"
}
```


## Update All Preferences

**PUT** `https://baseurl/v1/preference/updateAll`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/preference/updateAll
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| level | String | Name of level for which preferences are going to update. |
| id | Number | Record id for which we are going to update preferences. |
| defaultPreferences | list | List of all default preference. |
| locationOptimizationPreference | Object | Location optimization setting preference object. |
| communityStrategistPreference | Object | Community strategist preference object. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| Object | List | List of preferences with updated values. |

```json
[
{
"id": 6,
"preferenceId": 41,
"categoryType": "Rebalance",
"subCategoryType": null,
"name": "ReserveCashTaxable",
"displayName": "Reserve Cash -Taxable",
"required": null,
"displayOrder": 41,
"minlength": null,
"maxlength": null,
"minValue": null,
"maxValue": null,
"pattern": null,
"valueType": "Decimal",
"value": "25",
"indicatorValue": "%",
"isInherited": false,
"inheritedValue": null,
"inheritedIndicatorValue": null,
"inheritedFrom": null,
"inheritedFromName": null,
"inheritedFromId": null,
"inheritedFromValueId": null,
"options": [],
"selectedOptions": [],
"inheritedSelectedOptions": [],
"indicatorOptions": [
{
"id": 3,
"name": "$",
"minValue": null,
"maxValue": null
},
{
"id": 4,
"name": "%",
"minValue": 0,
"maxValue": 100
}
],
"componentType": "default",
"componentName": "Textbox",
"helpText": "Need to allow a negative dollar amount for margin",
"watermarkText": null,
"symbol": null
},
{
"id": 3,
"preferenceId": 103,
"categoryType": "Security Setting",
"subCategoryType": null,
"name": "SecuritySetting",
"displayName": "Security Setting",
"required": null,
"displayOrder": 103,
"minlength": null,
"maxlength": null,
"minValue": null,
"maxValue": null,
"pattern": null,
"valueType": "Security Setting",
"value": null,
"indicatorValue": null,
"isInherited": false,
"inheritedValue": null,
"inheritedIndicatorValue": null,
"inheritedFrom": null,
"inheritedFromName": null,
"inheritedFromId": null,
"inheritedFromValueId": null,
"options": [],
"selectedOptions": [],
"inheritedSelectedOptions": [],
"indicatorOptions": [],
"componentType": "custom",
"componentName": "SecurityDataGrid",
"helpText": null,
"watermarkText": null,
"symbol": null
},
{
"id": 1,
"preferenceId": 87,
"categoryType": "Rebalance",
"subCategoryType": null,
"name": "LocationOptimization",
"displayName": "Location Optimization",
"required": null,
"displayOrder": 84,
"minlength": null,
"maxlength": null,
"minValue": null,
"maxValue": null,
"pattern": null,
"valueType": "Select a SubClass, and assign a value for each acc",
"value": null,
"indicatorValue": null,
"isInherited": false,
"inheritedValue": null,
"inheritedIndicatorValue": null,
"inheritedFrom": null,
"inheritedFromName": null,
"inheritedFromId": null,
"inheritedFromValueId": null,
"options": [],
"selectedOptions": [],
"inheritedSelectedOptions": [],
"indicatorOptions": [],
"componentType": "custom",
"componentName": "LocationOptimizationDataGrid",
"helpText": "Select a SubClass, and assign a value for each account type.\r\n\r\nAssign 1,2,3 or Never.",
"watermarkText": null,
"symbol": null
},
{
"id": 2,
"preferenceId": 7,
"categoryType": "Data Import",
"subCategoryType": null,
"name": "CommunityStrategistEnabledList",
"displayName": "Community Strategist Enabled List",
"required": null,
"displayOrder": 7,
"minlength": null,
"maxlength": null,
"minValue": null,
"maxValue": null,
"pattern": null,
"valueType": "<custom> (could be a separate table because it is ",
"value": null,
"indicatorValue": null,
"isInherited": false,
"inheritedValue": null,
"inheritedIndicatorValue": null,
"inheritedFrom": null,
"inheritedFromName": null,
"inheritedFromId": null,
"inheritedFromValueId": null,
"options": [],
"selectedOptions": [],
"inheritedSelectedOptions": [],
"indicatorOptions": [],
"componentType": "custom",
"componentName": "CommunityStrategistEnabledListCascadingControl",
"helpText": "Allow the user to select a community strategist., , From there, say enable all the strategist models, or select individual models.This will filter the list of available community models to the user when assigning models to portfolios.",
"watermarkText": "Select Strategist",
"symbol": null
},
{
"id": 5,
"preferenceId": 81,
"categoryType": "Rebalance",
"subCategoryType": null,
"name": "TaxLotDepletionMethod",
"displayName": "Tax Lot Depletion Method",
"required": null,
"displayOrder": 78,
"minlength": null,
"maxlength": null,
"minValue": null,
"maxValue": null,
"pattern": null,
"valueType": "SortedList",
"value": null,
"indicatorValue": null,
"isInherited": false,
"inheritedValue": null,
"inheritedIndicatorValue": null,
"inheritedFrom": null,
"inheritedFromName": null,
"inheritedFromId": null,
"inheritedFromValueId": null,
"options": [
{
"id": 34,
"name": "Short Term Losses",
"order": 1
},
{
"id": 35,
"name": "Long Term Losses",
"order": 2
},
{
"id": 36,
"name": "Short Term No Gain",
"order": 3
},
{
"id": 37,
"name": "Long Term No Gain",
"order": 4
},
{
"id": 81,
"name": "Long Term Gain",
"order": 6
},
{
"id": 82,
"name": "Short Term Gain",
"order": 5
}
],
"selectedOptions": [
{
"id": 37,
"order": 4
}
],
"inheritedSelectedOptions": [],
"indicatorOptions": [],
"componentType": "custom",
"componentName": "TaxLotDepletionMethodSortedlist",
"helpText": "This is the default sort order, allow the user to re-sort. #1 will be the first trade lot we choose to trade, #6 will be the last choice., Short Term Losses Long Term Losses Short Term No Gain Long Term No Gain Long Term Gain Short Term Gain",
"watermarkText": "Sorted List",
"symbol": null
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| UNAUTHORIZED | Invalid eclipse token. |
| INTERNAL_SERVER_ERROR | Internal Server Error. |
| BAD_REQUEST | Invalid or wrong query parameters. |

```http
HTTP/1.1 401 Not Authenticated
{
"message": "Invalid Authorization Header"
}
HTTP/1.1 500 INTERNAL_SERVER_ERROR
{
"message": "Internal Server Error"
}
HTTP/1.1 500 BAD_REQUEST
{
"message": "Bad Request: Verify request data"
}
```


## Update Security Preferences

This API used to update security preferences for given levelName and recordId.

**PUT** `https://baseurl/v1/preference/Action/updateAll/securityPreferences`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/Action/updateAll/securityPreferences
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| level | String | Name of level for which preferences are going to update. |
| id | Number | Record id for which we are going to update preferences. |
| ids | Number | Record ids for which we are going to update for multiple records. |
| securityPreferences | Object | security preference object. |
| addSecurities | Array | added security preference object. |
| editSecurities | Array | editedsecurity preference object. |
| deleteSecurities | Array | Ids of securities to delete |

```json
{
"level": "Firm",
"id": 14,
"ids": null,
"securityPreferences": {
"securities": [
1
],
"id": null,
"preferenceId": 103,
"addSecurities": [
{
"id": 44034,
"securityName": "3M Company",
"securityType": "CASH",
"symbol": "sfdf",
"redemptionFeeTypeId": 1,
"redemptionFeeAmount": 200,
"redemptionFeeDays": null,
"sellTradeMinAmtBySecurity": null,
"sellTradeMinPctBySecurity": null,
"buyTradeMinAmtBySecurity": null,
"buyTradeMinPctBySecurity": null,
"buyTradeMaxAmtBySecurity": null,
"buyTradeMaxPctBySecurity": null,
"sellTradeMaxAmtBySecurity": null,
"sellTradeMaxPctBySecurity": null,
"taxableAlternate": {},
"taxDeferredAlternate": {},
"taxExemptAlternate": {},
"taxableDivReInvest": null,
"taxDefDivReinvest": null,
"taxExemptDivReinvest": null,
"capGainReinvestTaxable": null,
"capGainsReinvestTaxExempt": null,
"capGainsReinvestTaxDef": null,
"sellTransactionFee": null,
"buyTransactionFee": null,
"custodianRedemptionFeeTypeId": null,
"custodianRedemptionDays": null,
"custodianRedemptionFeeAmount": null,
"excludeHolding": null,
"sellPriority": null,
"buyPriority": null,
"minInitialBuyAmount": null
}
],
"editSecurities": [],
"deleteSecurities": [],
"resetToParent": false
}
}
```

```json
{
"level": "Firm",
"id": 14,
"ids": null,
"securityPreferences": {
"id": 2916,
"preferenceId": 103,
"addSecurities": [],
"editSecurities": [],
"deleteSecurities": [
44034,
43165
],
"resetToParent": false
}
}
```

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| Object | Array | Security Setting object. |

```json
[
{
"id": 5096,
"preferenceId": 103,
"categoryType": "Securities Setting",
"subCategoryType": null,
"name": "securitySetting",
"displayName": "Security Setting",
"required": null,
"displayOrder": 103,
"minlength": null,
"maxlength": null,
"minValue": null,
"maxValue": null,
"pattern": null,
"valueType": "Security Setting",
"value": null,
"indicatorValue": null,
"isInherited": false,
"inheritedValue": null,
"inheritedIndicatorValue": null,
"inheritedFrom": null,
"inheritedFromName": null,
"inheritedFromId": null,
"inheritedFromValueId": null,
"options": [],
"selectedOptions": [],
"inheritedSelectedOptions": [],
"indicatorOptions": [],
"componentType": "custom",
"componentName": "SecurityDataGrid",
"helpText": null,
"watermarkText": null,
"symbol": null
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| UNAUTHORIZED | Invalid eclipse token. |
| INTERNAL_SERVER_ERROR | Internal Server Error. |
| BAD_REQUEST | Invalid or wrong query parameters. |

```http
HTTP/1.1 401 Not Authenticated
{
"message": "Invalid Authorization Header"
}
HTTP/1.1 500 INTERNAL_SERVER_ERROR
{
"message": "Internal Server Error"
}
HTTP/1.1 500 BAD_REQUEST
{
"message": "Bad Request: Verify request data"
}
```


---

# Categories


## Create New category

This API Add Category.

**POST** `https://baseurl/v1/security/categories`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/security/categories
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| name | String | Full Name of the Category. |
| color | String | color. |

```json
{
"name": "Equit1y",
"color": "#343443"
}
```

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The Category ID. |
| name | String | Name of the Category. |
| color | String | Color to be used for This Category. |
| isImported | Number | Category is imported from connect or not. |
| isDeleted | Number | Category exists in system or not. |
| createdOn | Date | Category creation Date. |
| createdBy | Number | Full Name of user who created the Category into the system. |
| editedOn | Date | Category edited date into the system. |
| editedBy | Number | Full Name of user who edited the Category details into the system. |

```http
HTTP/1.1 200 OK
[
{
"id": 1,
"name": "Equity",
"color": "#000000",
"isImported": 1,
"isDeleted": 0,
"createdOn": null,
"createdBy": "Prime Prime",
"editedOn": "2016-07-13T12:13:54.000Z",
"editedBy": "Prime Prime"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |
| Bad_Request | When missing required parameters. |
| Unprocessable_Entity | When category already exist with same name. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```

```http
HTTP/1.1 400 Bad_Request
{
"message": "Missing required parameters"
}
```

```http
HTTP/1.1 422 Unprocessable_Entity
{
"message": "Category name already exists "
}
```


## Delete Category

This API deletes Category (soft delete).

**DELETE** `https://baseurl/v1/security/categories/:id`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/security/categories/1
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| message | String | Success message. |

```http
HTTP/1.1 200 OK
{
"message": "Category deleted Successfully"
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |
| UNPROCESSABLE | when trying to delete imported category |
| Unprocessable_Entity | When Category does not exist. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```

```http
HTTP/1.1 422 UNPROCESSABLE
{
"message": "Imported Category cannot be removed"
}
```

```http
HTTP/1.1 422 Unprocessable_Entity
{
"message": " Category does not exists "
}
```

```http
HTTP/1.1 422 UNPROCESSABLE
{
"message": "Category cannot be removed as it is associated with security"
}
```


## Get All categories

This API gets category list.

**GET** `https://baseurl/v1/security/categories`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/security/categories
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The Category ID. |
| name | String | Name of the Category. |
| color | String | Color to be used for This Category. |
| isImported | Number | Category is imported from connect or not. |
| isDeleted | Number | Category exists in system or not. |
| createdOn | Date | Category creation Date. |
| createdBy | Number | Full Name of user who created the Category into the system. |
| editedOn | Date | Category edited date into the system. |
| editedBy | Number | Full Name of user who edited the Category details into the system. |

```http
HTTP/1.1 200 OK
[
{
"id": 1,
"name": "Equity",
"color": "#000000",
"isImported": 1,
"isDeleted": 0,
"createdOn": null,
"createdBy": "Prime Prime",
"editedOn": "2016-07-13T12:13:54.000Z",
"editedBy": "Prime Prime"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## update category

This API updates Category.

**PUT** `https://baseurl/v1/security/categories/:id`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/security/categories/123
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| name | String | Full Name of the Category. |
| color | String | color. |

```json
{
"name": "Equit1y",
"color": "#343443"
}
```

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The Category ID. |
| name | String | Name of the Category. |
| color | String | Color to be used for This Category. |
| isImported | Number | Category is imported from connect or not. |
| isDeleted | Number | Category exists in system or not. |
| createdOn | Date | Category creation Date. |
| createdBy | Number | Full Name of user who created the Category into the system. |
| editedOn | Date | Category edited date into the system. |
| editedBy | Number | Full Name of user who edited the Category details into the system. |

```http
HTTP/1.1 200 OK
[
{
"id": 1,
"name": "Equity",
"color": "#000000",
"isImported": 1,
"isDeleted": 0,
"createdOn": null,
"createdBy": "Prime Prime",
"editedOn": "2016-07-13T12:13:54.000Z",
"editedBy": "Prime Prime"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |
| Bad_Request | When missing required parameters. |
| Unprocessable_Entity | When Category already exist with same name. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```

```http
HTTP/1.1 400 Bad_Request
{
"message": "Missing required parameters"
}
```

```http
HTTP/1.1 422 Unprocessable_Entity
{
"message": " Category name already exists"
}
```

```http
HTTP/1.1 422 Unprocessable_Entity
{
"message": " Category does not exists "
}
```

```http
HTTP/1.1 422 Unprocessable_Entity
{
"message": "Imported Category cannot be updated"
}
```


---

# Classes


## Create New Classes

This API Add Class.

**POST** `https://baseurl/v1/security/classes`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/security/classes
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| name | String | Full Name of the Class. |
| color | String | Color to be used for class. |

```json
{
"name": "Equit1y",
"color": "#343443"
}
```

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The class ID. |
| name | String | Name of the Class. |
| color | String | Color to be used for This Class. |
| isImported | Number | Class is imported from connect or not. |
| isDeleted | Number | Class exists in system or not. |
| createdOn | Date | Class creation Date. |
| createdBy | Number | Full Name of user who created the Class into the system. |
| editedOn | Date | Class edited date into the system. |
| editedBy | Number | Full Name of user who edited the Class details into the system. |

```http
HTTP/1.1 200 OK
[
{
"id": 1,
"name": "Equity",
"color": "#000000",
"isImported": 1,
"isDeleted": 0,
"createdOn": null,
"createdBy": "Prime Prime",
"editedOn": "2016-07-13T12:13:54.000Z",
"editedBy": "Prime Prime"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |
| Bad_Request | When missing required parameters. |
| Unprocessable_Entity | When class already exist with same name. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```

```http
HTTP/1.1 400 Bad_Request
{
"message": "Missing required parameters"
}
```

```http
HTTP/1.1 422 Unprocessable_Entity
{
"message": "Class name already exists"
}
```


## Delete Class

This API deletes Class (soft delete).

**DELETE** `https://baseurl/v1/security/classes/:id`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/security/classes/1
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| message | String | Success message. |

```http
HTTP/1.1 200 OK
{
"message": "Class deleted Successfully"
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |
| UNPROCESSABLE | when trying to delete imported class |
| Unprocessable_Entity | When Class does not exist. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```

```http
HTTP/1.1 422 UNPROCESSABLE
{
"message": "Imported Class cannot be removed"
}
```

```http
HTTP/1.1 422 Unprocessable_Entity
{
"message": " Class does not exists "
}
```

```http
HTTP/1.1 422 UNPROCESSABLE
{
"message": "Class cannot be removed as it is associated with security"
}
```


## Get All classes

This API gets category list.

**GET** `https://baseurl/v1/security/classes`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/security/classes
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The class ID. |
| name | String | Name of the Class. |
| color | String | Color to be used for This Class. |
| isImported | Number | Class is imported from connect or not. |
| isDeleted | Number | Class exists in system or not. |
| createdOn | Date | Class creation Date. |
| createdBy | Number | Full Name of user who created the Class into the system. |
| editedOn | Date | Class edited date into the system. |
| editedBy | Number | Full Name of user who edited the Class details into the system. |

```http
HTTP/1.1 200 OK
[
{
"id": 1,
"name": "Equity",
"color": "#000000",
"isImported": 1,
"isDeleted": 0,
"createdOn": null,
"createdBy": "Prime Prime",
"editedOn": "2016-07-13T12:13:54.000Z",
"editedBy": "Prime Prime"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## update class

This API updates class.

**PUT** `https://baseurl/v1/security/classes/:id`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/security/classes/1
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| name | String | Full Name of the Class. |
| color | String | Color to be used for class. |

```json
{
"name": "Equit1y",
"color": "#343443"
}
```

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The class ID. |
| name | String | Name of the Class. |
| color | String | Color to be used for This Class. |
| isImported | Number | Class is imported from connect or not. |
| isDeleted | Number | Class exists in system or not. |
| createdOn | Date | Class creation Date. |
| createdBy | Number | Full Name of user who created the Class into the system. |
| editedOn | Date | Class edited date into the system. |
| editedBy | Number | Full Name of user who edited the Class details into the system. |

```http
HTTP/1.1 200 OK
[
{
"id": 1,
"name": "Equity",
"color": "#000000",
"isImported": 1,
"isDeleted": 0,
"createdOn": null,
"createdBy": "Prime Prime",
"editedOn": "2016-07-13T12:13:54.000Z",
"editedBy": "Prime Prime"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |
| Bad_Request | When missing required parameters. |
| Unprocessable_Entity | When Class already exist with same name. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```

```http
HTTP/1.1 400 Bad_Request
{
"message": "Missing required parameters"
}
```

```http
HTTP/1.1 422 Unprocessable_Entity
{
"message": " Class name already exists"
}
```

```http
HTTP/1.1 422 Unprocessable_Entity
{
"message": " Class does not exists "
}
```

```http
HTTP/1.1 422 Unprocessable_Entity
{
"message": "Imported Class cannot be updated"
}
```


---

# SubClasses


## Create New SubClasses

This API Add SubClass.

**POST** `https://baseurl/v1/security/subclasses`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/security/subclasses
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| name | String | Full Name of the SubClass. |
| color | String | color. |

```json
{
"name": "Equit1y",
"color": "#343443"
}
```

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The SubClass ID. |
| name | String | Name of the SubClass. |
| color | String | Color to be used for This SubClass. |
| isImported | Number | SubClass is imported from connect or not. |
| isDeleted | Number | SubClass exists in system or not. |
| createdOn | Date | SubClass creation Date. |
| createdBy | Number | Full Name of user who created the SubClass into the system. |
| editedOn | Date | SubClass edited date into the system. |
| editedBy | Number | Full Name of user who edited the SubClass details into the system. |

```http
HTTP/1.1 200 OK
[
{
"id": 1,
"name": "Equity",
"color": "#000000",
"isImported": 1,
"isDeleted": 0,
"createdOn": null,
"createdBy": "Prime Prime",
"editedOn": "2016-07-13T12:13:54.000Z",
"editedBy": "Prime Prime"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |
| Bad_Request | When missing required parameters. |
| Unprocessable_Entity | When subclass already exist with same name. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```

```http
HTTP/1.1 400 Bad_Request
{
"message": "Missing required parameters"
}
```


## Deletes subclass

This API deletes SubClass (soft delete).

**DELETE** `https://baseurl/v1/security/subclasses/:id`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/security/subclasses/1
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| message | String | Success message. |

```http
HTTP/1.1 200 OK
{
"message": "SubClass deleted Successfully"
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |
| UNPROCESSABLE | when trying to delete imported class |
| Unprocessable_Entity | When SubClass does not exist. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```

```http
HTTP/1.1 422 UNPROCESSABLE
{
"message": "Imported SubClass cannot be updated"
}
```

```http
HTTP/1.1 422 Unprocessable_Entity
{
"message": " SubClass does not exists "
}
```

```http
HTTP/1.1 422 UNPROCESSABLE
{
"message": "SubClass cannot be removed as it is associated with security"
}
```


## Get All Sub-Classes

This API gets category list.

**GET** `https://baseurl/v1/security/subclasses`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/security/subclasses
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The SubClass ID. |
| name | String | Name of the SubClass. |
| color | String | Color to be used for This SubClass. |
| isImported | Number | SubClass is imported from connect or not. |
| isDeleted | Number | SubClass exists in system or not. |
| createdOn | Date | SubClass creation Date. |
| createdBy | Number | Full Name of user who created the SubClass into the system. |
| editedOn | Date | SubClass edited date into the system. |
| editedBy | Number | Full Name of user who edited the SubClass details into the system. |

```http
HTTP/1.1 200 OK
[
{
"id": 1,
"name": "Equity",
"color": "#000000",
"isImported": 1,
"isDeleted": 0,
"createdOn": null,
"createdBy": "Prime Prime",
"editedOn": "2016-07-13T12:13:54.000Z",
"editedBy": "Prime Prime"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## update subclass

This API updates SubClass.

**PUT** `https://baseurl/v1/security/subclasses/:id`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/security/subclasses/1
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| name | String | Full Name of the subclass. |
| color | String | color. |

```json
{
"name": "Equit1y",
"color": "#343443"
}
```

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The SubClass ID. |
| name | String | Name of the SubClass. |
| color | String | Color to be used for This SubClass. |
| isImported | Number | SubClass is imported from connect or not. |
| isDeleted | Number | SubClass exists in system or not. |
| createdOn | Date | SubClass creation Date. |
| createdBy | Number | Full Name of user who created the SubClass into the system. |
| editedOn | Date | SubClass edited date into the system. |
| editedBy | Number | Full Name of user who edited the SubClass details into the system. |

```http
HTTP/1.1 200 OK
[
{
"id": 1,
"name": "Equity",
"color": "#000000",
"isImported": 1,
"isDeleted": 0,
"createdOn": null,
"createdBy": "Prime Prime",
"editedOn": "2016-07-13T12:13:54.000Z",
"editedBy": "Prime Prime"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |
| Bad_Request | When missing required parameters. |
| Unprocessable_Entity | When SubClass already exist with same name. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```

```http
HTTP/1.1 400 Bad_Request
{
"message": "Missing required parameters"
}
```

```http
HTTP/1.1 422 Unprocessable_Entity
{
"message": "subclass name already exists"
}
```

```http
HTTP/1.1 422 Unprocessable_Entity
{
"message": " SubClass does not exists "
}
```

```http
HTTP/1.1 422 Unprocessable_Entity
{
"message": "Imported SubClass cannot be updated"
}
```


---

# Security


## Add Security

This API Add Security.

**POST** `https://baseurl/v1/security/securities`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/security/securities
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| id | Number | Security ID in orion Connect |

```json
{
"id": 323
}
```

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The Security Id. |
| name | String | Name of the Security in Eclipse. |
| symbol | String | Symbol of the Security in Eclipse. |
| securityTypeId | Number | SecurityType Id in Eclipse. |
| securityType | String | SecurityType Name in Eclipse. |
| price | Number | Latest Security price in Eclipse. |
| status | String | Security Status in Eclipse. |
| isDeleted | Number | Security exists in system or not in Eclipse. |
| assetCategoryId | Number | AssetCategoryId of Security in Eclipse. |
| assetClassId | Number | AssetClassId of Security in Eclipse. |
| assetSubClassId | Number | AssetSubClassId of Security in Eclipse. |
| assetCategory | String | AssetCategory Name of Security in Eclipse. |
| assetClass | String | AssetClass Name of Security in Eclipse. |
| assetSubClass | String | AssetSubClass Name of Security in Eclipse. |
| custodialCash | Number | Security is custodial cash or not. |
| createdOn | Date | Security creation Date. |
| createdBy | Number | Full Name of user who created the Security into the system. |
| editedOn | Date | Security edited date into the system. |
| editedBy | Number | Full Name of user who edited the Security into the system. |
| custodians | String[] | List of Custodians associated with Security. |

```http
HTTP/1.1 201 OK
{
"id": 8496,
"name": "Sysco Corporation",
"symbol": "SYY",
"status": "OPEN",
"price": 2,
"custodialCash": null,
"assetCategoryId": 1,
"assetClassId": null,
"assetSubClassId": 1,
"assetCategory": "dsfsdf",
"assetClass": null,
"assetSubClass": null,
"securityTypeId": null,
"securityType": null,
"isDeleted": 0,
"createdOn": null,
"createdBy": "Prime TGI",
"editedOn": null,
"editedBy": "Prime TGI",
"custodians": [
{
"id": 1,
"custodianName": "Circle Trust",
"custodianCode": "CTC",
"custodianSecuritySymbol": "IYC"
},
{
"id": 3,
"custodianName": "Fidelity",
"custodianCode": "FIBG",
"custodianSecuritySymbol": "FDI"
},
{
"id": 5,
"custodianName": "Fund Direct",
"custodianCode": "DIRECT",
"custodianSecuritySymbol": "DR"
}
]
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |
| Bad_Request | When missing required parameters. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```

```http
HTTP/1.1 400 Bad_Request
{
"message": "Missing required parameters"
}
```


## create Corporate Action for Security.

This API create corporate action for Security.

**POST** `https://baseurl/v1/security/securities/:id/corporateAction`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/security/securities/:id/corporateAction
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| corporateActionTypeId | Number | corporate action typeId. |
| corporateActionTypeName | String | corporate action type name. |
| to | Number | what we want's it to be. |
| from | Number | from where we want to change. |
| securityId | Number | securityId. |
| spinOfsecurityId | Number | spinOfsecurityId. |
| isDeleted | Number | isDeleted. |
| createdOn | Number | createdOn. |
| createdBy | Number | createdBy. |
| editedOn | Number | editedOn. |
| editedBy | Number | editedBy. |

```json
{
"corporateActionTypeId": 1,
"to": 2,
"from": 1,
"spinOfSecurityId": null
}
```

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | internal id of corporate action. |
| corporateActionTypeId | Number | corporate action typeId. |
| corporateActionTypeName | String | corporate action type name. |
| to | Number | what we want's it to be. |
| from | Number | from where we want to change. |
| securityId | Number | securityId. |
| spinOfsecurityId | Number | spinOfsecurityId. |
| isDeleted | Number | isDeleted. |
| createdOn | Number | createdOn. |
| createdBy | Number | createdBy. |
| editedOn | Number | editedOn. |
| editedBy | Number | editedBy. |

```http
HTTP/1.1 200 OK
{
"id": 4,
"corporateActionTypeId": 1,
"corporateActionTypeName": "Stock Split",
"corporateActionTypeCode": "STOCK_SPLIT",
"to": 2,
"from": 1,
"securityId": 0,
"spinOfSecurityId": null,
"isDeleted": 0,
"createdOn": "2016-11-28T07:44:03.000Z",
"createdBy": 66,
"editedOn": "2016-11-28T07:44:03.000Z",
"editedBy": 66
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |
| Unprocessable_Entity | When Security does not exist. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```

```http
HTTP/1.1 422 Unprocessable_Entity
{
"message": " Security does not exists "
}
```


## Delete Security

This API deletes Security (soft delete).

**DELETE** `https://baseurl/v1/security/securities/:id`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/security/securities/1
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| message | String | Success message. |

```http
HTTP/1.1 200 OK
{
"message": "Security deleted Successfully"
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |
| Unprocessable_Entity | When Security does not exist. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```

```http
HTTP/1.1 422 Unprocessable_Entity
{
"message": " Security does not exists "
}
```


## Get All Securities

This API gets security list

**GET** `https://baseurl/v1/security/securities`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/security/securities
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The Security Id. |
| name | String | Name of the Security in Eclipse. |
| symbol | String | Symbol of the Security in Eclipse. |
| securityTypeId | Number | SecurityType Id in Eclipse. |
| securityType | String | SecurityType Name in Eclipse. |
| price | Number | Latest Security price in Eclipse. |
| status | String | Security Status in Eclipse. |
| isDeleted | Number | Security exists or not in Eclipse. |
| assetCategoryId | Number | AssetCategoryId of Security in Eclipse. |
| assetClassId | Number | AssetClassId of Security in Eclipse. |
| assetSubClassId | Number | AssetSubClassId of Security in Eclipse. |
| assetCategory | String | AssetCategory Name of Security in Eclipse. |
| assetClass | String | AssetClass Name of Security in Eclipse. |
| assetSubClass | String | AssetSubClass Name of Security in Eclipse. |
| custodialCash | Number | Security is custodial cash or not. |
| hasCorporateSecurityAction | Boolean | Security is custodial cash or not. |
| createdOn | Date | Security creation Date. |
| createdBy | Number | Full Name of user who created the Security into the system. |
| editedOn | Date | Security edited date into the system. |
| editedBy | Number | Full Name of user who edited the Security into the system. |

```http
HTTP/1.1 200 OK
[
{
"id": 98,
"name": "Nwide-FP Life: Fid Asset Mgr",
"symbol": "_NFFAM",
"securityTypeId": 2,
"securityType": "CASH",
"price": null,
"status": "OPEN",
"isDeleted": 0,
"assetCategoryId": null,
"assetClassId": null,
"assetSubClassId": null,
"assetCategory": null,
"assetClass": null,
"assetSubClass": null,
"custodialCash": null,
"createdOn": "2016-08-05T07:05:51.000Z",
"editedOn": "2016-08-05T07:05:51.000Z",
"createdBy": "Prime Prime",
"editedBy": "Prime Prime"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get All security Status

This API gets security status list.

**GET** `https://baseurl/v1/security/securities/securitystatus`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/security/securities/securitystatus
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

```http
HTTP/1.1 200 OK
[
"OPEN",
"NOT_APPROVED",
"EXCLUDED"
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get All security type

This API gets security type list.

**GET** `https://baseurl/v1/security/securities/securitytype`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/security/securities/securitytype
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | String | The security type Id. |
| name | Date | Name of the SecurityType. |
| isDeleted | Number | Security Type exist or not into the system. |
| createdOn | Date | Security Type creation date into application. |
| createdBy | Number | Id of user who created the Security Type into the system. |
| editedOn | Date | Security Type edited date into application. |
| editedBy | String | Id of user who edited the Security Type details into the system. |

```http
HTTP/1.1 200 OK
[{
"id": 1,
"name": "MUTUAL FUND",
"isDeleted": 0,
"createdOn": "2016-06-17T05:57:22.000Z",
"createdBy": 0,
"editedOn": "2016-06-17T05:57:25.000Z",
"editedBy": 0
}]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## get Corporate Actions for Security.

This API get corporate action for Security.

**GET** `https://baseurl/v1/security/securities/:id/corporateAction`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/security/securities/:id/corporateAction
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | internal id of corporate action. |
| corporateActionTypeId | Number | corporate action typeId. |
| corporateActionTypeName | String | corporate action type name. |
| to | Number | what we want's it to be. |
| from | Number | from where we want to change. |
| securityId | Number | securityId. |
| spinOfsecurityId | Number | spinOfsecurityId. |
| isDeleted | Number | isDeleted. |
| createdOn | Number | createdOn. |
| createdBy | Number | createdBy. |
| editedOn | Number | editedOn. |
| editedBy | Number | editedBy. |

```http
HTTP/1.1 200 OK
[{
"id": 4,
"corporateActionTypeId": 1,
"corporateActionTypeName": "Stock Split",
"corporateActionTypeCode": "STOCK_SPLIT",
"to": 2,
"from": 1,
"securityId": 0,
"spinOfSecurityId": null,
"isDeleted": 0,
"createdOn": "2016-11-28T07:44:03.000Z",
"createdBy": 66,
"editedOn": "2016-11-28T07:44:03.000Z",
"editedBy": 66
}]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |
| Unprocessable_Entity | When Security does not exist. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```

```http
HTTP/1.1 422 Unprocessable_Entity
{
"message": " Security does not exists "
}
```


## get Corporate Actions Types master data.

This API get corporate action types for Security.

**GET** `https://baseurl/v1/security/securities/corporateActionTypes`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/security/securities/corporateActionTypes
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | internal id of corporate action types. |
| name | String | corporate action type name. |
| code | String | corporate action type code. |

```http
HTTP/1.1 200 OK
[
{
"id": 1,
"name": "Stock Split",
"code": "STOCK_SPLIT"
},
{
"id": 2,
"name": "Reverse Split",
"code": "REVERSE_SPLIT"
},
{
"id": 3,
"name": "Spin Off",
"code": "SPIN_OFF"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |
| Unprocessable_Entity | When master data does not exist. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```

```http
HTTP/1.1 422 Unprocessable_Entity
{
"message": " Corporate action type does not exists "
}
```


## get preference security alternates.

This API get Minimum InitialBuyAmount Preference From Custodian Level .

**GET** `https://baseurl/v1/security/securities/:id/securityMinimumInitialBuyAmountPreferences`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/security/securities/:id/securityMinimumInitialBuyAmountPreferences
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | primary security Id. |

```http
HTTP/1.1 200 OK
[
{
"custodianId": 4,
"custodianName": "Schwab",
"minInitialBuyAmount": "10000"
},
{
"custodianId": 1,
"custodianName": "Circle Trust",
"minInitialBuyAmount": "546.25"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |
| Unprocessable_Entity | When Security does not exist. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```

```http
HTTP/1.1 422 Unprocessable_Entity
{
"message": " Security does not exists "
}
```


## get preference security alternates.

This API get preference security tax alternates .

**GET** `https://baseurl/v1/security/securities/:id/securityAlternatePreferences`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/security/securities/:id/securityAlternatePreferences
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | primary security Id. |

```http
HTTP/1.1 200 OK
{
"securityId": 14308,
"securityName": "Decorize Inc",
"securitySymbol": "T141151924",
"taxable": [
{
"teamId": 1,
"teamName": "Default Team",
"securityid": "31703",
"securityName": "Yahoo Inc",
"securitySymbol": "YHOO",
"level": "Firm"
}
],
"taxDefered": [
{
"teamId": 1,
"teamName": "Default Team",
"securityid": "780",
"securityName": "Genpact Ltd",
"securitySymbol": "G",
"level": "Team"
}
],
"taxExcempt": [
{
"teamId": 1,
"teamName": "Default Team",
"securityid": "780",
"securityName": "Genpact Ltd",
"securitySymbol": "G",
"level": "Team"
}
]
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |
| Unprocessable_Entity | When Security does not exist. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```

```http
HTTP/1.1 422 Unprocessable_Entity
{
"message": " Security does not exists "
}
```


## get preference security buy or sell priorities.

This API get buy or sell priority Preference From Team and Firm Level .

**GET** `https://baseurl/v1/security/securities/:id/securityPriorityPreferences?priority={buy/sell}`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/security/securities/:id/securityPriorityPreferences?priority={buy/sell}
```

### Header

| Name | Description |
|------|-------------|
| Authorization | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | primary security Id. |

```http
HTTP/1.1 200 OK
[
{
"teamId": 1,
"teamName": "Default Team",
"priorityId": 2
"level": "Team"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |
| Unprocessable_Entity | When Security does not exist. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```

```http
HTTP/1.1 422 Unprocessable_Entity
{
"message": " Security does not exists "
}
```


## Get Securities under given Category

This API gets security list

**GET** `https://baseurl/v1/security/securities?assetCategoryId={id}`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/security/securities?assetCategoryId=1
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The Security Id. |
| name | String | Name of the Security in Eclipse. |
| symbol | String | Symbol of the Security in Eclipse. |
| securityTypeId | Number | SecurityType Id in Eclipse. |
| securityType | String | SecurityType Name in Eclipse. |
| price | Number | Latest Security price in Eclipse. |
| status | String | Security Status in Eclipse. |
| isDeleted | Number | Security exists in system or not in Eclipse. |
| assetCategoryId | Number | AssetCategoryId of Security in Eclipse. |
| assetClassId | Number | AssetClassId of Security in Eclipse. |
| assetSubClassId | Number | AssetSubClassId of Security in Eclipse. |
| assetCategory | String | AssetCategory Name of Security in Eclipse. |
| assetClass | String | AssetClass Name of Security in Eclipse. |
| assetSubClass | String | AssetSubClass Name of Security in Eclipse. |
| custodialCash | Number | Security is custodial cash or not. |
| createdOn | Date | Security creation Date. |
| createdBy | Number | Full Name of user who created the Security into the system. |
| editedOn | Date | Security edited date into the system. |
| editedBy | Number | Full Name of user who edited the Security into the system. |

```http
HTTP/1.1 200 OK
[
{
"id": 8496,
"name": "Sysco Corporation",
"symbol": "SYY",
"securityTypeId": null,
"securityType": null,
"price": 150,
"status": "OPEN",
"isDeleted": 0,
"assetCategoryId": 1,
"assetClassId": null,
"assetSubClassId": 1,
"assetCategory": "Fixed Income1",
"assetClass": null,
"assetSubClass": null,
"custodialCash": null,
"createdOn": null,
"editedOn": null,
"createdBy": "Prime TGI",
"editedBy": "Prime TGI"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get Securities under given Class

This API gets security list

**GET** `https://baseurl/v1/security/securities?assetClassId={id}`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/security/securities?assetClassId=1
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The Security Id. |
| name | String | Name of the Security in Eclipse. |
| symbol | String | Symbol of the Security in Eclipse. |
| securityTypeId | Number | SecurityType Id in Eclipse. |
| securityType | String | SecurityType Name in Eclipse. |
| price | Number | Latest Security price in Eclipse. |
| status | String | Security Status in Eclipse. |
| isDeleted | Number | Security exists in system or not in Eclipse. |
| assetCategoryId | Number | AssetCategoryId of Security in Eclipse. |
| assetClassId | Number | AssetClassId of Security in Eclipse. |
| assetSubClassId | Number | AssetSubClassId of Security in Eclipse. |
| assetCategory | String | AssetCategory Name of Security in Eclipse. |
| assetClass | String | AssetClass Name of Security in Eclipse. |
| assetSubClass | String | AssetSubClass Name of Security in Eclipse. |
| custodialCash | Number | Security is custodial cash or not. |
| createdOn | Date | Security creation Date. |
| createdBy | Number | Full Name of user who created the Security into the system. |
| editedOn | Date | Security edited date into the system. |
| editedBy | Number | Full Name of user who edited the Security into the system. |

```http
HTTP/1.1 200 OK
[
{
"id": 8496,
"name": "Sysco Corporation",
"symbol": "SYY",
"securityTypeId": null,
"securityType": null,
"price": 150,
"status": "OPEN",
"isDeleted": 0,
"assetCategoryId": 1,
"assetClassId": 1,
"assetSubClassId": 1,
"assetCategory": "Fixed Income1",
"assetClass": null,
"assetSubClass": null,
"custodialCash": null,
"createdOn": null,
"editedOn": null,
"createdBy": "Prime TGI",
"editedBy": "Prime TGI"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get Securities under given status

This API gets security list

**GET** `https://baseurl/v1/security/securities?status={OPEN/EXCLUDED/NOT_APPROVED}&amp;top=20`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/security/securities
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The Security Id. |
| name | String | Name of the Security in Eclipse. |
| symbol | String | Symbol of the Security in Eclipse. |
| securityTypeId | Number | SecurityType Id in Eclipse. |
| securityType | String | SecurityType Name in Eclipse. |
| price | Number | Latest Security price in Eclipse. |
| status | String | Security Status in Eclipse. |
| isDeleted | Number | Security exists in system or not in Eclipse. |
| assetCategoryId | Number | AssetCategoryId of Security in Eclipse. |
| assetClassId | Number | AssetClassId of Security in Eclipse. |
| assetSubClassId | Number | AssetSubClassId of Security in Eclipse. |
| assetCategory | String | AssetCategory Name of Security in Eclipse. |
| assetClass | String | AssetClass Name of Security in Eclipse. |
| assetSubClass | String | AssetSubClass Name of Security in Eclipse. |
| custodialCash | Number | Security is custodial cash or not. |
| createdOn | Date | Security creation Date. |
| createdBy | Number | Full Name of user who created the Security into the system. |
| editedOn | Date | Security edited date into the system. |
| editedBy | Number | Full Name of user who edited the Security into the system. |

```http
HTTP/1.1 200 OK
[
{
"id": 8496,
"name": "Sysco Corporation",
"symbol": "SYY",
"securityTypeId": null,
"securityType": null,
"price": 150,
"status": "OPEN",
"isDeleted": 0,
"assetCategoryId": 1,
"assetClassId": null,
"assetSubClassId": 1,
"assetCategory": "Fixed Income1",
"assetClass": null,
"assetSubClass": null,
"custodialCash": null,
"createdOn": null,
"editedOn": null,
"createdBy": "Prime TGI",
"editedBy": "Prime TGI"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get Securities under given SubClass

This API gets security list

**GET** `https://baseurl/v1/security/securities?assetSubClassId={id}`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/security/securities?assetSubClassId=1
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The Security Id. |
| name | String | Name of the Security in Eclipse. |
| symbol | String | Symbol of the Security in Eclipse. |
| securityTypeId | Number | SecurityType Id in Eclipse. |
| securityType | String | SecurityType Name in Eclipse. |
| price | Number | Latest Security price in Eclipse. |
| status | String | Security Status in Eclipse. |
| isDeleted | Number | Security exists in system or not in Eclipse. |
| assetCategoryId | Number | AssetCategoryId of Security in Eclipse. |
| assetClassId | Number | AssetClassId of Security in Eclipse. |
| assetSubClassId | Number | AssetSubClassId of Security in Eclipse. |
| assetCategory | String | AssetCategory Name of Security in Eclipse. |
| assetClass | String | AssetClass Name of Security in Eclipse. |
| assetSubClass | String | AssetSubClass Name of Security in Eclipse. |
| custodialCash | Number | Security is custodial cash or not. |
| createdOn | Date | Security creation Date. |
| createdBy | Number | Full Name of user who created the Security into the system. |
| editedOn | Date | Security edited date into the system. |
| editedBy | Number | Full Name of user who edited the Security into the system. |

```http
HTTP/1.1 200 OK
[
{
"id": 8496,
"name": "Sysco Corporation",
"symbol": "SYY",
"securityTypeId": null,
"securityType": null,
"price": 150,
"status": "OPEN",
"isDeleted": 0,
"assetCategoryId": 1,
"assetClassId": 1,
"assetSubClassId": 1,
"assetCategory": "Fixed Income1",
"assetClass": null,
"assetSubClass": null,
"custodialCash": null,
"createdOn": null,
"editedOn": null,
"createdBy": "Prime TGI",
"editedBy": "Prime TGI"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get Security Detail

This API gets security detail.

**GET** `https://baseurl/v1/security/securities/:id`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/security/securities/1
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The Security Id. |
| name | String | Name of the Security in Eclipse. |
| symbol | String | Symbol of the Security in Eclipse. |
| securityTypeId | Number | SecurityType Id in Eclipse. |
| securityType | String | SecurityType Name in Eclipse. |
| price | Number | Latest Security price in Eclipse. |
| status | String | Security Status in Eclipse. |
| isDeleted | Number | Security exists in system or not in Eclipse. |
| assetCategoryId | Number | AssetCategoryId of Security in Eclipse. |
| assetClassId | Number | AssetClassId of Security in Eclipse. |
| assetSubClassId | Number | AssetSubClassId of Security in Eclipse. |
| assetCategory | String | AssetCategory Name of Security in Eclipse. |
| assetClass | String | AssetClass Name of Security in Eclipse. |
| assetSubClass | String | AssetSubClass Name of Security in Eclipse. |
| custodialCash | Number | Security is custodial cash or not. |
| createdOn | Date | Security creation Date. |
| createdBy | Number | Full Name of user who created the Security into the system. |
| editedOn | Date | Security edited date into the system. |
| editedBy | Number | Full Name of user who edited the Security into the system. |
| custodians | String[] | List of Custodians associated with Security. |

```http
HTTP/1.1 200 OK
{
"id": 8496,
"name": "Sysco Corporation",
"symbol": "SYY",
"status": "OPEN",
"price": 150,
"custodialCash": null,
"assetCategoryId": 1,
"assetClassId": 1,
"assetSubClassId": 2413,
"assetCategory": "Fixed Income",
"assetClass": "Municipal Bond",
"assetSubClass": "FND",
"securityTypeId": 1,
"securityType": "MUTUAL FUND",
"isDeleted": null,
"createdOn": null,
"createdBy": "Prime Prime",
"editedOn": "2016-07-21T23:41:40.000Z",
"editedBy": "Prime Prime",
"custodians": [
{
"id": 1,
"custodianName": "Circle Trust",
"custodianCode": "CTC",
"custodianSecuritySymbol": "IYC"
},
{
"id": 3,
"custodianName": "Fidelity",
"custodianCode": "FIBG",
"custodianSecuritySymbol": "FDI"
},
{
"id": 5,
"custodianName": "Fund Direct",
"custodianCode": "DIRECT",
"custodianSecuritySymbol": "DR"
}
]
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get Security Price

This API gets security price by security Id.

**GET** `https://baseurl/v1/security/securities/price/:id`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/security/securities/price/1
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| priceDate | Date | Security price change Date. |
| price | Number | Security price. |

```http
HTTP/1.1 200 OK
{
"priceDate": "2016-09-13T07:26:35.000Z",
"price": 401
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
HTTP/1.1 404 Not Found
{
"message": "Security not found"
}
```


## Search Buy Securities For Trades

This API gets security list

**GET** `https://baseurl/v1/security/securities?search={Name/symbol}&amp;excludeCashSecurity=true&amp;top=20`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/security/securities?search=k&excludeCashSecurity=true&top=20
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The Security Id. |
| name | String | Name of the Security in Eclipse. |
| symbol | String | Symbol of the Security in Eclipse. |
| securityTypeId | Number | SecurityType Id in Eclipse. |
| securityType | String | SecurityType Name in Eclipse. |
| price | Number | Latest Security price in Eclipse. |
| status | String | Security Status in Eclipse. |
| isDeleted | Number | Security exists in system or not in Eclipse. |
| assetCategoryId | Number | AssetCategoryId of Security in Eclipse. |
| assetClassId | Number | AssetClassId of Security in Eclipse. |
| assetSubClassId | Number | AssetSubClassId of Security in Eclipse. |
| assetCategory | String | AssetCategory Name of Security in Eclipse. |
| assetClass | String | AssetClass Name of Security in Eclipse. |
| assetSubClass | String | AssetSubClass Name of Security in Eclipse. |
| custodialCash | Number | Security is custodial cash or not. |
| createdOn | Date | Security creation Date. |
| createdBy | String | Full Name of user who created the Security into the system. |
| editedOn | Date | Security edited date into the system. |
| editedBy | String | Full Name of user who edited the Security into the system. |

```http
HTTP/1.1 200 OK
[
{
"id": 14632,
"orionConnectExternalId": 17594,
"name": "ProFunds Asia 30 Svc",
"symbol": "KYTY113",
"securityTypeId": 1,
"securityType": "MUTUAL FUND",
"price": 400,
"statusId": 6,
"status": "OPEN",
"isDeleted": 0,
"assetCategoryId": 2,
"assetCategory": "Asset Category 2",
"assetClassId": 2,
"assetClass": "Asset Class 2",
"assetSubClassId": 2414,
"assetSubClass": "Asset Sub Class 2414",
"custodialCash": null,
"createdOn": "2016-09-15T07:57:36.000Z",
"editedOn": "2016-09-15T07:57:38.000Z",
"createdBy": "prime@tgi.com",
"editedBy": "prime@tgi.com"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Search Securities from eclipse

This API gets security list

**GET** `https://baseurl/v1/security/securities?search={id/name/symbol}&amp;top=20`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/security/securities?search=8496&top=20
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The Security Id. |
| name | String | Name of the Security in Eclipse. |
| symbol | String | Symbol of the Security in Eclipse. |
| securityTypeId | Number | SecurityType Id in Eclipse. |
| securityType | String | SecurityType Name in Eclipse. |
| price | Number | Latest Security price in Eclipse. |
| status | String | Security Status in Eclipse. |
| isDeleted | Number | Security exists in system or not in Eclipse. |
| assetCategoryId | Number | AssetCategoryId of Security in Eclipse. |
| assetClassId | Number | AssetClassId of Security in Eclipse. |
| assetSubClassId | Number | AssetSubClassId of Security in Eclipse. |
| assetCategory | String | AssetCategory Name of Security in Eclipse. |
| assetClass | String | AssetClass Name of Security in Eclipse. |
| assetSubClass | String | AssetSubClass Name of Security in Eclipse. |
| custodialCash | Number | Security is custodial cash or not. |
| createdOn | Date | Security creation Date. |
| createdBy | Number | Full Name of user who created the Security into the system. |
| editedOn | Date | Security edited date into the system. |
| editedBy | Number | Full Name of user who edited the Security into the system. |

```http
HTTP/1.1 200 OK
[
{
"id": 8496,
"name": "Sysco Corporation",
"symbol": "SYY",
"securityTypeId": null,
"securityType": null,
"price": 150,
"status": "OPEN",
"isDeleted": 0,
"assetCategoryId": 1,
"assetClassId": null,
"assetSubClassId": 1,
"assetCategory": "Fixed Income1",
"assetClass": null,
"assetSubClass": null,
"custodialCash": null,
"createdOn": null,
"editedOn": null,
"createdBy": "Prime TGI",
"editedBy": "Prime TGI"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Search securities from Orion

This API gets security from Orion.

**GET** `https://baseurl/v1/security/securities/orion?search={id/name}&amp;top=20`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/security/securities/orion?search=APPL&top=20
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | Security Id. |
| name | String | Security Name. |
| securityTypeId | Number | Security Type Id |
| ticker | String | Security ticker |

```http
HTTP/1.1 200 OK
[
{
"id": 1959,
"name": "Amazon.com Inc",
"ticker": "AMZN",
"securityTypeId": 4
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Search Securities Which are not lie in selected Portfolio

This API gets security list which are not lie in selected portfolio.

**GET** `https://baseurl/v1/v1/security/securities?excludePortfolioIds={portfolioId}&amp;top=20`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/security/securities?excludePortfolioIds=1&search=a&top=20
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The Security Id. |
| name | String | Name of the Security in Eclipse. |
| symbol | String | Symbol. |
| tradeOrderPrice | Number | Price of the security. |

```http
HTTP/1.1 200 OK
[
{
"id": 3,
"name": "Apache Corp",
"symbol": "APA",
"tradeOrderPrice": 57.78
},
{
"id": 4,
"name": "Call GLD 1-18-14 @ 155",
"symbol": "GLD Jan 18 2014 155.0 Call",
"tradeOrderPrice": 17.75
}]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Search Sell Securities For Trades

This API gets security list

**GET** `https://baseurl/v1/security/securities?search={Name/symbol}&amp;portfolioIds={:id}&amp;accountIds={:id}&amp;modelIds={:id}&amp;tradeGroupIds={:id}`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/security/securities?search=k&portfolioIds=&accountIds=1&modelIds=1&tradeGroupIds=6
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The Security Id. |
| name | String | Name of the Security in Eclipse. |
| symbol | String | Symbol of the Security in Eclipse. |
| securityTypeId | Number | SecurityType Id in Eclipse. |
| securityType | String | SecurityType Name in Eclipse. |
| price | Number | Latest Security price in Eclipse. |
| status | String | Security Status in Eclipse. |
| isDeleted | Number | Security exists in system or not in Eclipse. |
| assetCategoryId | Number | AssetCategoryId of Security in Eclipse. |
| assetClassId | Number | AssetClassId of Security in Eclipse. |
| assetSubClassId | Number | AssetSubClassId of Security in Eclipse. |
| assetCategory | String | AssetCategory Name of Security in Eclipse. |
| assetClass | String | AssetClass Name of Security in Eclipse. |
| assetSubClass | String | AssetSubClass Name of Security in Eclipse. |
| custodialCash | Number | Security is custodial cash or not. |
| createdOn | Date | Security creation Date. |
| createdBy | String | Full Name of user who created the Security into the system. |
| editedOn | Date | Security edited date into the system. |
| editedBy | String | Full Name of user who edited the Security into the system. |

```http
HTTP/1.1 200 OK
[
{
"id": 14632,
"orionConnectExternalId": 17594,
"name": "ProFunds Asia 30 Svc",
"symbol": "KYTY113",
"securityTypeId": 1,
"securityType": "MUTUAL FUND",
"price": 400,
"statusId": 6,
"status": "OPEN",
"isDeleted": 0,
"assetCategoryId": 2,
"assetCategory": "Asset Category 2",
"assetClassId": 2,
"assetClass": "Asset Class 2",
"assetSubClassId": 2414,
"assetSubClass": "Asset Sub Class 2414",
"custodialCash": null,
"createdOn": "2016-09-15T07:57:36.000Z",
"editedOn": "2016-09-15T07:57:38.000Z",
"createdBy": "prime@tgi.com",
"editedBy": "prime@tgi.com"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Update Detailed Security

This API Updates Security.

**PUT** `https://baseurl/v1/security/securities/:id`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/security/securities/1
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| symbol | String | Symbol of the Security in Eclipse. |
| securityTypeId | Number | SecurityType Id in Eclipse. |
| price | Number | Latest Security price in Eclipse. |
| status | String | Security Status in Eclipse. |
| assetCategoryId | Number | AssetCategoryId of Security in Eclipse. |
| assetClassId | Number | AssetClassId of Security in Eclipse. |
| assetSubClassId | Number | AssetSubClassId of Security in Eclipse. |
| custodialCash | Number | Security is custodial cash or not. |
| custodians | custodian[] | List of Custodians associated with Security. |

```json
{
"price": 400,
"status": "OPEN",
"symbol": "KYT",
"securityTypeId": 1,
"assetCategoryId": 1,
"assetClassId": 2,
"assetSubClassId": 1,
"custodialCash": 0,
"custodians": [
{
"id": 1,
"custodianSecuritySymbol": "IYC"
}
]
}
```

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The Security Id. |
| name | String | Name of the Security in Eclipse. |
| symbol | String | Symbol of the Security in Eclipse. |
| securityTypeId | Number | SecurityType Id in Eclipse. |
| securityType | String | SecurityType Name in Eclipse. |
| price | Number | Latest Security price in Eclipse. |
| status | Number | Security Status in Eclipse. |
| isDeleted | Number | Security exists in system or not in Eclipse. |
| assetCategoryId | Number | AssetCategoryId of Security in Eclipse. |
| assetClassId | Number | AssetClassId of Security in Eclipse. |
| assetSubClassId | Number | AssetSubClassId of Security in Eclipse. |
| assetCategory | String | AssetCategory Name of Security in Eclipse. |
| assetClass | String | AssetClass Name of Security in Eclipse. |
| assetSubClass | String | AssetSubClass Name of Security in Eclipse. |
| custodialCash | Number | Security is custodial cash or not. |
| createdOn | Date | Security creation Date. |
| createdBy | Number | Full Name of user who created the Security into the system. |
| editedOn | Date | Security edited date into the system. |
| editedBy | Number | Full Name of user who edited the Security into the system. |
| custodians | String[] | List of Custodians associated with Security. |

```http
HTTP/1.1 201 OK
{
"id": 8496,
"name": "Sysco Corporation",
"symbol": "SYY",
"status": "OPEN",
"price": 150,
"custodialCash": null,
"assetCategoryId": 1,
"assetClassId": 1,
"assetSubClassId": 2413,
"assetCategory": "Fixed Income",
"assetClass": "Municipal Bond",
"assetSubClass": "FND",
"securityTypeId": 1,
"securityType": "MUTUAL FUND",
"isDeleted": null,
"createdOn": null,
"createdBy": "Prime Prime",
"editedOn": "2016-07-21T23:41:40.000Z",
"editedBy": "Prime Prime",
"custodians": [
{
"id": 1,
"custodianName": "Circle Trust",
"custodianCode": "CTC",
"custodianSecuritySymbol": "IYC"
},
{
"id": 3,
"custodianName": "Fidelity",
"custodianCode": "FIBG",
"custodianSecuritySymbol": "FDI"
},
{
"id": 5,
"custodianName": "Fund Direct",
"custodianCode": "DIRECT",
"custodianSecuritySymbol": "DR"
}
]
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |
| Bad_Request | When missing required parameters. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```

```http
HTTP/1.1 400 Bad_Request
{
"message": "Missing required parameters"
}
```


## Update Security in list

This API Updates Security.

**PUT** `https://baseurl/v1/security/securities/:id?list=true`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/security/securities/1
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| symbol | String | Symbol of the Security in Eclipse. |
| price | Number | Latest Security price in Eclipse. |
| status | String | Security Status in Eclipse. |
| assetCategoryId | Number | AssetCategoryId of Security in Eclipse. |
| assetClassId | Number | AssetClassId of Security in Eclipse. |
| assetSubClassId | Number | AssetSubClassId of Security in Eclipse. |
| custodialCash | Number | Security is custodial cash or not. |

```json
{
"price": 400,
"status": "OPEN",
"symbol": "KYT",
"securityTypeId": 1,
"assetCategoryId": 1,
"assetClassId": 2,
"assetSubClassId": 1,
"custodialCash": 0
}
```

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The Security Id. |
| name | String | Name of the Security in Eclipse. |
| symbol | String | Symbol of the Security in Eclipse. |
| securityTypeId | Number | SecurityType Id in Eclipse. |
| securityType | String | SecurityType Name in Eclipse. |
| price | Number | Latest Security price in Eclipse. |
| status | String | Security Status in Eclipse. |
| isDeleted | Number | Security exists in system or not in Eclipse. |
| assetCategoryId | Number | AssetCategoryId of Security in Eclipse. |
| assetClassId | Number | AssetClassId of Security in Eclipse. |
| assetSubClassId | Number | AssetSubClassId of Security in Eclipse. |
| assetCategory | String | AssetCategory Name of Security in Eclipse. |
| assetClass | String | AssetClass Name of Security in Eclipse. |
| assetSubClass | String | AssetSubClass Name of Security in Eclipse. |
| custodialCash | Number | Security is custodial cash or not. |
| createdOn | Date | Security creation Date. |
| createdBy | Number | Full Name of user who created the Security into the system. |
| editedOn | Date | Security edited date into the system. |
| editedBy | Number | Full Name of user who edited the Security into the system. |
| custodians | String[] | List of Custodians associated with Security. |

```http
HTTP/1.1 201 OK
{
"id": 8496,
"name": "Sysco Corporation",
"symbol": "SYY",
"status": "OPEN",
"price": 150,
"custodialCash": null,
"assetCategoryId": 1,
"assetClassId": 1,
"assetSubClassId": 2413,
"assetCategory": "Fixed Income",
"assetClass": "Municipal Bond",
"assetSubClass": "FND",
"securityTypeId": 1,
"securityType": "MUTUAL FUND",
"isDeleted": null,
"createdOn": null,
"createdBy": "Prime Prime",
"editedOn": "2016-07-21T23:41:40.000Z",
"editedBy": "Prime Prime",
"custodians": [
{
"id": 1,
"custodianName": "Circle Trust",
"custodianCode": "CTC",
"custodianSecuritySymbol": "IYC"
},
{
"id": 3,
"custodianName": "Fidelity",
"custodianCode": "FIBG",
"custodianSecuritySymbol": "FDI"
},
{
"id": 5,
"custodianName": "Fund Direct",
"custodianCode": "DIRECT",
"custodianSecuritySymbol": "DR"
}
]
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |
| Bad_Request | When missing required parameters. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```

```http
HTTP/1.1 400 Bad_Request
{
"message": "Missing required parameters"
}
```


## Update Security MaintainInEclipse field

This API gets security status list.

**GET** `https://baseurl/v1/security/securities/maintain/:location`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/security/securities/maintain/orion
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

```http
HTTP/1.1 200 OK
[
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


---

# Account


## Add aside

This api will be used to add aside.

**POST** `https://baseurl/v1/account/accounts/:id/asidecash`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/account/accounts/1/asidecash
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| cashAmountTypeId | Number | The aside cashAmountTypeId. |
| cashAmount | Number | The aside cashAmount. |
| expirationTypeId | Number | The aside expirationTypeId. |
| expirationValue | String | The aside expirationValue. |
| toleranceValue | Number | The aside toleranceValue. |
| description | String | The aside description. |

```json
{
"cashAmountTypeId": 1,
"cashAmount": 900,
"expirationTypeId": 1,
"expirationValue": "02/22/2015",
"toleranceValue": 87,
"description": "Aside Cash"
}
```

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The Aside Id. |
| accountId | String | The account Id. |
| description | String | The aside description. |
| cashAmountTypeId | Number | Aside cashAmountTypeId |
| cashAmount | Number | Aside cashAmount |
| expirationTypeId | Number | Aside expirationTypeId |
| expirationValue | String | Aside Date or TransactionTypeName |
| toleranceValue | String | Aside toleranceValue |
| isExpired | Boolean | Aside isExpired |
| createdOn | Date | Aside creation date into application. |
| createdBy | String | Id of user who created the Aside into the system. |
| editedOn | Date | Aside edited date into application. |
| editedBy | String | Id of user who edited the Aside details into the system. |

```http
HTTP/1.1 201 OK
{
"id": 41,
"accountId": 1,
"description": "null",
"cashAmountTypeId": 1,
"cashAmount": 1900,
"expirationTypeId": 1,
"expirationValue": "2016-11-02T11:18:35.000Z",
"toleranceValue": null,
"isExpired": false,
"isDeleted": 0,
"createdOn": "2016-11-02T11:18:35.000Z",
"createdBy": "prime@tgi.com",
"editedOn": "2016-10-25T05:29:24.000Z",
"editedBy": "prime@tgi.com"
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Add SMA Node Detail

This api will be used to add sma node.

**PUT** `https://baseurl/v1/account/accounts/{:id}/sma/`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/account/accounts/1/sma
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| selectedLevelId | Number | Selected Level Id. |
| weightings | JSON | Weightings Info. |
| id | Number | System Generated Id. |
| subModelId | Number | Sub Model Id. |
| weightPercent | Number | Weight Percent. |
| modelId | Number | Model Id associated with accountId |
| modelDetailId | Number | Model Detail Id. |

```json
{
"selectedLevelId": 2,
"weightings": [
{
"id": 28,
"subModelId": 7,
"weightPercent": 30,
"modelId": 1,
"modelDetailId": 30
},
{
"id": 29,
"subModelId": 8,
"weightPercent": 10,
"modelId": 1,
"modelDetailId": 30
}
]
}
```

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| selectedLevelId | Number | Selected Level Id. |
| weightings | JSON | Weightings Info. |
| id | Number | System Generated Id. |
| subModelId | Number | Sub ModelId. |
| subModelName | String | Sub Model Name. |
| weightPercent | Number | Weight Percent detail. |
| modelId | Number | Model Id associated with accountId |
| modelDetailId | Number | Model Detail Id. |
| isDeleted | Boolean | SMA exist or not into the system. |
| createdOn | Date | SMA creation date into application. |
| createdBy | String | Id of user who created the SMA into the system. |
| editedOn | Date | SMA edited date into application. |
| editedBy | String | Id of user who edited the SMA details into the system. |

```http
HTTP/1.1 200 OK
{
"selectedLevelId": 2,
"weightings": [
{
"id": 28,
"subModelId": 7,
"subModelName": "CLS1",
"weightPercent": 30,
"modelId": 1,
"modelDetailId": 30,
"isDeleted": 0,
"createdOn": "2016-12-20T18:17:37.000Z",
"createdBy": "prime@tgi.com",
"editedOn": "2016-12-20T18:17:37.000Z",
"editedBy": "prime@tgi.com"
},
{
"id": 29,
"subModelId": 8,
"subModelName": "CLS1",
"weightPercent": 10,
"modelId": 1,
"modelDetailId": 30,
"isDeleted": 0,
"createdOn": "2016-12-20T18:17:37.000Z",
"createdBy": "prime@tgi.com",
"editedOn": "2016-12-20T18:17:37.000Z",
"editedBy": "prime@tgi.com"
}
]
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Delete aside

This api will be used to delete aside.

**DELETE** `https://baseurl/v1/account/accounts/:id/asidecash/:asidecashId`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/account/accounts/1/asidecash/32?isTacticalTradeTool=true
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| message | String | Success message. |

```http
HTTP/1.1 200 OK
{
"message": "Set aside cash deleted successfully"
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get &amp; Search Account With Holding Value

This api will be used to search of account according to id and accountName

**GET** `https://baseurl/v1/account/accounts/simple?includevalue=true&amp;search={id/accountName}`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/account/accounts/simple?includevalue=true
curl -i http://baseurl/v1/account/accounts/simple?includevalue=true&search=1
curl -i http://baseurl/v1/account/accounts/simple?includevalue=true&inModel=true&search=1
curl -i http://baseurl/v1/account/accounts/simple?includevalue=true&search=87078&excludeDoNotTrade=true
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | System Generated Id. |
| name | String | Account Name. |
| accountNumber | String | Account Number. |
| accountType | String | Account Type. |
| isSleeve | Boolean | isSleeve flag. |
| value | Number | Holding value associated with this accountId |
| portfolioId | Number | Portfolio Id. |
| portfolioName | String | Portfolio Name. |
| modelId | Number | Model Id. |
| accountId | Number | Account Id. |
| isDeleted | Boolean | Account exist or not into the system. |
| createdOn | Date | Account creation date into application. |
| createdBy | String | Id of user who created the Account into the system. |
| editedOn | Date | Account edited date into application. |
| editedBy | String | Id of user who edited the Account details into the system. |

```http
HTTP/1.1 200 OK
[
{
"id": 87078,
"name": "Arnold Peggy",
"accountNumber": "L0CC-ELPMAS",
"accountType": "IND",
"isSleeve": false,
"value": 726363.1,
"portfolioId": 11217278,
"portfolioName": "audit pf",
"modelId": 41,
"accountId": "477_417",
"isDeleted": 0,
"createdOn": "2017-01-10T16:14:47.000Z",
"createdBy": "Test@gmail.com",
"editedOn": "2017-03-23T13:55:49.000Z",
"editedBy": "primetgi@orion.com"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get Account Count for Portfolios

This endpoint will return a count for accounts associated with a portfolio

**GET** `https://baseurl/v1/account/accounts/portfolioAccountCount`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/account/accounts/portfolioAccountCount
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | number | The id from the account table (account.id) |
| portfolioId | number | Portfolio id |
| portfolioName | String | Portfolio Name |
| isSleevePortfolio | number | Either a 1 for a portfolio that is sleeve, or a 0 if it's not |
| AccountsInPortfolio | number | Number of accounts in the portfolio |

```http
HTTP/1.1 200 OK
{
"id": 998,
"portfolioId": 490,
"portfolioName": "REBALTEST668",
"isSleevePortfolio": 0,
"count": 1
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get Account dashboard

This API is used to get account dashboard.

**GET** `https://baseurl/v1/dashboard/account/summary`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/dashboard/account/summary
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| dateTime | Date | Dashboard detail as on Date. |
| value | JSON | Total AUM summary. |
| -total | Number | Total value. |
| -changeValueAmount | Number | Change in Value Amount. |
| -changeValuePercent | Number | Change in percentage. |
| -status | String | status symbol |
| accounts | JSON | Accounts Summary. |
| --total | Number | Total account. |
| -existing | Number | Existing accounts. |
| -new | Number | New accounts. |
| issues | JSON | Issue summary. |
| ---total | Number | Total no. of issue. |
| -errors | Number | Total No .of errors in portfolios. |
| -warnings | Number | Total No. of warning. |
| bars | JSON | Progress bar summary |
| -systematic | Number | Systematic Bar detail. |
| -accountWithMergeIn | Number | Account With Merge In Detail. |
| -accountWithMergeOut | Number | Account With Merge Out Detail. |
| -newAccount | Number | New Account detail. |
| -accountWithNoPortfolio | Number | Account With No Portfolio detail. |
| -toDo | Number | To do Detail. |
| -sma | Number | Single manage account detail. |
| -accountWithDataError | Number | Account With Data Error. |
| -accountWithPedingTrades | Number | Account With Pending Trades detail. |

```http
HTTP/1.1 200 OK
{
"dateTime": "2016-10-24T03:30:00.000Z",
"value": {
"total": 20190,
"changeValueAmount": 20190,
"changeValuePercent": 0,
"status": "High"
},
"accounts": {
"total": 22,
"existing": 22,
"new": 0
},
"issues": {
"total": 7,
"errors": 1,
"warnings": 6
},
"bars": {
"systematic": 1,
"accountWithMergeIn": 200,
"accountWithMergeOut": 300,
"newAccount": 1,
"accountWithNoPortfolio": 7,
"toDo": 1,
"sma": 17,
"accountWithDataError": 1,
"accountWithPedingTrades": 0
}
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get account details by Ids

This api will be used to Get account details by Ids

**POST** `https://baseurl/v1/account/accounts/simple/list`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/account/accounts/simple/list
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| ids | Array | Account Ids |

```json
{
"ids": [
147800,
1477,
277
]
}
```

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | System Generated Id. |
| name | String | Account Name. |
| accountNumber | String | Account Number. |
| accountType | String | Account Type. |
| isSleeve | Boolean | isSleeve flag. |
| value | Number | Holding value associated with this accountId |
| portfolioId | Number | Portfolio Id. |
| portfolioName | String | Portfolio Name. |
| modelId | Number | Model Id. |
| accountId | Number | Account Id. |
| isDeleted | Boolean | Account exist or not into the system. |
| createdOn | Date | Account creation date into application. |
| createdBy | String | Id of user who created the Account into the system. |
| editedOn | Date | Account edited date into application. |
| editedBy | String | Id of user who edited the Account details into the system. |

```http
HTTP/1.1 200 OK
[
{
"id": 392,
"name": "Sleeves Howard",
"accountNumber": "627-Samp1_Federated",
"accountType": "TOD",
"isSleeve": false,
"value": 40191.18,
"portfolioId": 799,
"portfolioName": "Casady, Mark",
"modelId": 9,
"accountId": "1465",
"isDeleted": 0,
"createdOn": "2017-03-31T04:18:59.000Z",
"createdBy": "Test@gmail.com",
"editedOn": "2017-07-07T08:33:44.000Z",
"editedBy": "primetgi"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get Account Details

This api will be used to get particular account detail.

**GET** `https://baseurl/v1/account/accounts/:id`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/account/accounts/1
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | System Generated Id. |
| name | String | Account Name. |
| accountNumber | String | Account Number. |
| accountId | String | Account Id. |
| billingAccount | String | Billing Account detail. |
| portfolio | String | Portfolio Name. |
| custodian | String | Custodian Name. |
| sleeveType | String | Sleeve Type detail. |
| advisor | String | Adviser Name. |
| washSaleGroup | String | Wash Sale Group Value. |
| style | String | Name of the style. |
| model | String | Model Name associated on Account. |
| registrationId | Number | Registration Id. |
| sleeveContributionPercent | Number | Sleeve Contribution Percentage. |
| sleeveDistributionPercent | Number | Sleeve Distribution Percentage. |
| sleeveTarget | Number | Sleeve Target. |
| sleeveToleranceLower | Number | Sleeve Tolerance Lower. |
| sleeveToleranceUpper | Number | Sleeve Tolerance Upper. |
| smaTradeable | String | Sma Tradeable. |
| sleeveCurrent | Number | Sleeve Current. |
| summarySection | JSON | Summary Section. |
| -grandTotal | Number | Grand Total. |
| -totalValue | Number | Total Value. |
| -managedValue | Number | Managed Value. |
| -excludedValue | Number | Excluded Value. |
| -totalCashValue | Number | Total Cash Value |
| -cashReserve | Number | Cash Reserve. |
| -cashAvailable | Number | Cash Available. |
| -setAsideCash | Number | Set Aside Cash. |
| -pendingCashValue | Number | Pending Cash. |
| ytdGl | JSON | YTD Gain-Loss Summary. |
| -totalGainLoss | Number | Total Gain-Loss Value. |
| -totalGainLossStatus | String | High or low as compare previous day value. |
| -shortTermGL | Number | Short Term Gain-Loss Value. |
| -shortTermGLStatus | String | High or low as compare previous day value. |
| -longTermGL | Number | Long Term Gain-Loss Value. |
| -longTermGLStatus | String | High or low as compare previous day value. |
| accountValue | JSON | Account Value Summary. |
| -totalValueOn | Date | Date. |
| ---totalValue | Number | Total value as on date. |
| -status | String | High or low as compare previous day value. |
| holdings | JSON | Holding Summary. |
| securityName | String | Name of security. |
| marketValue | Number | Market Value of security. |
| units | Number | Security units. |
| price | Number | Security price. |
| percentage | Number | Security percentage detail. |
| errorAndWarnings | JSON | errorAndWarnings summary. |
| -systematic | String | Systematic bar detail. |
| -mergeIn | Number | Account mergeIn detail. |
| -mergeOut | Number | Account mergeOut detail. |
| -newAccount | Number | This is a new account or not. |
| -hasPortfolios | String | This account has Portfolios or not. |
| -custodialRestrictions | String | Custodial Restrictions. |
| -sma | String | Single manage account detail. |
| -importError | Number | Import Error detail. |
| -hasPendingTrades | String | Pending Trades detail. |
| -instructions | String | Instructions |
| createdOn | Date | Account import date into application. |
| createdBy | String | Id of user who created the Account into the system. |
| editedOn | Date | Account edited date into application. |
| editedBy | String | Id of user who edited the Account details into the system. |
| restrictedPlan | Object | Selected Restricted Plan Details. |

```http
HTTP/1.1 200 OK
{
"id": 87032,
"accountNumber": "L5C2-ELPMAS",
"accountType": "ROTH",
"accountId": "477_368",
"name": "Brett George",
"billingAccount": "Yes",
"portfolio": "test pf1",
"custodian": "TD Ameritrade",
"sleeveType": "None",
"advisior": "200",
"washSaleGroup": "xxxxxxx6789",
"model": "Aggressive 80/20",
"style": "Aggressive",
"registrationId": null,
"sleeveContributionPercent": 0,
"sleeveDistributionPercent": 0,
"sleeveTarget": 0,
"sleeveToleranceLower": 0,
"sleeveToleranceUpper": 0,
"smaTradeable": "0",
"sleeveCureent": 1,
"orionConnectExternalId": 368,
"isDisabled": 0,
"isSleeve": 0,
"instructions": null,
"tradingInstruction":null
"summarySection": {
"grandTotal": 137171.5,
"totalValue": 129452.77,
"managedValue": 129452.77,
"excludedValue": 0,
"totalCashValue": 7718.73,
"cashReserve": 120,
"cashAvailable": 7487.73,
"setAsideCash": 111,
"pendingCashValue" : 7487.73
},
"ytdGl": {
"totalGainLoss": -21285.57,
"shortTermGL": 0,
"longTermGL": -21285.57,
"shortTermGLStatus": "No",
"longTermGLStatus": "Low",
"totalGainLossStatus": "Low"
},
"accountValue": {
"totalValueOn": "2017-04-20T07:15:48.000Z",
"totalValue": 129452.77,
"status": "No Change",
"holdings": [
{
"securityName": "Custodial Cash",
"marketValue": 7863.73,
"unit": 7863.73,
"price": 1,
"percentage": 6.07,
"securitySymbol": "CUSTODIAL_CASH"
},
{
"securityName": "DFA Real Estate Secs",
"marketValue": 2036.7,
"unit": 60.634,
"price": 33.59,
"percentage": 1.57,
"securitySymbol": "DFREX"
}
]
},
"errorAndWarnings": {
"systematic": "No",
"mergeIn": 0,
"mergeOut": 0,
"newAccount": "No",
"hasPortfolios": "Yes",
"custodialRestrictions": "No",
"sma": "No",
"importError": "No",
"hasPendingTrades": "Yes"
},
"createdOn": "2017-01-10T10:44:47.000Z",
"createdBy": "primetgi@orion.com",
"editedOn": "2017-04-18T01:44:26.000Z",
"editedBy": "primetgi@orion.com",
"restrictedPlan":{
id:1,
name:'Test Restricted Plan'
}
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get Account List by Filter Id

This api will be used to get all account list by filter Id.

**GET** `https://baseurl/v1/account/accounts?filterId={filterId}`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/account/accounts?filterId=1
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | System Generated Id. |
| name | String | Account Name. |
| accountNumber | String | Account Number. |
| accountId | String | Account Id. |
| accountType | String | Account Type. |
| portfolio | String | Portfolio Name. |
| custodian | String | Custodian Name. |
| value | Number | Total value. |
| managedValue | Number | Total Managed Value. |
| excludedValue | Number | Total Excluded Value. |
| pendingValue | Number | Total Pending Value. |
| washSaleGroup | String | Wash Sale Group Value. |
| style | String | Name of the style. |
| model | String | Model Name associated on Account. |
| sleeveType | String | Sleeve Type detail. |
| distributionAmount | Number | Distribution Amount. |
| contributionAmount | Number | Contribution Amount. |
| mergeIn | Number | Account in mergeIn detail. |
| mergeOut | Number | Account in mergeOut detail. |
| cashNeedAmount | Number | Cash need amount detail. |
| systematicAmount | Number | Systematic amount detail. |
| systematicDate | Date | Systematic Date. |
| sma | String | Single manage account detail. |
| status | String | Status. |
| reason | String | Reason. |
| pendingTrades | String | Pending trades detail. |
| eclipseCreatedDate | Date | Eclipse created date. |
| reserveCashActual | Number | Reserve cash Actual. |
| reserveCashTarget | Number | Reserve cash Target. |
| setAsideCashTarget | Number | SetAside cash Target. |
| setAsideCashActual | Number | SetAside cash Actual. |
| targetCash | Number | Target cash detail. |
| targetCashPercent | Number | Target cash percent. |
| currentCash | Number | Current cash. |
| currentCashPercent | Number | Current cash percent. |
| pendingCashValue | Number | Pending cash value. |
| pendingCashPercent | Number | Pending cash percent. |
| cashNeedPercent | Number | Cash need percent. |
| pendingValuePercent | Number | Pending value percent. |
| createdOn | Date | Account creation date into application. |
| createdBy | String | Id of user who created the Account into the system. |
| editedOn | Date | Account edited date into application. |
| editedBy | String | Id of user who edited the Account details into the system. |
| restrictedPlan | String | Name of the restricted plan assigned to the account. |

```http
HTTP/1.1 200 OK
[
{
"id": 68,
"accountNumber": "L024-ELPMAS",
"accountType": "IRA",
"accountId": "477_377",
"name": "Van Dyke Dick",
"portfolio": "Van Dyke, Dick and Arlene",
"custodian": "TD Ameritrade",
"value": 131421.77,
"managedValue": 127444.41,
"excludedValue": 3977.36,
"pendingValue": 127444.41,
"washSaleGroup": "xxxxxxx0008",
"style": "Neutral",
"model": "Model 55",
"sleeveType": "None",
"distributionAmount": 0,
"contributionAmount": 0,
"mergeIn": 0,
"mergeOut": 0,
"cashNeedAmount": 11141.3,
"systematicAmount": 0,
"systematicDate": null,
"sma": "No",
"status": "Warning",
"reason": "New Account",
"pendingTrades": "Yes",
"eclipseCreatedDate": null,
"reserveCashActual": 0,
"reserveCashTarget": 0,
"setAsideCashTarget": 0,
"setAsideCashActual": 0,
"targetCash": 0,
"targetCashPercent": 0,
"currentCash": 0,
"currentCashPercent": 0,
"pendingCashValue": 0,
"pendingCashPercent": 0,
"cashNeedPercent": 0,
"pendingValuePercent": 0,
"createdOn": "2017-02-02T10:56:45.000Z",
"createdBy": null,
"editedOn": "2017-02-14T02:37:43.000Z",
"editedBy": null,
"restrictedPlan":"Test Restricted Plan"
}]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get Account List with NO Portfolio

This api will be used to get account list with no portfolio.

**GET** `https://baseurl/v1/account/accounts/noPortfolio`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/account/accounts/noPortfolio
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | System Genarated Id. |
| name | String | Account Name. |
| accountNumber | String | Account Numder. |
| accountType | String | Account type detail. |
| isDeleted | Boolean | Account exist or not into the system. |
| createdOn | Date | Account creation date into application. |
| createdBy | String | Id of user who created the Account into the system. |
| editedOn | Date | Account edited date into application. |
| editedBy | String | Id of user who edited the Account details into the system. |

```http
HTTP/1.1 200 OK
[
{
"id": 11,
"name": "Akin Bernard Edwards",
"accountNumber": "L06C600669",
"accountType": "IND",
"isDeleted": 0,
"createdBy": "prime@tgi.com",
"editedBy": "prime@tgi.com",
"createdOn": "2016-07-14 09:00:00",
"editedOn": "2016-07-14 09:00:00"
},
{
"id": 12,
"name": "Annadale Beverly J.",
"accountNumber": "L05CD79669",
"accountType": "IND",
"isDeleted": 0,
"createdBy": "prime@tgi.com",
"editedBy": "prime@tgi.com",
"createdOn": "2016-07-14 09:00:00",
"editedOn": "2016-07-14 09:00:00"
}]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get account model Type

This api will be used to get account model Type.

**GET** `https://baseurl/v1/account/accounts/:id/model/modelTypes`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/account/accounts/1/model/modelTypes
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | Model level Id. |
| name | String | Model level name. |

```http
HTTP/1.1 200 OK
[
{
"id": 1,
"name": "Category"
},
{
"id": 2,
"name": "Class"
},
{
"id": 3,
"name": "Sub Class"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get account Set Aside Percent Calculation Type

This api will be used to get account Set Aside Percent Calculation Type.

**GET** `https://baseurl/v1/account/accounts/accountSetAsidePercentCalculationType`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/account/accounts/accountSetAsidePercentCalculationType
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | PercentCalculationType Id. |
| name | String | PercentCalculationType name. |

```http
HTTP/1.1 200 OK
[
{
"id": 1,
"name": "totalValue"
},
{
"id": 2,
"name": "excludedValue"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get Accounts Filters List

This api will be used to get all account filter list.

**GET** `https://baseurl/v1/account/accounts/accountfilters`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/account/accounts/accountfilters
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | System Genarated Id. |
| name | String | Account Filter Name. |

```http
HTTP/1.1 200 OK
[
{
"id": 1,
"name": "Accounts set to Systematic"
},
{
"id": 2,
"name": "Accounts with Merge In"
}]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get All Accounts (Simple)

This api will be used to get all account list.

**GET** `https://baseurl/v1/account/accounts/simple`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/account/accounts/simple
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | System Generated Id. |
| name | String | Account Name. |
| accountId | String | Account Id. |
| accountNumber | String | Account Number. |
| accountType | String | Account type detail. |
| isDeleted | Boolean | Account exist or not into the system. |
| createdOn | Date | Account creation date into application. |
| createdBy | String | Id of user who created the Account into the system. |
| editedOn | Date | Account edited date into application. |
| editedBy | String | Id of user who edited the Account details into the system. |

```http
HTTP/1.1 200 OK
[{
"id": 4,
"name": "Test Account",
"accountId": "1020_46",
"accountNumber": "123654",
"accountType": "IND",
"isDeleted": 0,
"createdOn": "2016-08-11T06:32:32.000Z",
"createdBy": "test@gmail.com",,
"editedOn":"2016-08-11T07:24:15.000Z",
"editedBy":"test1@gmail.com",
}]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get All Accounts By Type (Simple)

This api will be used to get all account list by account type.

**GET** `https://baseurl/v1/account/accounts/simpleList/type/:accountType`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/account/accounts/simpleList/type/:accountType
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | System Generated Id. |
| name | String | Account Name. |
| accountId | String | Account Id. |
| accountNumber | String | Account Number. |
| accountType | String | Account type detail. |
| isDeleted | Boolean | Account exist or not into the system. |
| createdOn | Date | Account creation date into application. |
| createdBy | String | Id of user who created the Account into the system. |
| editedOn | Date | Account edited date into application. |
| editedBy | String | Id of user who edited the Account details into the system. |

```http
HTTP/1.1 200 OK
[{
"id": 4,
"name": "Test Account",
"accountId": "1020_46",
"accountNumber": "123654",
"accountType": "IND",
"isDeleted": 0,
"createdOn": "2016-08-11T06:32:32.000Z",
"createdBy": "test@gmail.com",,
"editedOn":"2016-08-11T07:24:15.000Z",
"editedBy":"test1@gmail.com",
}]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get all aside list

This api will be used to get aside all aside list.

**GET** `https://baseurl/v1/account/accounts/:id/asidecash`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/account/accounts/1/asidecash
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The Aside Id. |
| description | String | The aside description. |
| cashAmountTypeId | Number | Aside cashAmountTypeId |
| cashAmountTypeName | String | Aside cashAmountTypeName |
| cashAmount | Number | Aside cashAmount |
| expirationTypeId | Number | Aside expirationTypeId |
| expirationTypeName | String | Aside expirationTypeName |
| expirationValue | String | Aside Date or TransactionTypeName |
| toleranceValue | Number | Aside toleranceValue |
| expiredOn | Date | Aside expiredOn |
| isExpired | Boolean | Aside isExpired |
| isDeleted | Boolean | Aside exist or not into the system. |
| createdOn | Date | Aside creation date into application. |
| createdBy | String | Id of user who created the Aside into the system. |
| editedOn | Date | Aside edited date into application. |
| editedBy | String | Id of user who edited the Aside details into the system. |

```http
HTTP/1.1 200 OK
[
{
"id": 1,
"description": null,
"cashAmountTypeId": 1,
"cashAmountTypeName": "Dollar",
"cashAmount": 900,
"expirationTypeId": 1,
"expirationTypeName": "Date",
"expirationValue": null,
"toleranceValue": 86,
"expiredOn": "2016-11-02T07:21:51.000Z",
"isExpired": true,
"isDeleted": 0,
"createdOn": "2016-10-24T10:15:13.000Z",
"createdBy": "prime@tgi.com",
"editedOn": "2016-10-25T05:29:24.000Z",
"editedBy": "prime@tgi.com"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get aside Cash Amount Type

This api will be used to get aside cash amount type.

**GET** `https://baseurl/v1/account/accounts/asideCashAmountType`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/account/accounts/asideCashAmountType
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | String | The asideCashAmountType Id. |
| name | String | Aside Cash Amount Type name |

```http
HTTP/1.1 200 OK
[
{
"id": 1,
"name": "$"
},
{
"id": 2,
"name": "%"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get aside Cash Expiration Type

This api will be used to get aside cash expiration type.

**GET** `https://baseurl/v1/account/accounts/asideCashExpirationType`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/account/accounts/asideCashExpirationType
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | String | The asideCashExpirationType Id. |
| name | String | Aside Cash Expiration Type name |

```http
HTTP/1.1 200 OK
[
{
"id": 1,
"name": "Date"
},
{
"id": 2,
"name": "Transaction"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get aside Cash Transaction Type

This api will be used to get aside cash expiration type.

**GET** `https://baseurl/v1/account/accounts/asideCashTransactionType`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/account/accounts/asideCashTransactionType
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | String | The asideCashTransactionType Id. |
| name | String | Aside Cash Transaction Type name |

```http
HTTP/1.1 200 OK
[
{
"id": 1,
"name": "Distribution"
},
{
"id": 2,
"name": "Merge Out"
},
{
"id": 3,
"name": "Fee"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get aside details

This api will be used to get aside details.

**GET** `https://baseurl/v1/account/accounts/:id/asidecash/:asidecashId`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/account/accounts/1/asidecash/41
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The Aside Id. |
| accountId | Number | The account Id. |
| description | String | The Aside description. |
| cashAmountTypeId | Number | Aside cashAmountTypeId |
| cashAmount | Number | Aside cashAmount |
| expirationTypeId | Number | Aside expirationTypeId |
| expirationValue | String | Aside Date or TransactionTypeName |
| toleranceValue | String | Aside toleranceValue |
| isExpired | Boolean | Aside isExpired |
| isDeleted | Boolean | Aside exist or not into the system. |
| createdOn | Date | Aside creation date into application. |
| createdBy | String | Id of user who created the Aside into the system. |
| editedOn | Date | Aside edited date into application. |
| editedBy | String | Id of user who edited the Aside details into the system. |

```http
HTTP/1.1 200 OK
{
"id": 41,
"accountId": 1,
"description": "null",
"cashAmountTypeId": 1,
"cashAmount": 1900,
"expirationTypeId": 1,
"expirationValue": "2016-11-02T11:18:35.000Z",
"toleranceValue": null,
"isExpired": false,
"isDeleted": 0,
"createdOn": "2016-11-02T11:18:35.000Z",
"createdBy": "prime@tgi.com",
"editedOn": "2016-10-25T05:29:24.000Z",
"editedBy": "prime@tgi.com"
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get CustodialInformation

This api will return house account for a specific custodial.

**GET** `https://baseurl/v1/account/accounts/action/houseAccount/:custodianId`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/account/accounts/action/houseAccount/{custodialId}
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | string | The custodial Id. |

```http
HTTP/1.1 200 OK
{
Accounts: [
{ AccountName: John Smith,
AccountType: IRA,
AccountId: 123,
ExternalId: 345,
TradingInProgress: true,
IncompatibleAssets: false,
HasInvestmentRestrictions: false,
PendingModelChange: date/time or null,
InitialInvestmentOccured: date/time or null,
LastRebalanceDate: date/time or null
},
{ AccountName: John Smith,
AccountType: IRA,
AccountId: 123,
ExternalId: 345,
TradingInProgress: true,
IncompatibleAssets: false,
HasInvestmentRestrictions: false,
PendingModelChange: date/time or null,
InitialInvestmentOccured: date/time or null,
LastRebalanceDate: date/time or null
}
]
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get CustodialInformation

This api will return custodialInformation for a specific custodial account.

**GET** `https://baseurl/v1/account/accounts/:id/custodialInformation`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/account/accounts/{id}/custodialInformation
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | string | The custodial account Id. |

```http
HTTP/1.1 200 OK
{PortfolioId: 123,
CustodialAccountNumber: 9222222,
Name: John Smith,
Accounts: [
{ AccountName: John Smith,
AccountType: IRA,
AccountId: 123,
ExternalId: 345,
TradingInProgress: true,
IncompatibleAssets: false,
HasInvestmentRestrictions: false,
PendingModelChange: date/time or null,
InitialInvestmentOccured: date/time or null,
LastRebalanceDate: date/time or null
},
{ AccountName: John Smith,
AccountType: IRA,
AccountId: 123,
ExternalId: 345,
TradingInProgress: true,
IncompatibleAssets: false,
HasInvestmentRestrictions: false,
PendingModelChange: date/time or null,
InitialInvestmentOccured: date/time or null,
LastRebalanceDate: date/time or null
}
]
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get New Account List

This api will be used to get new account list.

**GET** `https://baseurl/v1/account/accounts/new`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/account/accounts/new
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | System Genarated Id. |
| name | String | Account Name. |
| accountNumber | String | Account Numder. |
| accountType | String | Account type detail. |
| isDeleted | Boolean | Account exist or not into the system. |
| createdOn | Date | Account creation date into application. |
| createdBy | String | Id of user who created the Account into the system. |
| editedOn | Date | Account edited date into application. |
| editedBy | String | Id of user who edited the Account details into the system. |

```http
HTTP/1.1 200 OK
[
{
"id": 1,
"name": "Kane, Jr.Fredric",
"accountNumber": "L05C900669",
"accountType": "TRU",
"isDeleted": 0,
"createdBy": "prime@tgi.com",
"editedBy": "prime@tgi.com"
"createdOn": "2016-07-14 09:00:00",
"editedOn": "2016-07-14 09:00:00"
},
{
"id": 1000,
"name": "McElhenie Richard L.",
"accountNumber": "L0050C0669",
"accountType": null,
"isDeleted": 0,
"createdBy": "prime@tgi.com",
"editedBy": "prime@tgi.com",.
"createdOn": "2016-07-14 09:00:00",
"editedOn": "2016-07-14 09:00:00"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get Out Of Tolerance Accounts

This API get ot of tolerance sleeve account by security, category,class and subclass. asset id can be securityId, categoryId, classId or subclassId. also we beed type of asset inquery string.

**GET** `https://baseurl/v1/account/accounts/:modelId/outOfTolerance/:assetId?assetType={securityset/category,class,subClass}`

```bash
curl -i http://baseurl/v1/account/accounts/:modelId/outOfTolerance/:assetId?assetType={securityset/category,class,subClass}
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| accountId | Number | Account id. |
| accountName | String | Account Name. |
| currentInPercentage: | Decimal | Current value in percentage. |
| postTradeInPercentage: | Decimal | Post trade value in percentage. |
| differenceInPercentage: | Decimal | Difference in percentage. |
| currentInDollar | Decimal | Current value in dollar amount. |
| differenceInDollar | Decimal | Difference in dollar. |
| postTradeInDollar | String | Post trade value in dollar. |
| currentInShares | Decimal | Current value in shares. |
| differenceInShares | Decimal | Difference in shares |
| postTradeInShares | Boolean | Post trade value in shares. |

```http
HTTP/1.1 200 OK
[
{
"accountId": 1,
"accountName": test1
"currentInPercentage": 22.8,
"postTradeInPercentage": 22.8,
"differenceInPercentage": 0,
"currentInDollar": 16000,
"differenceInDollar": 16000,
"postTradeInDollar": 16000,
"currentInShares": 40,
"differenceInShares": 40,
"postTradeInShares": 40
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get Portfolio Id By Account

This api will return portfolio id against given accountId.

**GET** `https://baseurl/v1/account/accounts/:accountId/portfolioId`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/account/accounts/{accountId}/portfolioId
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| accountId | String | Account id . |
| portfolioId | String | Account's Portfolio id. |

```http
HTTP/1.1 200 OK
{
"accountId": 1,
"portfolioI": 5
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get Portfolio Id By AccountId and FirmId

This api will return portfolio id against given accountId.

**GET** `https://baseurl/v1/account/accounts/:accountId/:firmId/portfolioId`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/account/accounts/{accountId}/{firmId}/portfolioId
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| accountId | String | Account id . |
| portfolioId | String | Account's Portfolio id. |

```http
HTTP/1.1 200 OK
{
"accountId": 1,
"portfolioI": 5
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get PortfolioIds for AccountIds

This api will return portolio id List against given accountId List.

**POST** `https://baseurl/v1/account/accounts/portfolioIds`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/account/accounts/list/portfolioIds
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

```json
{
"externalIds": [147800,1477,277]
"orionConnectFirmId":477 (optional)
}
```

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| externalIds | Array | OrionConnect externalIds |

```http
HTTP/1.1 200 OK
[{
"id": 797,
"name": "Bertucci, T.M.",
"tags": null,
"model": null,
"sleevePortfolio": 0,
"team": "Default Team",
"managedValue": 2991368.93,
"excludedValue": 18276791.28,
"cashReserve": 0,
"cash": 951737.27,
"reserveCashTarget": 0,
"reserveCashActual": 0,
"targetCash": 903568.65,
"currentCash": 951737.27,
"pendingCash": 951737.27,
"isDeleted": 0,
"createdOn": "2017-03-31T04:18:59.000Z",
"createdBy": "Test@gmail.com",
"editedOn": "2017-06-05T12:20:43.000Z",
"editedBy": "Test@gmail.com"
},
{
"id": 844,
"name": "Smith, John",
"tags": null,
"model": null,
"sleevePortfolio": 0,
"team": "Default Team",
"managedValue": 4225191.28,
"excludedValue": 0,
"cashReserve": 0,
"cash": 864994.22,
"reserveCashTarget": 0,
"reserveCashActual": 0,
"targetCash": 964542.08,
"currentCash": 864994.22,
"pendingCash": 864994.22,
"isDeleted": 0,
"createdOn": "2017-03-31T04:43:46.000Z",
"createdBy": "Test@gmail.com",
"editedOn": "2017-06-05T12:20:43.000Z",
"editedBy": "Test@gmail.com"
}]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get PortfolioIds for AccountIds

This api will return portolio id List against given accountId List.

**POST** `https://baseurl/v1/account/accounts/list/portfolioIdsDetail`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/account/accounts/list/portfolioIdsDetail
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

```json
{
"externalIds": [
147800,
1477,
277
]
}
```

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| externalIds | Array | OrionConnect externalIds |

```http
HTTP/1.1 200 OK
[{
"id": 797,
"general": {
"portfolioName": "Bertucci, T.M.",
"sleevePortfolio": 0,
"custodialAccountNumber": null,
"registrationId": null,
"sleeveStrategy": null,
"contributionMethod": null,
"distributionMethod": null,
"modelId": null,
"modelName": null,
"autoRebalance": "None",
"monthAndDate": "0000-00-00",
"rebalanceTypeId": 1,
"rebalanceType": "None",
"rebalanceOptionId": 1,
"rebalanceOption": "NA",
"rebalanceDay": null,
"doNotTrade": false,
"tradingInstruction": null,
"sellEmphasisOn": null,
"buyEmphasisOn": null,
"tags": null
},
"teams": [
{
"id": 1,
"name": "Default Team",
"isPrimary": 1,
"portfolioAccess": 1
},
{
"id": 32,
"name": "Teams",
"isPrimary": 0,
"portfolioAccess": 1
},
{
"id": 9,
"name": "Omaha Team",
"isPrimary": 0,
"portfolioAccess": 0
},
{
"id": 10,
"name": "Team Shaun",
"isPrimary": 0,
"portfolioAccess": 0
},
{
"id": 11,
"name": "Team CV",
"isPrimary": 0,
"portfolioAccess": 0
},
{
"id": 27,
"name": "Main Team update",
"isPrimary": 0,
"portfolioAccess": 0
},
{
"id": 47,
"name": "QaAutoTeam",
"isPrimary": 0,
"portfolioAccess": 0
}
],
"issues": {
"outOfTolerance": 0,
"cashNeed": 48168.62,
"setForAutoRebalance": 0,
"contributions": 0,
"distribution": 0,
"modelAssociation": 0,
"doNotTrade": 0,
"TLHOpportunity": 0,
"dataErrors": 0,
"pendingTrades": 0
},
"summary": {
"analyticsOn": "2017-06-08T05:47:00.000Z",
"AUM": {
"totalCash": {
"total": 951737.27,
"reserve": 0,
"cash": 951737.27,
"setAsideCash": 0
},
"total": 22219897.48,
"totalValue": 21268160.21,
"managedValue": 2991368.93,
"excludedValue": 18276791.28
},
"realized": {
"total": -31574.38,
"totalStatus": "low",
"shortTerm": -740.39,
"shortTermStatus": "low",
"longTerm": -30833.99,
"longTermStatus": "low"
},
"reserveCashTarget": 0,
"reserveCashActual": 0,
"targetCash": 0,
"currentCash": 0,
"pendingCash": 0
},
"isDisabled": 0,
"isDeleted": 0,
"createdOn": "2017-03-31T04:18:59.000Z",
"createdBy": "Test@gmail.com",
"editedOn": "2017-06-05T12:20:43.000Z",
"editedBy": "Test@gmail.com"
},
{
"id": 844,
"general": {
"portfolioName": "Smith, John",
"sleevePortfolio": 0,
"custodialAccountNumber": null,
"registrationId": null,
"sleeveStrategy": null,
"contributionMethod": null,
"distributionMethod": null,
"modelId": null,
"modelName": null,
"autoRebalance": "None",
"monthAndDate": "0000-00-00",
"rebalanceTypeId": 1,
"rebalanceType": "None",
"rebalanceOptionId": 1,
"rebalanceOption": "NA",
"rebalanceDay": null,
"doNotTrade": false,
"tradingInstruction": null,
"sellEmphasisOn": null,
"buyEmphasisOn": null,
"tags": null
},
"teams": [
{
"id": 1,
"name": "Default Team",
"isPrimary": 1,
"portfolioAccess": 1
},
{
"id": 32,
"name": "Teams",
"isPrimary": 0,
"portfolioAccess": 1
},
{
"id": 9,
"name": "Omaha Team",
"isPrimary": 0,
"portfolioAccess": 0
},
{
"id": 10,
"name": "Team Shaun",
"isPrimary": 0,
"portfolioAccess": 0
},
{
"id": 11,
"name": "Team CV",
"isPrimary": 0,
"portfolioAccess": 0
},
{
"id": 27,
"name": "Main Team update",
"isPrimary": 0,
"portfolioAccess": 0
},
{
"id": 47,
"name": "QaAutoTeam",
"isPrimary": 0,
"portfolioAccess": 0
}
],
"issues": {
"outOfTolerance": 0,
"cashNeed": -134547.86,
"setForAutoRebalance": 0,
"contributions": 0,
"distribution": 0,
"modelAssociation": 0,
"doNotTrade": 0,
"TLHOpportunity": 0,
"dataErrors": 0,
"pendingTrades": 0
},
"summary": {
"analyticsOn": "2017-06-08T05:47:00.000Z",
"AUM": {
"totalCash": {
"total": 864994.22,
"reserve": 0,
"cash": 829994.22,
"setAsideCash": 35000
},
"total": 5090185.5,
"totalValue": 4225191.28,
"managedValue": 4225191.28,
"excludedValue": 0
},
"realized": {
"total": 0,
"totalStatus": "no",
"shortTerm": 0,
"shortTermStatus": "no",
"longTerm": 0,
"longTermStatus": "no"
},
"reserveCashTarget": 0,
"reserveCashActual": 0,
"targetCash": 0,
"currentCash": 0,
"pendingCash": 0
},
"isDisabled": 0,
"isDeleted": 0,
"createdOn": "2017-03-31T04:43:46.000Z",
"createdBy": "Test@gmail.com",
"editedOn": "2017-06-05T12:20:43.000Z",
"editedBy": "Test@gmail.com"
}]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get Restricted Plans Data

This API gets list of restricted plans.

**GET** `https://baseurl/v1/account/accounts/restrictedPlans`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/account/accounts/restrictedPlans
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | Plan Id. |
| name | String | Plan Name. |
| accountCount | Number | Number of accounts it is assigned to. |
| createdOn | Date | Restricted Plan Created Date. |
| createdBy | String | Restricted Plan Created User Loginid. |
| editedOn | Date | Restricted Plan Edited Date. |
| editedBy | String | Restricted Plan Edited User Loginid. |

```http
HTTP/1.1 200 OK
[
{
"id": 1,
"name": "testPlan12",
"accountCount": 1,
"createdOn": "2018-01-10T12:08:26.000Z",
"createdBy": "Test@gmail.com",
"editedOn": "2018-01-10T12:08:32.000Z"
"editedBy": "Test@gmail.com",
"useInTradeFile": 0
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```


## Get Simple Account Details

This api will be used to get perticular simple account detail.

**GET** `https://baseurl/v1/account/accounts/simple/:id`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/account/accounts/simple/87032
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | System Generated Id. |
| name | String | Account Name. |
| accountId | String | Account Id. |
| accountNumber | String | Account Number. |
| accountType | String | Account type detail. |
| isDeleted | Boolean | Account exist or not into the system. |
| createdOn | Date | Account creation date into application. |
| createdBy | String | Id of user who created the Account into the system. |
| editedOn | Date | Account edited date into application. |
| editedBy | String | Id of user who edited the Account details into the system. |

```http
HTTP/1.1 200 OK
{
"id": 87032,
"name": "Brett George",
"accountId": "477_368",
"accountNumber": "L5C2-ELPMAS",
"accountType": "ROTH",
"isDeleted": 0,
"createdOn": "2017-01-10T10:44:47.000Z",
"createdBy": "Test@gmail.com",
"editedOn": "2017-02-21T07:56:58.000Z",
"editedBy": "primetgi@orion.com"
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get SMA List

This api will be used to get sma list

**GET** `https://baseurl/v1/account/accounts/{:id}/sma`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/account/accounts/1/sma
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| selectedLevelId | Number | Selected Level Id. |
| weightings | JSON | Weightings Info. |
| id | Number | System Generated Id. |
| subModelId | Number | Sub ModelId. |
| subModelName | String | Sub Model Name. |
| weightPercent | Number | Weight Percent detail. |
| modelId | Number | Model Id associated with accountId |
| modelDetailId | Number | Model Detail Id. |
| isDeleted | Boolean | SMA exist or not into the system. |
| createdOn | Date | SMA creation date into application. |
| createdBy | String | Id of user who created the SMA into the system. |
| editedOn | Date | SMA edited date into application. |
| editedBy | String | Id of user who edited the SMA details into the system. * |

```http
HTTP/1.1 200 OK
{
"selectedLevelId": 2,
"weightings": [
{
"id": 28,
"subModelId": 7,
"subModelName": "CLS1",
"weightPercent": 30,
"modelId": 1,
"modelDetailId": 30,
"isDeleted": 0,
"createdOn": "2016-12-20T18:17:37.000Z",
"createdBy": "prime@tgi.com",
"editedOn": "2016-12-20T18:17:37.000Z",
"editedBy": "prime@tgi.com"
},
{
"id": 29,
"subModelId": 8,
"subModelName": "CLS1",
"weightPercent": 10,
"modelId": 1,
"modelDetailId": 30,
"isDeleted": 0,
"createdOn": "2016-12-20T18:17:37.000Z",
"createdBy": "prime@tgi.com",
"editedOn": "2016-12-20T18:17:37.000Z",
"editedBy": "prime@tgi.com"
}
]
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get SubNodes for model

This api will be used to get subnodes for model.

**GET** `https://baseurl/v1/account/accounts/:id/model/submodels?modelTypeId={id}`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/account/accounts/1/model/submodels?modelTypeId=1
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | Model node id. |
| name | String | Model node name. |

```http
HTTP/1.1 200 OK
[
{
"subModelId": 343681,
"subModelName": "Test dMdoSdel 13",
"modelId": 604,
"modelDetailId": 1945
},
{
"subModelId": 343679,
"subModelName": "Test Model 13",
"modelId": 604,
"modelDetailId": 1943
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Search Account (Simple)

This api will be used to search of Account according to accountName or accountNumber

**GET** `https://baseurl/v1/account/accounts/simple?search={id/accountName/accountNumber/portfolioName}`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/account/accounts/simple?search=demo
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | System Generated Id. |
| name | String | Account Name. |
| accountId | String | Account Id. |
| accountNumber | String | Account Number. |
| accountType | String | Account Type. |
| isDeleted | Boolean | Account exist or not into the system. |
| isSleeve | Boolean | Account is Sleeve or not in the system. |
| createdOn | Date | Account creation date into application. |
| createdBy | String | Id of user who created the Account into the system. |
| editedOn | Date | Account edited date into application. |
| editedBy | String | Id of user who edited the Account details into the system. |

```http
HTTP/1.1 200 OK
[
{
"id": 87104,
"name": "Ameritrade Mary",
"accountId": "477_626",
"accountNumber": "L0A0009959",
"accountType": "ROTH",
"portfolioName": "Martin, Steve",
"isSleeve": 1,
"isDeleted": 0,
"createdOn": "2017-01-10T10:44:47.000Z",
"createdBy": "Test@gmail.com",
"editedOn": "2017-03-03T01:31:26.000Z",
"editedBy": "primetgi@orion.com"
}]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Search Exclude SMA and Sleeve Type Account List

This api will be used to search of account with exclude sma and sleeve type

**GET** `https://baseurl/v1/account/accounts/simple?excludeSleeve=true&amp;excludeSMA=true&amp;search={id/accountName}`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/account/accounts/simple?excludeSleeve=true&excludeSMA=true&search={id/accountName}
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | System Generated Id. |
| name | String | Account Name. |
| accountId | Number | Account Id. |
| accountNumber | String | Account Number. |
| accountType | String | Account Type. |
| portfolioName | String | Portfolio Name. |
| isSleeve | Boolean | isSleeve flag. |
| isDeleted | Boolean | Account exist or not into the system. |
| createdOn | Date | Account creation date into application. |
| createdBy | String | Id of user who created the Account into the system. |
| editedOn | Date | Account edited date into application. |
| editedBy | String | Id of user who edited the Account details into the system. |

```http
HTTP/1.1 200 OK
[
{
"id": 87069,
"name": "Belushi Jim",
"accountId": "477_407",
"accountNumber": "L0D2-ELPMAS",
"accountType": "ROTH",
"portfolioName": null,
"isSleeve": 0,
"isDeleted": 0,
"createdOn": "2017-01-10T10:44:47.000Z",
"createdBy": "Test@gmail.com",
"editedOn": "2017-03-19T05:16:39.000Z",
"editedBy": "primetgi@orion.com"
},
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Search Simple Account in Model

This api will be used to search of account according to id and accountName

**GET** `https://baseurl/v1/account/accounts/simple?inModel=true&amp;search={id/accountName}`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/account/accounts/simple?inModel=true&search=1
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | System Generated Id. |
| name | String | Account Name. |
| accountNumber | String | Account Number. |
| accountType | String | Account Type. |
| isDeleted | Boolean | Account exist or not into the system. |
| createdOn | Date | Account creation date into application. |
| createdBy | String | Id of user who created the Account into the system. |
| editedOn | Date | Account edited date into application. |
| editedBy | String | Id of user who edited the Account details into the system. |

```http
HTTP/1.1 200 OK
[{
"id": 4,
"name": "Test Account",
"accountNumber": "123654",
"accountType": "IND",
"isDeleted": 0,
"createdOn": "2016-08-11T06:32:32.000Z",
"createdBy": "test@gmail.com",,
"editedOn":"2016-08-11T07:24:15.000Z",
"editedBy":"test1@gmail.com",
}]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Search Simple Account in Sleeve Case

This api will be used to search of account according to id and accountName

**GET** `https://baseurl/v1/account/accounts/simple?inSleeve=true&amp;search={id/accountName}`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/account/accounts/simple?inSleeve=true&search=1
curl -i http://baseurl/v1/account/accounts/simple?inSleeve=true&inModel=true&search=1
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | System Generated Id. |
| name | String | Account Name. |
| accountNumber | String | Account Number. |
| accountType | String | Account Type. |
| isDeleted | Boolean | Account exist or not into the system. |
| createdOn | Date | Account creation date into application. |
| createdBy | String | Id of user who created the Account into the system. |
| editedOn | Date | Account edited date into application. |
| editedBy | String | Id of user who edited the Account details into the system. |

```http
HTTP/1.1 200 OK
[{
"id": 4,
"name": "Test Account",
"accountNumber": "123654",
"accountType": "IND",
"isDeleted": 0,
"createdOn": "2016-08-11T06:32:32.000Z",
"createdBy": "test@gmail.com",,
"editedOn":"2016-08-11T07:24:15.000Z",
"editedBy":"test1@gmail.com",
}]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Search Simple Account Which Having Trades

This api will be used to search of account which having trades.

**GET** `https://baseurl/v1/account/accounts/simple?havingTrades=true&amp;search={id/accountName}`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/account/accounts/simple?havingTrades=true&search=87077
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | System Generated Id. |
| name | String | Account Name. |
| accountId | Number | Account Id. |
| accountNumber | String | Account Number. |
| accountType | String | Account Type. |
| portfolioName | String | Portfolio Name. |
| isSleeve | Boolean | isSleeve flag. |
| isDeleted | Boolean | Account exist or not into the system. |
| createdOn | Date | Account creation date into application. |
| createdBy | String | Id of user who created the Account into the system. |
| editedOn | Date | Account edited date into application. |
| editedBy | String | Id of user who edited the Account details into the system. |

```http
HTTP/1.1 200 OK
[
{
"id": 87069,
"name": "Belushi Jim",
"accountId": "477_407",
"accountNumber": "L0D2-ELPMAS",
"accountType": "ROTH",
"portfolioName": null,
"isSleeve": 0,
"isDeleted": 0,
"createdOn": "2017-01-10T10:44:47.000Z",
"createdBy": "Test@gmail.com",
"editedOn": "2017-03-19T05:16:39.000Z",
"editedBy": "primetgi@orion.com"
},
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Update Account Details

This api will be used to update certain account details.

**POST** `https://baseurl/v1/account/accounts/detail/:id`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/account/accounts/detail/1
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | System Generated Id. |
| accountId | String | Account Id. |
| billingAccount | String | Billing Account detail. |
| portfolio | String | Portfolio Name. |
| custodian | String | Custodian Name. |
| sleeveType | String | Sleeve Type detail. |
| advisor | String | Adviser Name. |
| washSaleGroup | String | Wash Sale Group Value. |
| style | String | Name of the style. |
| model | String | Model Name associated on Account. |
| registrationId | Number | Registration Id. |
| isDoNotBuySell | Boolean |
| sleeveContributionPercent | Number | Sleeve Contribution Percentage. |
| sleeveDistributionPercent | Number | Sleeve Distribution Percentage. |
| sleeveTarget | Number | Sleeve Target. |
| sleeveToleranceLower | Number | Sleeve Tolerance Lower. |
| sleeveToleranceUpper | Number | Sleeve Tolerance Upper. |
| smaTradeable | String | Sma Tradeable. |
| sleeveCurrent | Number | Sleeve Current. |
| summarySection | JSON | Summary Section. |
| -grandTotal | Number | Grand Total. |
| -totalValue | Number | Total Value. |
| -managedValue | Number | Managed Value. |
| -excludedValue | Number | Excluded Value. |
| -totalCashValue | Number | Total Cash Value |
| -cashReserve | Number | Cash Reserve. |
| -cashAvailable | Number | Cash Available. |
| -setAsideCash | Number | Set Aside Cash. |
| -pendingCashValue | Number | Pending Cash. |
| ytdGl | JSON | YTD Gain-Loss Summary. |
| -totalGainLoss | Number | Total Gain-Loss Value. |
| -totalGainLossStatus | String | High or low as compare previous day value. |
| -shortTermGL | Number | Short Term Gain-Loss Value. |
| -shortTermGLStatus | String | High or low as compare previous day value. |
| -longTermGL | Number | Long Term Gain-Loss Value. |
| -longTermGLStatus | String | High or low as compare previous day value. |
| accountValue | JSON | Account Value Summary. |
| -totalValueOn | Date | Date. |
| ---totalValue | Number | Total value as on date. |
| -status | String | High or low as compare previous day value. |
| holdings | JSON | Holding Summary. |
| securityName | String | Name of security. |
| marketValue | Number | Market Value of security. |
| units | Number | Security units. |
| price | Number | Security price. |
| percentage | Number | Security percentage detail. |
| errorAndWarnings | JSON | errorAndWarnings summary. |
| -systematic | String | Systematic bar detail. |
| -mergeIn | Number | Account mergeIn detail. |
| -mergeOut | Number | Account mergeOut detail. |
| -newAccount | Number | This is a new account or not. |
| -hasPortfolios | String | This account has Portfolios or not. |
| -custodialRestrictions | String | Custodial Restrictions. |
| -sma | String | Single manage account detail. |
| -importError | Number | Import Error detail. |
| -hasPendingTrades | String | Pending Trades detail. |
| -instructions | String | Instructions |
| createdOn | Date | Account import date into application. |
| createdBy | String | Id of user who created the Account into the system. |
| editedOn | Date | Account edited date into application. |
| editedBy | String | Id of user who edited the Account details into the system. |
| restrictedPlanId | Number | Assigned Restricted Plan Id. |

```http
HTTP/1.1 200 OK
{
"id": 87032,
"accountNumber": "L5C2-ELPMAS",
"accountType": "ROTH",
"accountId": "477_368",
"name": "Brett George",
"billingAccount": "Yes",
"portfolio": "test pf1",
"custodian": "TD Ameritrade",
"sleeveType": "None",
"advisior": "200",
"washSaleGroup": "xxxxxxx6789",
"model": "Aggressive 80/20",
"style": "Aggressive",
"registrationId": null,
"sleeveContributionPercent": 0,
"sleeveDistributionPercent": 0,
"sleeveTarget": 0,
"sleeveToleranceLower": 0,
"sleeveToleranceUpper": 0,
"smaTradeable": "0",
"sleeveCureent": 1,
"orionConnectExternalId": 368,
"isDisabled": 0,
"isSleeve": 0,
"instructions": null,
"isNotBuySell": 0,
"summarySection": {
"grandTotal": 137171.5,
"totalValue": 129452.77,
"managedValue": 129452.77,
"excludedValue": 0,
"totalCashValue": 7718.73,
"cashReserve": 120,
"cashAvailable": 7487.73,
"setAsideCash": 111,
"pendingCashValue": 7487.73
},
"ytdGl": {
"totalGainLoss": -21285.57,
"shortTermGL": 0,
"longTermGL": -21285.57,
"shortTermGLStatus": "No",
"longTermGLStatus": "Low",
"totalGainLossStatus": "Low"
},
"accountValue": {
"totalValueOn": "2017-04-20T07:15:48.000Z",
"totalValue": 129452.77,
"status": "No Change",
"holdings": [
{
"securityName": "Custodial Cash",
"marketValue": 7863.73,
"unit": 7863.73,
"price": 1,
"percentage": 6.07,
"securitySymbol": "CUSTODIAL_CASH"
},
{
"securityName": "DFA Real Estate Secs",
"marketValue": 2036.7,
"unit": 60.634,
"price": 33.59,
"percentage": 1.57,
"securitySymbol": "DFREX"
}
]
},
"errorAndWarnings": {
"systematic": "No",
"mergeIn": 0,
"mergeOut": 0,
"newAccount": "No",
"hasPortfolios": "Yes",
"custodialRestrictions": "No",
"sma": "No",
"importError": "No",
"hasPendingTrades": "Yes"
},
"createdOn": "2017-01-10T10:44:47.000Z",
"createdBy": "primetgi@orion.com",
"editedOn": "2017-04-18T01:44:26.000Z",
"editedBy": "primetgi@orion.com",
"restrictedPlanId":2
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Update aside

This api will be used to update aside.

**PUT** `https://baseurl/v1/account/accounts/:id/asidecash/:asidecashId`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/account/accounts/1/asidecash/41
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| cashAmountTypeId | Number | The aside cashAmountTypeId. |
| cashAmount | Number | The aside cashAmount. |
| expirationTypeId | Number | The aside expirationTypeId. |
| expirationValue | String | The aside expirationValue. |
| toleranceValue | Number | The aside toleranceValue. |
| description | String | The aside description. |

```json
{
"cashAmountTypeId": 1,
"cashAmount": 900,
"expirationTypeId": 1,
"expirationValue": "02/22/2015",
"toleranceValue": 87,
"description": "Aside Cash"
}
```

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The Aside Id. |
| accountId | Number | The account Id. |
| description | String | The aside description. |
| cashAmountTypeId | Number | Aside cashAmountTypeId |
| cashAmount | Number | Aside cashAmount |
| expirationTypeId | Number | Aside expirationTypeId |
| expirationValue | String | Aside Date or TransactionTypeName |
| toleranceValue | String | Aside toleranceValue |
| isExpired | Boolean | Aside isExpired |
| isDeleted | Boolean | Aside exist or not into the system. |
| createdOn | Date | Aside creation date into application. |
| createdBy | String | Id of user who created the Aside into the system. |
| editedOn | Date | Aside edited date into application. |
| editedBy | String | Id of user who edited the Aside details into the system. |

```http
HTTP/1.1 201 OK
{
"id": 41,
"accountId": 1,
"description": "null",
"cashAmountTypeId": 1,
"cashAmount": 1900,
"expirationTypeId": 1,
"expirationValue": "2016-11-02T11:18:35.000Z",
"toleranceValue": null,
"isExpired": false,
"isDeleted": 0,
"createdOn": "2016-11-02T11:18:35.000Z",
"createdBy": "prime@tgi.com",
"editedOn": "2016-10-25T05:29:24.000Z",
"editedBy": "prime@tgi.com"
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


---

# Analysis


## Partial Analysis

This API will start partial analysis and notify user via socket i/o about the status of analysis going on in backend.

**POST** `https://baseurl/v1/postimport/partialAnalysis`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/postimport/partialAnalysis
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| eclipseFirmId | Number | Eclipse firm Id |
| typeId | String | Type Id (ex: model=1) |
| values | Array | Type Id values |

```json
{
"firmId": 1000,
"typeId": 1,
"values":[9,15,28]
}
```

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| success | Boolean | Specify whether analysis has started. |

```http
HTTP/1.1 200 Success
{
"message": "Partial Analysis Started."
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| UNAUTHORIZED | Invalid eclipse token. |
| INTERNAL_SERVER_ERROR | Internal Server Error. |

```http
HTTP/1.1 401 Not Authenticated
{
"message": "Invalid Authorization Header"
}
HTTP/1.1 500 INTERNAL_SERVER_ERROR
{
"message": "Internal Server Error"
}
```


## Post Import Analysis

This API will use to receive the analytics status

**POST** `https://baseurl/v1/lambdaExecution/postImportAnalysis/status`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/lambdaExecution/postImportAnalysis/status
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| success | Boolean | Specify analysis status recieved. |

```http
HTTP/1.1 200 Success
{
"Analysis status recieved!!!"
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| UNAUTHORIZED | Invalid eclipse token. |
| INTERNAL_SERVER_ERROR | Internal Server Error. |

```http
HTTP/1.1 401 Not Authenticated
{
"message": "Invalid Authorization Header"
}
HTTP/1.1 500 INTERNAL_SERVER_ERROR
{
"message": "Internal Server Error"
}
```


## Post Import Analysis

This API will use to receive the rebalancer status

**POST** `https://baseurl/v1/lambdaExecution/rebalancer/status`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/lambdaExecution/rebalancer/status
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| success | Boolean | Specify rebalancer status recieved. |

```http
HTTP/1.1 200 Success
{
"Rebalancer status recieved!!!"
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| UNAUTHORIZED | Invalid eclipse token. |
| INTERNAL_SERVER_ERROR | Internal Server Error. |

```http
HTTP/1.1 401 Not Authenticated
{
"message": "Invalid Authorization Header"
}
HTTP/1.1 500 INTERNAL_SERVER_ERROR
{
"message": "Internal Server Error"
}
```


## Post Import Analysis

This API will start post import analysis and notify user via socket i/o about the status of analysis going on in backend.

**GET** `https://baseurl/v1/postimport/post_import_analysis?isFullOrDeltaImport=true`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/postimport/post_import_analysis?isFullOrDeltaImport=true
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| success | Boolean | Specify whether analysis has started. |

```http
HTTP/1.1 200 Success
{
"Analysis Started!!!"
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| UNAUTHORIZED | Invalid eclipse token. |
| INTERNAL_SERVER_ERROR | Internal Server Error. |

```http
HTTP/1.1 401 Not Authenticated
{
"message": "Invalid Authorization Header"
}
HTTP/1.1 500 INTERNAL_SERVER_ERROR
{
"message": "Internal Server Error"
}
```


## Reset Analysis

This API will reset analysis and notify user via socket i/o about the status of analysis going on in backend.

**GET** `https://baseurl/v1/postimport/resetanalysis`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/postimport/resetanalysis
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| success | Boolean | Specify whether analysis has started. |

```http
HTTP/1.1 200 Success
{
"Reset Analysis Started"
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| UNAUTHORIZED | Invalid eclipse token. |
| INTERNAL_SERVER_ERROR | Internal Server Error. |

```http
HTTP/1.1 401 Not Authenticated
{
"message": "Invalid Authorization Header"
}
HTTP/1.1 500 INTERNAL_SERVER_ERROR
{
"message": "Internal Server Error"
}
```


## Run Need Analysis

This API will start analysis for portfolio which need analytics and notify user via socket i/o about the status of analysis going on in backend.

**GET** `https://baseurl/v1/postimport/run_need_analysis`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/postimport/run_need_analysis
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| success | Boolean | Specify whether analysis has started. |

```http
HTTP/1.1 200 Success
{
"Analysis Started!!!"
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| UNAUTHORIZED | Invalid eclipse token. |
| INTERNAL_SERVER_ERROR | Internal Server Error. |

```http
HTTP/1.1 401 Not Authenticated
{
"message": "Invalid Authorization Header"
}
HTTP/1.1 500 INTERNAL_SERVER_ERROR
{
"message": "Internal Server Error"
}
```


## Run Portfolio Analysis

This API will start analysis for specific portfolio and notify user via socket i/o about the status of analysis going on in backend.

**POST** `https://baseurl/v1/postimport/run_portfolio_analysis`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/postimport/run_portfolio_analysis
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| success | Boolean | Specify whether analysis has started. |

```http
HTTP/1.1 200 Success
{
"Analysis Started!!!"
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| UNAUTHORIZED | Invalid eclipse token. |
| INTERNAL_SERVER_ERROR | Internal Server Error. |

```http
HTTP/1.1 401 Not Authenticated
{
"message": "Invalid Authorization Header"
}
HTTP/1.1 500 INTERNAL_SERVER_ERROR
{
"message": "Internal Server Error"
}
```


---

# Audit and Logging


## Get Account Set A Side Cash Audit History

This API gets Audit &amp; Logging history between the given date.

**GET** `https://baseurl/v1/auditlog/accountSetAsideCash/:{accountId}?toDate={}&amp;fromDate={}`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/auditlog/accountSetAsideCash/10?toDate=2017-02-10&fromDate=2017-02-06
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| changeType | String | Tells whether record has updated or deleted. |
| editedOn | Date | Edited date into application. |
| editedBy | string | User who edited the account File details into the system. |
| createdOn | Date | Created date into application. |
| createdBy | String | User who created the File details into the system. |
| portfolioName | String | Portfolio Name. |
| setAsideCashAmountType | string | Set a side cash amount type. |
| amount | number | Target Set Aside Cash Amount. |
| description | string | Set Aside Cash Description. |
| expirationType | number | Set Aside Cash Expiration Type. |
| expireDate | Date | Set Aside Cash Expire Date. |
| expireTransactionType | number | Set Aside Cash Expire Transaction Type. |
| transactionAmount | number | Set Aside Cash Transaction Amount. |
| transactionAmountTolerance | number | Set Aside Cash Transaction Amount Tolerance. |
| systemExpiredOn | Date | Set Aside Cash System Expired On. |

```http
HTTP/1.1 200 OK
[
{
"editedBy": "primetgi demorep",
"accountId": "477_1469",
"portfolioName": "Test portfolio 140",
"editedOn": "2017-02-08T03:58:05.000Z",
"changeType": "update",
"setAsideCashAmountType": 1,
"amount": 10000,
"description": "",
"expirationType": 1,
"expireDate": "2017-02-08T18:30:00.000Z",
"expireTransactionType": null,
"transactionAmount": 10000,
"transactionAmountTolerance": null,
"systemExpiredOn": null,
"createdOn" : "2017-01-24T02:10:27.000Z",
"createdBy" : "sales.main@orion.com"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```


## Get AuditHistory for Preference Community Strategist Enabled List.

This API gets Audit &amp; Logging history for location optimization between the given date.

**GET** `https://baseurl/v1/auditlog/preference/custom/communityStrategistEnabledList?toDate={}&amp;fromDate={}`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/auditlog/preference/custom/communityStrategistEnabledList?toDate=2017-03-16&fromDate=2017-02-14
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| recordId | number | relatedType id |
| recordName | String | name field of actual related type id. |
| changeType | String | Tells whether record has updated or deleted. |
| editedOn | Date | Edited date into application. |
| editedBy | String | User who edited the account File details into the system. |
| createdOn | Date | Created date into application. |
| createdBy | String | User who created the File details into the system. |
| level | String | level. |
| strategistName | String | Name of strategist. |
| modelName | String | Name ot the model. |
| modelAccess | number | Model Access Level. |

```http
HTTP/1.1 200 OK
[
{
"editedBy" : "Sales Main",
"editedOn" : "2017-01-16T07:26:35.000Z",
"changeType" : "Insert",
"recordId" : 1,
"recordName" : "Firm",
"level": "Firm",
"modelAccess": 2,
"strategistName": null,
"modelName": "model",
"createdOn" : "2017-01-24T02:10:27.000Z",
"createdBy" : "sales.main@orion.com"
},
{
"changeType" : "Insert",
"recordId" : 2,
"recordName" : null,
"level": "FIRM",
"editedOn" : "2017-01-24T02:10:27.000Z",
"editedBy" : "sales.main@orion.com",
"strategistName": "SUBCLASS 2",
"modelName": "model",
"modelAccess": 2,
"createdOn" : "2017-01-24T02:10:27.000Z",
"createdBy" : "sales.main@orion.com"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```


## Get AuditHistory for Preference Location Optimization setting.

This API gets Audit &amp; Logging history for location optimization between the given date.

**GET** `https://baseurl/v1/auditlog/preference/custom/locationOptimizationSetting?toDate={}&amp;fromDate={}`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/auditlog/preference/custom/locationOptimizationSetting?toDate=2017-03-16&fromDate=2017-02-14
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| recordId | number | relatedType id |
| recordName | String | name field of actual related type id. |
| changeType | String | Tells whether record has updated or deleted. |
| editedOn | Date | Edited date into application. |
| editedBy | String | User who edited the account File details into the system. |
| createdOn | Date | Created date into application. |
| createdBy | String | User who created the File details into the system. |
| level | String | level. |
| subClass | String | subclass. |
| buyTaxable | number | buyTaxable. |
| buyTaxDeferred | number | buyTaxDeferred. |
| buyTaxExempt | number | buyTaxExempt |
| sellTaxable | number | sellTaxable |
| sellTaxDeferred | number | sellTaxDeferred |
| sellTaxExempt | number | sellTaxExempt. |

```http
HTTP/1.1 200 OK
[
{
"editedBy": "Prime Tgi",
"editedOn": "2017-03-28T08:44:24.000Z",
"level" : "Model",
"recordName": "Rebalancer Test model 1",
"recordId": 8,
"subCalss": "Allocation Fund",
"buyTaxable": 2,
"sellTaxable" : 2,
"buyTaxDeferred": 2,
"sellTaxDeferred": 2,
"buyTaxExempt": 2,
"sellTaxExempt" : 2,
"changeType":"Insert",
"createdOn" : "2017-01-24T02:10:27.000Z",
"createdBy" : "sales.main@orion.com"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```


## Get AuditHistory for Preference Security Setting.

This API gets Audit &amp; Logging history between the given date.

**GET** `https://baseurl/v1/auditlog/preference/custom/securitySetting?toDate={}&amp;fromDate={}`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/auditlog/preference/custom/securitySetting?toDate=2017-05-11&fromDate=2017-05-01
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| recordId | number | relatedType id |
| recordName | String | name field of actual related type id. |
| changeType | String | Tells whether record has updated or deleted. |
| editedOn | Date | Edited date into application. |
| editedBy | String | User who edited the details into the system. |
| createdOn | Date | Created date into application. |
| createdBy | String | User who created the File details into the system. |
| level | String | level. |
| name | String | Security name. |
| symbol | String | symbol. |
| securityType | String | securityType Fee. |
| redemptionType | number | relatedType id |
| redemptionFeeAmount | number | redemption fee amount. |
| redemptionFeeDays | number | redemptionFeeDays. |
| sellMinAmount | number | sellMinAmount. |
| sellMinPercent | number | sellMinPercent. |
| buyMinAmount | number | buyMinAmount |
| buyMinPercent | number | buyMinPercent. |
| sellMaxAmount | number | sellMaxAmount. |
| sellMaxPercent | number | sellMaxPercent. |
| buyMaxAmount | number | buyMaxAmount. |
| buyMaxPercent | number | buyMaxPercent. |
| taxableTaxAlternates | String | taxableTaxAlternates. |
| taxExemptTaxAlternates | String | taxExemptTaxAlternates. |
| taxDeferredTaxAlternates | String | taxDeferredTaxAlternates. |
| capGainReinvestTaxable | String | capGainReinvestTaxable. |
| capGainReinvestTaxExempt | String | capGainReinvestTaxExempt. |
| capGainReinvestTaxDef | String | capGainReinvestTaxDef. |
| taxableDivReinvest | String | taxableDivReinvest. |
| taxDefDivReinvest | String | taxDefDivReinvest. |
| taxExemptDivReinvest | String | taxExemptDivReinvest. |
| custodianRedemptionFeeType | String | custodianRedemptionFeeType. |
| custodianRedemptionFeeDays | String | custodianRedemptionFeeDays. |
| custodianRedemptionFeeAmount | String | custodianRedemptionFeeAmount. |
| excludeHolding | String | excludeHolding. |
| sellTransactionFee | String | sellTransactionFee. |
| buyTransactionFee | String | buyTransactionFee. |
| sellPriority | String | sellPriority. |
| buyPriority | String | buyPriority. |
| minimumInitialBuyAmount | String | minimumInitialBuyAmount. |

```http
HTTP/1.1 200 OK
[
{
"editedBy": "primetgi@orion.com",
"editedOn": "2017-05-10T02:26:57.000Z",
"createdBy": "primetgi@orion.com",
"createdOn": "2017-05-10T02:26:57.000Z",
"changeType": "Insert",
"recordId": 1,
"recordName": "Firm",
"level": "Firm",
"name": "3M Company",
"symbol": "sfdf",
"securityType": "CASH",
"taxableTaxAlternates": "{"id":49209,"name":"Adv Edge NY: Wanger USA"}",
"taxExemptTaxAlternates": "{"id":43206,"name":"Agilent Technologies Inc"}",
"taxDeferredTaxAlternates": "{"id":44034,"name":"3M Company"}",
"sellMinAmount": "80",
"sellMinPercent": "80",
"sellMaxAmount": "80",
"sellMaxPercent": "80",
"redemptionType": "1",
"redemptionFeeDays": "2",
"redemptionFeeAmount": "100",
"buyMinAmount": "80",
"buyMinPercent": "80",
"buyMaxAmount": "80",
"buyMaxPercent": "80",
"custodianRedemptionFeeType": null,
"custodianRedemptionFeeDays": null,
"custodianRedemptionFeeAmount": null,
"capGainReinvestTaxable": null,
"capGainReinvestTaxExempt": null,
"capGainReinvestTaxDef": null,
"taxableDivReinvest": null,
"taxDefDivReinvest": null,
"taxExemptDivReinvest": null,
"excludeHolding": null,
"sellTransactionFee": null,
"buyTransactionFee": null,
"sellPriority": "1",
"buyPriority": "2",
"minimumInitialBuyAmount": null
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```


## Get Capital Gain Reinvest Preference Audit History

This API gets Audit &amp; Logging history between the given date.

**GET** `https://baseurl/v1/auditlog/preference/custom/capitalGainReinvestSetting?toDate={}&amp;fromDate={}`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/auditlog/preference/custom/capitalGainReinvestSetting?toDate=2017-03-16&fromDate=2017-02-14
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| changeType | String | Tells whether record has updated or deleted. |
| editedOn | Date | Edited date into application. |
| editedBy | String | User who edited the account File details into the system. |
| createdOn | Date | Created date into application. |
| createdBy | String | User who created the File details into the system. |
| recordId | number | relatedType id |
| level | String | level. |
| recordName | String | name field of actual related type id. |
| securityType | String | Security Type. |
| capGainReinvestTaxable | Boolean | Capital Gain Reinvest Taxable. |
| capGainReinvestTaxDef | Boolean | Taxable Def Capital Gain Reinvest. |
| capGainReinvestTaxExempt | Boolean | Taxable Exempt Div Reinvest. |

```http
HTTP/1.1 200 OK
[
{
"changeType" : "Insert",
"recordId" : 4,
"recordName" : "NULL",
"level": "Team",
"securityType" : "Stock/ETF",
"capGainReinvestTaxable": null,
"capGainReinvestTaxExempt": null,
"capGainReinvestTaxDef": null,
"editedOn" : "2017-02-03T04:23:48.000Z",
"editedBy" : "primetgi@orion.com",
"createdOn" : "2017-01-24T02:10:27.000Z",
"createdBy" : "sales.main@orion.com"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```


## Get Custodian Specific Preference Audit History

This API gets Audit &amp; Logging history between the given date.

**GET** `https://baseurl/v1/auditlog/preference/custom/custodianSpecificRedemptionFeeSetting?toDate={}&amp;fromDate={}`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/auditlog/preference/custom/custodianSpecificRedemptionFeeSetting?toDate=2017-03-22&fromDate=2017-01-05
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| changeType | String | Tells whether record has updated or deleted. |
| recordId | number | relatedType id |
| recordName | String | name field of actual related type id. |
| editedOn | Date | Edited date into application. |
| editedBy | String | User who edited the account File details into the system. |
| createdOn | Date | Created date into application. |
| createdBy | String | User who created the File details into the system. |
| level | String | level. |
| securityType | String | Security Type. |
| redemptionFeeAmount | number | Redemption Fee Amount. |
| redemptionFeeType | String | Redemption Fee Type. |
| redemptionFeeDays | number | Redemption Fee Days. |

```http
HTTP/1.1 200 OK
[
{
"changeType": "insert",
"recordId" : 2,
"recordName" : "NULL",
"level": "Custodian",
"securityType" : "Equity",
"redemptionFeeType": "%",
"redemptionFeeAmount": 5.2222,
"redemptionFeeDays": 5,
"editedOn" : "2017-02-07T06:33:16.000Z",
"editedBy" : "sales.main@orion.com",
"createdOn" : "2017-01-24T02:10:27.000Z",
"createdBy" : "sales.main@orion.com"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```


## Get General Preference Audit History

This API gets Audit &amp; Logging history between the given date.

**GET** `https://baseurl/v1/auditlog/preference/all?toDate={}&amp;fromDate={}`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/auditlog/preference/all?toDate=2017-02-21&fromDate=2017-02-17
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| recordId | number | relatedType id |
| recordName | String | name field of actual related type id. |
| changeType | String | Tells whether record has updated or deleted. |
| editedOn | Date | Edited date into application. |
| editedBy | String | User who edited the account File details into the system. |
| createdOn | Date | Created date into application. |
| createdBy | String | User who created the File details into the system. |
| level | String | level. |
| optionName | String | Name of the option. |
| value | String(or)number(or)Boolean | value. |

```http
HTTP/1.1 200 OK
[
{
"changeType": "insert",
"level": "Account",
"recordId": 12,
"recordName": "NULL",
"value": null,
"optionName": null,
"editedBy": "primetgidemorep",
"editedOn": "2017-02-21T06:52:04.000Z",
"createdOn" : "2017-01-24T02:10:27.000Z",
"createdBy" : "sales.main@orion.com"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```


## Get Model Audit History

This API gets Audit &amp; Logging history between the given date.

**GET** `https://baseurl/v1/auditlog/model/:{modelId}?toDate={}&amp;fromDate={}`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/auditlog/model/61?toDate=2017-02-21&fromDate=2017-02-20
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| changeType | String | Tells whether record has updated or deleted. |
| editedOn | Date | File edited date into application. |
| editedBy | string | User who edited the Trade File details into the system.@apiSuccess {Date} createdOn Created date into application. |
| createdBy | String | User who created the File details into the system. |
| modelName | String | Name of the model. |
| status | String | model status. |
| managementStyle | String | model management style. |
| modelDescription | String | Model Description. |
| isDynamicModel | boolean | Is a dynamic model or not. |
| namespace | String | Namespace. |
| tags | String | Tags. |

```http
HTTP/1.1 200 OK
[
{
"changeType": "none",
"editedBy": "primetgidemorep",
"editedOn": "2017-02-07T23:56:17.000Z",
"modelName": "ModelBalancedCheck2",
"status":"DRAFT",
"modelDescription": null,
"managementStyle":null,
"isDynamicModel": 0,
"namespace": "Default Team",
"tags": null,
"createdOn" : "2017-01-24T02:10:27.000Z",
"createdBy" : "sales.main@orion.com"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```


## Get Model Detail Audit History

This API gets Audit &amp; Logging history between the given date.

**GET** `https://baseurl/v1auditlog/modelDetail/:{modelId}?toDate={}&amp;fromDate={}`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/auditlog/modelDetail/41?toDate=2017-03-16&fromDate=2017-02-14
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| changeType | String | Tells whether record has updated or deleted. |
| editedOn | Date | Trade File edited date into application. |
| editedBy | number | User who edited the Trade File details into the system. |
| createdOn | Date | Created date into application. |
| createdBy | String | User who created the File details into the system. |
| level | number | Level/Node for model. |
| rank | number | rank |
| substitute | Boolean | If current submodel is isSubstituted. |
| targetPercent | number | Target Percent. |
| toleranceType | number | Target Percent. |
| upperTolerancePercent | number | upperModelTolerancePercent |
| lowerTolerancePercent | number | lowerModelTolerancePercent. |

```http
HTTP/1.1 200 OK
[
{
"changeType": "update",
"editedBy": 503,
"editedOn": "2017-02-20T01:34:32.000Z",
"level": "0",
"rank": null,
"substitute": null,
"targetPercent": 100,
"toleranceType": null,
"upperTolerancePercent": null,
"lowerTolerancePercent": null,
"createdOn" : "2017-01-24T02:10:27.000Z",
"createdBy" : "sales.main@orion.com"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```


## Get Portfolio Audit History

This API gives Audit and logs.

**GET** `https://baseurl/v1/auditlog/portfolio/:{portfolioId}?toDate={}&amp;fromDate={}`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/auditlog/portfolio/19?toDate=2017-02-21&fromDate=2017-02-20
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| changeType | String | Tells whether record has updated or deleted. |
| editedOn | Date | edited date. |
| editedBy | Number | User who edited the Portfolio. |
| createdOn | Date | Created date into application. |
| createdBy | String | User who created the File details into the system. |
| name | number | Portfolio name. |
| model | number | model name. |
| primaryTeam | number | primaryTeam. |
| tags | number | tags. |
| isDisabled | number | isDisabled. |
| disabledReason | number | disabled reason. |
| doNotTrade | number | do not trade. |
| tradingInstruction | Boolean | trading instruction. |
| sellEmphasisOn | String | sell emphasis on. |
| buyEmphasisOn | String | buy emphasis on. |
| autoRebalance | Number | auto rebalance. |
| autoRebalanceDay | Date | auto rebalance day |
| autoRebalanceMonth | Number | auto rebalance mognths. |
| status | Number | Status of portfolio |
| statusReason | Number | Status Message |

```http
HTTP/1.1 200 OK
[
{
"changeType": "insert",
"name": "add pf",
"model": "TOM Model A",
"primaryTeam": "Omaha Team",
"tags": "test 2",
"isDisabled": 0,
"disabledReason": null,
"doNotTrade": 0,
"tradingInstruction": "test trading edit",
"sellEmphasisOn": "TOM Model A",
"buyEmphasisOn": "TOM Model A",
"editedOn": "2017-03-21T07:06:28.000Z",
"editedBy": "primetgi@orion.com",
"autoRebalance": "Month 5 of the Semi-annual cycle",
"autoRebalanceDay": 5,
"autoRebalanceMonth": "Month 5 of the Semi-annual cycle",
"status":"Ok",
"statusReason":"",
"createdOn" : "2017-01-24T02:10:27.000Z",
"createdBy" : "sales.main@orion.com"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get Preference Dividend Reinvest AuditHistory

This API gets Audit &amp; Logging history between the given date.

**GET** `https://baseurl/v1/auditlog/preference/custom/dividendReinvestSetting?toDate={}&amp;fromDate={}`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/auditlog/preference/custom/dividendReinvestSetting?toDate=2017-03-16&fromDate=2017-02-14
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| changeType | String | Tells whether record has updated or deleted. |
| editedOn | Date | Edited date into application. |
| editedBy | String | User who edited the account File details into the system. |
| createdOn | Date | Created date into application. |
| createdBy | String | User who created the File details into the system. |
| recordId | number | relatedType id |
| level | String | level. |
| recordName | String | name field of actual related type id. |
| securityType | String | Security Type. |
| taxableDivReinvest | Boolean | Taxable Div Reinvest. |
| taxableDefDivReinvest | Boolean | Taxable Def Div Reinvest. |
| taxableExemptDivReinvest | Boolean | Taxable Exempt Div Reinvest. |

```http
HTTP/1.1 200 OK
[
{
"changeType" : "insert",
"level": "Firm",
"recordId" : 14,
"recordName" : "NULL",
"securityType" : "Mutual Fund",
"taxableDivReinvest": 1,
"taxableDefDivReinvest": 1,
"taxableExemptDivReinvest": 1,
"editedOn" : "2017-01-31T04:14:33.000Z",
"editedBy" : "sales.main@orion.com",
"createdOn" : "2017-01-24T02:10:27.000Z",
"createdBy" : "sales.main@orion.com"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```


## Get Preference Redemption Fee Audit History

This API gets Audit &amp; Logging history between the given date.

**GET** `https://baseurl/v1/auditlog/preference/custom/redemptionFeeSetting?toDate={}&amp;fromDate={}`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/auditlog/preference/custom/redemptionFeeSetting?toDate=2017-03-22&fromDate=2017-01-05
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| changeType | String | Tells whether record has updated or deleted. |
| recordId | number | relatedType id |
| recordName | String | name field of actual related type id. |
| editedOn | Date | Edited date into application. |
| editedBy | String | User who edited the account File details into the system. |
| createdOn | Date | Created date into application. |
| createdBy | String | User who created the File details into the system. |
| level | String | level. |
| securityType | String | Security Type. |
| redemptionFeeAmount | number | Redemption Fee Amount. |
| redemptionFeeType | String | Redemption Fee Type. |
| redemptionFeeDays | number | Redemption Fee Days. |

```http
HTTP/1.1 200 OK
[
{
"changeType": "insert",
"recordId": 2,
"recordName": "NULL",
"level" : "Custodian",
"securityType": "Equity",
"redemptionFeeType": "%",
"redemptionFeeAmount": 5.2222,
"redemptionFeeDays": 5,
"editedOn": "2017-02-07T06:33:16.000Z",
"editedBy": "sales.main@orion.com",
"createdOn" : "2017-01-24T02:10:27.000Z",
"createdBy" : "sales.main@orion.com"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```


## Get Preference Trade Max Fee Audit History

This API gets Audit &amp; Logging history between the given date.

**GET** `https://baseurl/v1/auditlog/preference/custom/tradeMaxSetting?toDate={}&amp;fromDate={}`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/auditlog/preference/custom/tradeMaxSetting?toDate=2017-03-16&fromDate=2017-02-14
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| changeType | String | Tells whether record has updated or deleted. |
| recordId | number | relatedType id |
| recordName | String | name field of actual related type id. |
| editedOn | Date | Edited date into application. |
| editedBy | String | User who edited the account File details into the system. |
| createdOn | Date | Created date into application. |
| createdBy | String | User who created the File details into the system. |
| level | String | level. |
| securityType | String | Security Type. |
| sellMaxAmount | number | Sell Min Amount. |
| sellMaxPercent | number | Sell Min Percentage. |
| buyMaxAmount | number | Buy Min Amount. |
| buyMaxPercent | number | Buy Min Percentage. |

```http
HTTP/1.1 200 OK
[
{
"changeType": "updated",
"level" : "Custodian",
"recordId": 2,
"recordName": "NULL",
"securityType": "Option",
"sellMaxAmount" : 2,
"sellMaxPercent": 2,
"buyMaxAmount": 3,
"buyMaxPercent" : 3,
"editedOn": "2017-03-19T12:08:44.000Z",
"editedBy": "primetgi@orion.com",
"createdOn" : "2017-01-24T02:10:27.000Z",
"createdBy" : "sales.main@orion.com"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```


## Get Preference Trade Min Fee Audit History

This API gets Audit &amp; Logging history between the given date.

**GET** `https://baseurl/v1/auditlog/preference/custom/tradeMinSetting?toDate={}&amp;fromDate={}`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/auditlog/preference/custom/tradeMinSetting?toDate=2017-03-16&fromDate=2017-02-14
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| changeType | String | Tells whether record has updated or deleted. |
| recordId | number | relatedType id |
| recordName | String | name field of actual related type id. |
| editedOn | Date | Edited date into application. |
| editedBy | String | User who edited the account File details into the system. |
| createdOn | Date | Created date into application. |
| createdBy | String | User who created the File details into the system. |
| level | String | level. |
| securityType | String | Security Type. |
| sellMinAmount | number | Sell Min Amount. |
| sellMinPercent | number | Sell Min Percentage. |
| buyMinAmount | number | Buy Min Amount. |
| buyMinPercent | number | Buy Min Percentage. |

```http
HTTP/1.1 200 OK
[
{
"changeType":"insert",
"level" :"Account",
"recordId": 31,
"recordName":"NULL",
"securityType"	:"Mutual Fund"
"sellMinAmount"	:11.00
"sellMinPercent":11.00
"buyMinAmount"	:11.00
"buyMinPercent"	:11.00
"editedOn"	:2017-02-01 06:04:23
"editedBy":"primetgi",
"createdOn" : "2017-01-24T02:10:27.000Z",
"createdBy" : "sales.main@orion.com"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```


## Get Preference Transaction Fee AuditHistory

This API gets Audit &amp; Logging history between the given date.

**GET** `https://baseurl/v1/auditlog/preference/custom/transactionFeeSetting?toDate={}&amp;fromDate={}`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/auditlog/preference/custom/transactionFeeSetting?toDate=2017-03-16&fromDate=2017-02-14
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| recordId | number | relatedType id |
| recordName | String | name field of actual related type id. |
| changeType | String | Tells whether record has updated or deleted. |
| editedOn | Date | Edited date into application. |
| editedBy | String | User who edited the account File details into the system. |
| createdOn | Date | Created date into application. |
| createdBy | String | User who created the File details into the system. |
| level | String | level. |
| securityType | String | Security Type. |
| sellTransactionFee | number | Sell Transaction Fee. |
| buyTransactionFee | number | Buy Transaction Fee. |

```http
HTTP/1.1 200 OK
[
{
"changeType" : "insert",
"recordId" : 31,
"recordName" : "NULL",
"level": "Custodian",
"securityType" : "Mutual Fund",
"sellTransactionFee": 0,
"buyTransactionFee": 11,
"editedOn" : "2017-01-24T02:10:27.000Z",
"editedBy" : "sales.main@orion.com",
"createdOn" : "2017-01-24T02:10:27.000Z",
"createdBy" : "sales.main@orion.com"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```


## Get Priority Ranking Audit History

This API gets Audit &amp; Logging history between the given date.

**GET** `https://baseurl/v1/auditlog/preference/custom/priorityRanking?toDate={}&amp;fromDate={}`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/auditlog/preference/custom/priorityRanking?toDate=2017-03-16&fromDate=2017-02-14
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| changeType | String | Tells whether record has updated or deleted. |
| editedOn | Date | Edited date into application. |
| editedBy | String | User who edited the account File details into the system. |
| createdOn | Date | Created date into application. |
| createdBy | String | User who created the File details into the system. |
| recordId | number | relatedType id |
| level | String | level. |
| recordName | String | name field of actual related type id. |
| methodsOrder | String | Ordered Priority Methods . |

```http
HTTP/1.1 200 OK
[
{
"changeType": "Updated",
"createdOn": "2017-05-09T04:43:07.000Z",
"editedOn": "2017-05-09T04:43:07.000Z",
"createdBy": "primetgi@orion.com",
"editedBy": "primetgi@orion.com",
"recordId": 4,
"level": "Team",
"recordName": "QaAutoTeam",
"methodsOrder":"Location Optimization,Out of Tolerance"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```


## Get Security Audit History

This API gets Audit &amp; Logging history between the given date.

**GET** `https://baseurl/v1/auditlog/security/:{securityId}?toDate={}&amp;fromDate={}`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/auditlog/security/41?toDate=2017-03-16&fromDate=2017-02-14
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| changeType | String | Tells whether record has updated or deleted. |
| editedBy | String | User who edited the security File details into the system. |
| editedOn | Date | Security File edited date into application. |
| createdOn | Date | Created date into application. |
| createdBy | String | User who created the File details into the system. |
| custodialCash | boolean | Security is custodial cash or not. |
| name | String | Name of security. |
| symbol | String | Sybmol of security. |
| cusip | String | cusip |
| assetCategory | string | AssetCategory Name of Security in Eclipse. |
| asssetClass | string | AssetClass Name of Security in Eclipse. |
| assetSubClass | string | AssetSubClass Name of Security in Eclipse. |
| securityType | string | Security type name |
| status | string | Security Status in Eclipse. |
| securityPrice | number | Latest Security price in Eclipse. |

```http
HTTP/1.1 200 OK
[
{
"changeType": "insert",
"editedBy": "primetgidemorep",
"editedOn": "2017-02-21T05:33:00.000Z",
"name": "Global X FTSE Norway 30",
"symbol": "NORW",
"cusip" : null,
"custodialCash" : 1,
"assetCategory" : "Equity",
"asssetClass" : "ETF",
"assetSubClass" : "RE",
"securityType": "Equity",
"status": "OPEN",
"securityPrice" : 11.66,
"createdOn" : "2017-01-24T02:10:27.000Z",
"createdBy" : "sales.main@orion.com"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```


## Get security Trade Symbol Audit History

This API gets Audit &amp; Logging history between the given date.

**GET** `https://baseurl/v1/auditlog/securityTradeSymbol/:{securityId}?toDate={}&amp;fromDate={}`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/auditlog/securityTradeSymbol/3?toDate=2017-03-20&fromDate=2017-03-10
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| changeType | String | Tells whether record has updated or deleted. |
| editedOn | Date | Trade File edited date into application. |
| editedBy | string | User who edited the Trade File details into the system. |
| createdOn | Date | Created date into application. |
| createdBy | String | User who created the File details into the system. |
| custodianName | String | Name of Custodian. |
| tradeSymbol | String | Name of tradeSymbol. |
| name | String | Name of security. |

```http
HTTP/1.1 200 OK
[
{
"changeType": "delete",
"editedBy": "Test@gmail.com",
"editedOn": "2017-03-19T11:16:35.000Z",
"tradeSymbol": "Test",
"name": "Apache Corp",
"custodianName": "Circle Trust",
"createdOn" : "2017-01-24T02:10:27.000Z",
"createdBy" : "sales.main@orion.com"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```


## Get TaxLot Depletion Method Audit History

This API gets Audit &amp; Logging history between the given date.

**GET** `https://baseurl/v1/auditlog/preference/custom/taxLotDepletionMethod?toDate={}&amp;fromDate={}`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/auditlog/preference/custom/taxLotDepletionMethod?toDate=2017-03-16&fromDate=2017-02-14
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| changeType | String | Tells whether record has updated or deleted. |
| editedOn | Date | Edited date into application. |
| editedBy | String | User who edited the account File details into the system. |
| createdOn | Date | Created date into application. |
| createdBy | String | User who created the File details into the system. |
| recordId | number | relatedType id |
| level | String | level. |
| recordName | String | name field of actual related type id. |
| methodsOrder | String | Ordered Taxlot Methods. |

```http
HTTP/1.1 200 OK
[
{
"changeType": "Updated",
"createdOn": "2017-04-18T08:13:38.000Z",
"editedOn": "2017-05-09T03:30:36.000Z",
"createdBy": "primetgi@orion.com",
"editedBy": "primetgi@orion.com",
"recordId": 1,
"level": "Firm",
"recordName": "Firm",
"methodsOrder": "Long Term Gain,Long Term Losses,Long Term No Gain,Short Term Gain,Short Term Losses,Short Term No Gain"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```


## Get Trade Blocks Audit History

This API gets Audit &amp; Logging history between the given date.

**GET** `https://baseurl/v1/auditlog/tradeBlocks/:{tradeBlockId}?toDate={}&amp;fromDate={}`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/auditlog/tradeBlocks/41?toDate=2017-03-16&fromDate=2017-02-14
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| changeType | String | Tells whether record has updated or deleted. |
| editedOn | Date | Trade File edited date into application. |
| editedBy | string | User who edited the Trade File details into the system. |
| createdOn | Date | Created date into application. |
| createdBy | String | User who created the File details into the system. |
| execBroker | String | Exec Broker. |
| value | String | Value. |
| stopPrice | Boolean | Stop Price. |
| quantity | number | Quantity. |
| limitPrice | number | Limit Price. |
| isDiscretionary | Boolean | Is Discretionary or not. |
| isAutoAllocate | Boolean | Is Auto Allocate or not. |
| strikePrice | number | Strike Price. |
| orderCapacity | number | Order Capacity. |
| maturityDate | Date | Maturity Date. |
| orderType | String | Order Type. |
| qualifier | String | Qualifier. |
| duration | String | Duration. |
| cfiCode | String | CFI Code. |
| positionEffect | String | Position Effect. |

```http
HTTP/1.1 200 OK
[
{
"changeType" :Insert,
"editedOn"	:"2017-03-06 11:37:23",
"limitPrice" :null,
"quantity"	:"100.00",
"value"	:null,
"stopPrice"	:null,
"isDiscretionary"	:0,
"isAutoAllocate"	:0,
"strikePrice"	:0.00,
"orderCapacity"	:3,
"maturityDate"	:0000-00-00 00:00:00,
"execBroker":Fidelity,
"orderType"	:Market,
"qualifier"	:null,
"duration"	:Day,
"cfiCode"	:Blank,
"positionEffect"	:Blank,
"editedBy":primetgi@orion.com,
"createdOn" : "2017-01-24T02:10:27.000Z",
"createdBy" : "sales.main@orion.com"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```


## Get Trade Orders Audit History

This API gets Audit &amp; Logging history between the given date.

**GET** `https://baseurl/v1/auditlog/tradeOrders/:{tradeOrderId}?toDate={}&amp;fromDate={}`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/auditlog/tradeOrders/4406?toDate=2017-03-10&fromDate=2017-02-10
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| changeType | String | Tells whether record has updated or deleted. |
| editedOn | Date | Trade File edited date into application. |
| editedBy | string | User who edited the Trade File details into the system. |
| createdOn | Date | Created date into application. |
| createdBy | String | User who created the File details into the system. |
| action | String | Action contains either buy or sell. |
| limitPrice | number | Trade limit price. |
| quantity | number | Number of shares to be sell or buy. |
| stopPrice | number | trades Stop price. |
| isDiscretionary | Boolean | Trade descretionary. |
| isSolicited | Boolean | trades solicited |
| orderType | String | Trade order type |
| qualifier | String | Qualifier |
| duration | String | Duration |

```http
HTTP/1.1 200 OK
[
{
"changeType": "none",
"editedBy": "primetgidemorep",
"editedOn": "2017-03-15 10:11:50",
"action": "SELL",
"limitPrice": null,
"quantity": 5040.31,
"stopPrice": null,
"isDiscretionary": 1,
"isSolicited": 0,
"duration":"Day",
"qualifier":"Blank",
"orderType":null,
"createdOn" : "2017-01-24T02:10:27.000Z",
"createdBy" : "sales.main@orion.com"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```


---

# Blocks


## Cancel Blocks

This API cancel blocks.

**PUT** `https://baseurl/v1/tradeorder/blocks/action/cancelBlocks`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/block/blocks/action/cancelBlocks
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| blockIds | Number | :List of block ids. |

```json
{
"blockIds": [
1,
2
]
}
```

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| message | String | Success message. |

```http
HTTP/1.1 200 OK
{
"message": "Blocks canceled successfully."
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```


## Count of Blocks

This API gets block count.

**GET** `https://baseurl/v1/tradeorder/blocks/count`

**Permission:** `Count only those blocks whose portfolios assignied to his team`

```bash
curl -i http://baseurl/v1/tradeorder/blocks/count
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| noOfTradeBlocks: | Number | Count of blocks. |

```http
HTTP/1.1 200 OK
{
noOfTradeBlocks:200
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Create Block

This API generate trade orders and blocks.

**POST** `https://baseurl/v1/tradeOrder/blocks/`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/tradeorder/blocks
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| custodianId | Number | custodian id |
| actionId: | String | Action id |
| security_id: | Number | security id. |
| quantity: | Number | Number of shares to be sell or buy |
| strikeprice: | Decimal | Strike price in case of option security type. |
| positionId: | Number | Position effect id in case of option security type. |
| orderCapacityId: | Number | Order capacity id in case of option security type. |
| cfiCodeId: | Number | Cfi code id in case of option security type. |
| maturityDate: | Date | Maturity date in case of option security type. |
| isDiscretionary: | Boolean | Block isDiscretionary. |
| isSolicited: | Boolean | Block isSolicited. |

```json
{
"custodianId": 9006,
"actionId": 1,
"securityId": 14630,
"quantity": 0,
"isSolicited": 0,
"strikePrice": 0,
"maturityDate": null,
"cfiCodeId": 1,
"positionEffectId": 1,
"orderCapacityId": 1
}
```

```http
HTTP/1.1 200 OK
{
"message": Trade and block generated successfully
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Delete All Blocks

This API deletes all blocks (soft delete).

**DELETE** `https://baseurl/v1/tradeorder/blocks/deleteAll`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/tradeorder/blocks/deleteAll
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| message | String | Success message. |

```http
HTTP/1.1 200 OK
{
"message": "Blocks deleted Successfully"
}
```

```http
HTTP/1.1 422 Unprocessable_Entity
{
"message": " Some blocks does not exist or already deleted "
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```


## Delete Block

This API deletes blockOrder (soft delete).

**DELETE** `https://baseurl/v1/tradeorder/blocks/:id`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/tradeorder/blocks/1
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| message | String | Success message. |

```http
HTTP/1.1 200 OK
{
"message": "Block deleted Successfully"
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```

```http
HTTP/1.1 422 Unprocessable_Entity
{
"message": " Block does not exist or already deleted "
}
```


## Delete Selected Blocks

This API deletes blockOrder (soft delete).

**DELETE** `https://baseurl/v1/tradeorder/blocks/action/delete`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/tradeorder/blocks/action/delete
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

```json
{
"blockIds": [
1,
2
]
}
```

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| message | String | Success message. |

```http
HTTP/1.1 200 OK
{
"message": "Block deleted Successfully"
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```

```http
HTTP/1.1 422 Unprocessable_Entity
{
"message": " Block does not exist or already deleted "
}
```


## Execute Blocks

This API execute blocks.

**PUT** `https://baseurl/v1/tradeorder/blocks/action/executeBlocks`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/tradeorder/blocks/action/executeBlocks
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| blockIds | Number | :List of block ids. |

```json
Json is optional. Please dont pass json in case of execute all
{
"blockIds": [1,2]
}
```

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| message | String | Success message. |

```http
HTTP/1.1 200 OK
{
"message": "Blocks executed successfully."
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```


## Execute Blocks

This API execute blocks.

**PUT** `https://baseurl/v1/tradeorder/blocks/action/executeBlocks`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/tradeorder/blocks/action/executeBlocks
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| blockIds | Number | :List of block ids. |

```json
Json is optional. Please dont pass json in case of execute all
{
"blockIds": [1,2]
}
```

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| message | String | Success message. |

```http
HTTP/1.1 200 OK
{
"message": "Blocks executed successfully."
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```


## Get All trade blocks

This API get all blocks. isPending is otion to get only those block which have at least one tradeOrder as pending.

**GET** `https://baseurl/v1/tradeorder/blocks?tradeIds=29769,24656`

**Permission:** `Get only those order whose portfolios assignied to his team`

```bash
curl -i http://baseurl/v1/tradeorder/blocks?tradeIds=29769,24656
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | Blocks order Id. |
| action: | String | Action contains either buy or sell. |
| orderQty: | Decimal | Number of shares to be sell or buy |
| cumQty: | Decimal | The total number of shares that have been filled on the block order |
| leavesQty: | Decimal | The number of shares remaining to be filled on the block order |
| estimateAmount: | Decimal | Security Price * Order Qty |
| orderType: | String | Block order Type |
| price: | Decimal | The price used to stage the order. |
| avgPrice: | Decimal | The average execution price per share. |
| custodian: | String | Name of custodian. |
| security_id: | Number | Block related security id. |
| security_name: | String | Security name |
| security_symbol: | String | Secirity symbol |
| security_securityType: | String | Security type name |
| createdBy | String | Full Name of user who created the block order into the system. |
| createdDate | Date | Block creation date into application. |
| maturityDate | Date | Block maturity date. |
| allocationStatus_id | Number | Allocation status id |
| allocationStatus_name | Sring | Allocation status name |
| allocationId | Number | Allocation id |
| execInst | String | Block execution instructions |
| expireTime | Date | Block expiration time |
| fullSettDate | Date | Block full set trade |
| handlInst | String | Block handl instructions |
| isDiscretionary | Boolean | Block is discretionary |
| isAutoAllocate | Boolean | Tells whether the block order will automatically be allocated or not |
| longTermGain | Number | Block long term gain |
| masterAccountNumber | String | custodian master account |
| orderStatus_id | Number | Block order status id |
| orderStatus.name | Number | Block order status name |
| fixVersion | Number | Block fix version |
| settlementType.id | Number | Settlement type id |
| settlementType.name | Number | Settlement type name |
| cfiCode.id | Number | Cfi code id |
| cfiCode.name | Number | Cfi code name |
| positionEffect.id | Number | Position effect id |
| positionEffect.name | Number | Position effect name |
| orderCapacity.id | Number | Order Capacity effect id |
| orderCapacity.name | Number | Order Capacity name |
| clOrderId | Number |
| orderId | String | returned by the executing broker |
| pendingOrderStatus | String | Pending order status. |
| shortTermGain | Number | Block short term gain |
| stopPrice | Decimal | Block stop price |
| strikePrice | Decimal | Block strike price |
| limitPrice | Decimal | Block limitPrice |
| transactionTime | Date | Transation Time |
| isSolicited | Boolean | Block is solicited |
| isNeedAttention | Boolean | Block need attention or not |
| messageSequenceNumber | Number | Block message sequence number |
| lastPrice | Number | The price at which the last lot of the security was executed at |
| lastShare | Number | The number of shares in the last executed lot |
| lastText | String | Last message returned by the executing broker for the block order |
| lastTextType | String | This is used to indicate what type of message returned the last message |
| rejectreason | Sring | The reason why a block was rejected. |
| routing | Sring | Custodian.FixRouting. |
| cusip | Sring | The Cusip of the security being traded. Pulled from Security.Cusip column |
| blockName | Sring | A description of Action, Ticker and Status of the block order. |
| allocationRejectCode | Sring | The reason an allocation was rejected. |
| cancelRejectReason | Sring | The reason that a cancel request of the block order was rejected. |
| editedBy | Sring | Full Name of user who edited the block order into the system. |
| editedDate | Date | Block edit date into application. |
| tradedBy | Sring | User Name of the user who executes the block |
| canEdit | Boolean | Whether user can edit block or not |
| canExecute | Boolean | Whether user can execute block or not |

```http
HTTP/1.1 200 OK
[
{
"id": 1,
"action": "BUY",
"createdBy": "sales.main@orion.com",
"createdDate": "01/03/2017 09:56:53 AM",
"custodian": {
"id": 4,
"name": "Schwab"
},
"security": {
"id": 5661,
"name": "American Intl Group Inc",
"symbol": "AIG",
"securityType": "Equity"
},
"orderStatus": {
"id": 1,
"name": "Not sent"
},
"orderType": {
"id": 1,
"name": "Market"
},
"limitPrice": null,
"stopPrice": null,
"cumQty": null,
"leavesQty": null,
"avgPrice": null,
"masterAccountNumber": "SCH",
"routing": null,
"isAutoAllocate": false,
"allocationRejectCode": null,
"allocationStatus": {
"id": 2,
"name": "Sent"
},
"blockName": "BUY AIG-Not sent",
"cancelRejectReason": null,
"cfiCode": {
"id": null,
"name": null,
"units": null
},
"clOrderId": null,
"cusip": null,
"duration": {
"id": null,
"name": null
},
"executionInst": null,
"expireTime": null,
"fullSettDate": null,
"handlInst": "Automated execution order, private, no Broker intervention",
"lastPrice": null,
"lastShare": null,
"lastText": null,
"lastTextType": "none",
"isDiscretionary": false,
"longTermGain": 1,
"messageSequenceNumber": 0,
"maturityDate": null,
"isNeedAttention": false,
"orderCapacity": {
"id": null
},
"orderId": null,
"pendingOrderStatus": null,
"positionEffect": {
"id": null
},
"settlementType": {
"id": null,
"name": null
},
"shortTermGain": 1,
"isSolicited": false,
"strikePrice": null,
"tradedBy": "sales.main@orion.com",
"transactionTime": null,
"canEdit": false,
"canExecute": false,
"editedBy": "sales.main@orion.com",
"editedDate": "01/03/2017 09:57:00 AM"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get All Awating Acceptance blocks

This API get all blocks. isPending is otion to get only those block which have at least one tradeOrder as pending.

**GET** `https://baseurl/v1/tradeorder/blocks?tradeIds=29769,24656&amp;awaitingAcceptance=true`

**Permission:** `Get only those order whose portfolios assignied to his team`

```bash
curl -i http://baseurl/v1/tradeorder/blocks?tradeIds=29769,24656&awaitingAcceptance=true
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | Blocks order Id. |
| action: | String | Action contains either buy or sell. |
| orderQty: | Decimal | Number of shares to be sell or buy |
| cumQty: | Decimal | The total number of shares that have been filled on the block order |
| leavesQty: | Decimal | The number of shares remaining to be filled on the block order |
| estimateAmount: | Decimal | Security Price * Order Qty |
| orderType: | String | Block order Type |
| price: | Decimal | The price used to stage the order. |
| avgPrice: | Decimal | The average execution price per share. |
| custodian: | String | Name of custodian. |
| security_id: | Number | Block related security id. |
| security_name: | String | Security name |
| security_symbol: | String | Secirity symbol |
| security_securityType: | String | Security type name |
| createdBy | String | Full Name of user who created the block order into the system. |
| createdDate | Date | Block creation date into application. |
| maturityDate | Date | Block maturity date. |
| allocationStatus_id | Number | Allocation status id |
| allocationStatus_name | Sring | Allocation status name |
| allocationId | Number | Allocation id |
| execInst | String | Block execution instructions |
| expireTime | Date | Block expiration time |
| fullSettDate | Date | Block full set trade |
| handlInst | String | Block handl instructions |
| isDiscretionary | Boolean | Block is discretionary |
| isAutoAllocate | Boolean | Tells whether the block order will automatically be allocated or not |
| longTermGain | Number | Block long term gain |
| masterAccountNumber | String | custodian master account |
| orderStatus_id | Number | Block order status id |
| orderStatus.name | Number | Block order status name |
| fixVersion | Number | Block fix version |
| settlementType.id | Number | Settlement type id |
| settlementType.name | Number | Settlement type name |
| cfiCode.id | Number | Cfi code id |
| cfiCode.name | Number | Cfi code name |
| positionEffect.id | Number | Position effect id |
| positionEffect.name | Number | Position effect name |
| orderCapacity.id | Number | Order Capacity effect id |
| orderCapacity.name | Number | Order Capacity name |
| clOrderId | Number |
| orderId | String | returned by the executing broker |
| pendingOrderStatus | String | Pending order status. |
| shortTermGain | Number | Block short term gain |
| stopPrice | Decimal | Block stop price |
| strikePrice | Decimal | Block strike price |
| limitPrice | Decimal | Block limitPrice |
| transactionTime | Date | Transation Time |
| isSolicited | Boolean | Block is solicited |
| isNeedAttention | Boolean | Block need attention or not |
| messageSequenceNumber | Number | Block message sequence number |
| lastPrice | Number | The price at which the last lot of the security was executed at |
| lastShare | Number | The number of shares in the last executed lot |
| lastText | String | Last message returned by the executing broker for the block order |
| lastTextType | String | This is used to indicate what type of message returned the last message |
| rejectreason | Sring | The reason why a block was rejected. |
| routing | Sring | Custodian.FixRouting. |
| cusip | Sring | The Cusip of the security being traded. Pulled from Security.Cusip column |
| blockName | Sring | A description of Action, Ticker and Status of the block order. |
| allocationRejectCode | Sring | The reason an allocation was rejected. |
| cancelRejectReason | Sring | The reason that a cancel request of the block order was rejected. |
| editedBy | Sring | Full Name of user who edited the block order into the system. |
| editedDate | Date | Block edit date into application. |
| tradedBy | Sring | User Name of the user who executes the block |
| canEdit | Boolean | Whether user can edit block or not |
| canExecute | Boolean | Whether user can execute block or not |

```http
HTTP/1.1 200 OK
[
{
"id": 1,
"action": "BUY",
"createdBy": "sales.main@orion.com",
"createdDate": "01/03/2017 09:56:53 AM",
"custodian": {
"id": 4,
"name": "Schwab"
},
"security": {
"id": 5661,
"name": "American Intl Group Inc",
"symbol": "AIG",
"securityType": "Equity"
},
"orderStatus": {
"id": 1,
"name": "Not sent"
},
"orderType": {
"id": 1,
"name": "Market"
},
"limitPrice": null,
"stopPrice": null,
"cumQty": null,
"leavesQty": null,
"avgPrice": null,
"masterAccountNumber": "SCH",
"routing": null,
"isAutoAllocate": false,
"allocationRejectCode": null,
"allocationStatus": {
"id": 2,
"name": "Sent"
},
"blockName": "BUY AIG-Not sent",
"cancelRejectReason": null,
"cfiCode": {
"id": null,
"name": null,
"units": null
},
"clOrderId": null,
"cusip": null,
"duration": {
"id": null,
"name": null
},
"executionInst": null,
"expireTime": null,
"fullSettDate": null,
"handlInst": "Automated execution order, private, no Broker intervention",
"lastPrice": null,
"lastShare": null,
"lastText": null,
"lastTextType": "none",
"isDiscretionary": false,
"longTermGain": 1,
"messageSequenceNumber": 0,
"maturityDate": null,
"isNeedAttention": false,
"orderCapacity": {
"id": null
},
"orderId": null,
"pendingOrderStatus": null,
"positionEffect": {
"id": null
},
"settlementType": {
"id": null,
"name": null
},
"shortTermGain": 1,
"isSolicited": false,
"strikePrice": null,
"tradedBy": "sales.main@orion.com",
"transactionTime": null,
"canEdit": false,
"canExecute": false,
"editedBy": "sales.main@orion.com",
"editedDate": "01/03/2017 09:57:00 AM"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get Block Detail

This API gets block detail by id.

**GET** `https://baseurl/v1/tradeorder/blocks/:id`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/tradeorder/blocks/3
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | : Block id. |
| price: | Decimal | The price used to stage the order. |
| lastPriceUpdateTime | Date | Security Price last update Date |
| createdBy: | String | Full Name of user who created the Block into the system. |
| createdDate: | Date | Block creation date into application. |
| editedBy: | String | Full Name of user who edited the block into the system. |
| editedDate: | Date | Block edit date into application. |
| orderQty: | Number | Number of shares to be sell or buy |
| security_id: | Number | Block related security id. |
| security_name: | String | Security name |
| security_symbol: | String | Secirity symbol |
| security_securityType: | String | Security type name |
| custodian_id: | Number | Id of custodian. |
| custodian_name: | String | Name of custodian |
| stopPrice: | Number | Block stop price. |
| strikePrice: | Number | Block strike price. |
| limitPrice: | Number | Block limit price. |
| orderType_id: | Number | Order type id |
| orderType_name: | String | Order Type name |
| qualifier_id: | Number | Qualifier id |
| qualifier_name: | String | Qualifier name |
| duration_id: | Number | Duration id |
| duration.name: | String | Duration name |
| action_id: | Number | Block action id |
| action_name: | String | Block action name |
| positionEffect_id: | Number | Position Effect id |
| positionEffect_name: | String | Position Effect name |
| cfiCode_id: | Number | CFI Code id |
| cfiCode_name: | String | CFI Code name |
| orderCapacity_id: | Number | Order Capacity id |
| orderCapacity_name: | String | Order Capacity name |
| isDiscretionary: | Boolean | Block isDiscretionary. |
| isSolicited: | Boolean | Block isSolicited. |
| isAutoAllocate: | Boolean | Block isAutoAllocate. |
| maturityDate: | Date | Block maturityDate |
| avgPrice: | Number | Avg Price |

```http
HTTP/1.1 200 OK
{
"id": 1,
"price": 64,
"lastPriceUpdateTime": "2016-12-26T06:47:47.000Z",
"createdBy": "sales.main@orion.com",
"createdDate": "2017-01-03T04:26:53.000Z",
"editedBy": "sales.main@orion.com",
"editedDate": "2017-01-03T09:24:32.000Z",
"orderQty": 1,
"security": {
"symbol": "AIG",
"name": "American Intl Group Inc",
"id": 5661,
"securityType": "Equity"
},
"custodian": {
"id": 4,
"name": "Schwab"
},
"limitPrice": null,
"stopPrice": null,
"orderType": {
"id": 1,
"name": "Market"
},
"qualifier": {
"id": 1,
"name": "None"
},
"duration": {
"id": 1,
"name": "Day"
},
"action": {
"id": 1,
"name": "BUY"
},
"isDiscretionary": 0,
"isSolicited": 0,
"isAutoAllocate": 0,
"strikePrice": 0,
"maturityDate": null,
"cfiCode": {
"id": 1,
"name": "Call"
},
"positionEffect": {
"id": 1,
"name": "Open"
},
"orderCapacity": {
"id": 1,
"name": "Agency"
},
avgPrice:1
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get CFI Codes

This API Get CFI Codes

**GET** `https://baseurl/v1/tradeorder/blocks/cfiCodes`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/tradeorder/blocks/cfiCodes
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | CFI Code Id. |
| name | String | CFI Code name |

```http
HTTP/1.1 200 OK
[{
"id": 10,
"name": "Put",
}]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get Order Capacities

This API Get All Order Capacities

**GET** `https://baseurl/v1/tradeorder/blocks/orderCapacities`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/tradeorder/blocks/orderCapacities
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | CFI Code Id. |
| name | String | CFI Code name |

```http
HTTP/1.1 200 OK
[{
"id": 10,
"name": "Put",
}]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get Position Effect

This API Get All Position Effects.

**GET** `https://baseurl/v1/tradeorder/blocks/positionEffects`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/tradeorder/blocks/positionEffects
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | Position Effect Id. |
| name | String | Position Effect name |

```http
HTTP/1.1 200 OK
[{
"id": 1,
"name": "Open"
}]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Mark Status AS Done For Day

This API will set order status Done for Day of blocks which are 'Partially Filled'.

**PUT** `https://baseurl/v1/tradeorder/blocks/action/markStatusDoneForDay`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/tradeorder/blocks/action/markStatusDoneForDay
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| blockIds | Number | :List of block ids. |

```json
{
"blockIds": [
1,
2
]
}
```

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| message | String | Success message. |

```http
HTTP/1.1 200 OK
{
"message": "Blocks executed successfully."
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```


## Update Allocation Reject Reason

This API will update reject reason of block.

**PUT** `https://baseurl/v1/tradeorder/blocks/{id}/action/allocationRejectReason`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/tradeorder/blocks/{id}/action/allocationRejectReason
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| id: | Number | block Id |
| allocationRejectReasonId: | Number | Reject Reason Id |

```json
{
"id": 1,
"allocationRejectReasonId": 1
}
```

```http
HTTP/1.1 401 Unauthorized
{
"message": "Reject reason updated successfully "
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Update Allocation Status

This API will update allocation status of block and underlaying trades.

**PUT** `https://baseurl/v1/tradeorder/blocks/{id}/action/allocationStatus`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/tradeorder/blocks/{id}/action/allocationStatus
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| id: | Number | block id |
| allocationStatusId: | Number | selected allocation status id |

```json
{
"id": 1,
"allocationStatusId": "1"
}
```

```http
HTTP/1.1 401 Unauthorized
{
"message": "Allocation status updated successfully "
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Update Avg Price

This API will update avg price of block.

**PUT** `https://baseurl/v1/tradeorder/blocks/{id}/action/avgPrice`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/tradeorder/blocks/{id}/action/avgPrice
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| id: | Number | block Id |
| avgPrice: | Decimal | AVG Price |

```json
{
"id": 1,
"avgPrice": "1"
}
```

```http
HTTP/1.1 401 Unauthorized
{
"message": "Avg price updated successfully "
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Update Cancel Reject Reason

This API will update reject reason of block.

**PUT** `https://baseurl/v1/tradeorder/blocks/{id}/action/cancelRejectReason`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/tradeorder/blocks/{id}/action/cancelRejectReason
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| id: | Number | block Id |
| cancelRejectReasonId: | Number | Reject Reason Id |

```json
{
"id": 1,
"cancelRejectReasonId": 1
}
```

```http
HTTP/1.1 401 Unauthorized
{
"message": "Cancel reject reason updated successfully "
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Update Cum Quantity

This API will update cum quantity of block.

**PUT** `https://baseurl/v1/tradeorder/blocks/{id}/action/cumQty`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/tradeorder/blocks/{id}/action/cumQty
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| id: | Number | block id |
| cumQty: | Decimal | Cum Quantity |

```json
{
"id": 1,
"cumQty": "1"
}
```

```http
HTTP/1.1 401 Unauthorized
{
"message": "Cum quantity updated successfully "
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Update Order Status

This API will update order status of block and underlaying trades.

**PUT** `https://baseurl/v1/tradeorder/blocks/:id/action/orderStatus`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/tradeorder/blocks/:id/action/orderStatus
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| id: | Number | Block Id |
| orderStatusId: | Number | Selected orderStatusId |

```json
{
"id": 1,
"orderStatusId": 1
}
```

```http
HTTP/1.1 401 Unauthorized
{
"message": "Order status updated successfully "
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Update Reject Reason

This API will update reject reason of block.

**PUT** `https://baseurl/v1/tradeorder/blocks/{id}/action/rejectReason`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/tradeorder/blocks/{id}/action/rejectReason
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| id: | Number | block Id |
| rejectReasonId: | Number | Reject Reason Id |

```json
{
"id": 1,
"rejectReasonId": 1
}
```

```http
HTTP/1.1 401 Unauthorized
{
"message": "Reject reason updated successfully "
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Update Some Block Fields

This API will update some fields of block. AvgPrice and orderStatus will update in case of manual order type only.

**PATCH** `https://baseurl/v1/tradeorder/blocks/:id`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/tradeorder/blocks/3
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| id: | Number | Block order id |
| custodianId: | Number | Custodian id. |
| orderQty: | Number | Number of shares to be sell or buy |
| stopPrice: | Number | Block stop price. |
| limitPrice: | Number | Block limit price. |
| orderTypeId: | Number | Order type id |
| qualifierId: | Number | Qualifier id |
| durationId: | Number | Duration id |
| strikeprice: | Decimal | Strike price in case of option security type. |
| positionId: | Number | Position effect id in case of option security type. |
| orderCapacityId: | Number | Order capacity id in case of option security type. |
| cfiCodeId: | Number | Cfi code id in case of option security type. |
| maturityDate: | Date | Maturity date in case of option security type. |
| isDiscretionary: | Boolean | Block isDiscretionary. |
| isSolicited: | Boolean | Block isSolicited. |
| isAutoAllocate: | Boolean | Block isAutoAllocate. |
| isSendImmediately: | Boolean | Block to send for process. |
| avgPrice: | Number | AvgPrice ofblock. |
| orderStatusId: | Number | Order staus of block |

```json
{
"id": 1,
"custodianId": 1,
"orderQty": 6,
"limitPrice": 8,
"stopPrice": 7,
"orderTypeId": 1,
"qualifierId": 2,
"durationId": 1,
"strikePrice": 1,
"positionEffectId": 1,
"cfiCodeId": 1,
"orderCapacityId": 1,
"maturityDate": null,
"isDiscretionary": 0,
"isSolicited": 1,
"isAutoAllocate": 1,
"isSendImmediately": 1,
"isSendAndUpdate": 1,
"avgPrice": 0,
"orderStatusId": 1
}
```

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | : Block id. |
| price: | Decimal | The price used to stage the order. |
| createdBy: | String | Full Name of user who created the Block into the system. |
| createdDate: | Date | Block creation date into application. |
| editedBy: | String | Full Name of user who edited the block into the system. |
| editedDate: | Date | Block edit date into application. |
| orderQty: | Number | Number of shares to be sell or buy |
| security_id: | Number | Block related security id. |
| security_name: | String | Security name |
| security_symbol: | String | Secirity symbol |
| security_securityType: | String | Security type name |
| custodian_id: | Number | Id of custodian. |
| custodian_name: | String | Name of custodian |
| stopPrice: | Number | Block stop price. |
| strikePrice: | Number | Block strike price. |
| limitPrice: | Number | Block limit price. |
| orderType_id: | Number | Order type id |
| orderType_name: | String | Order Type name |
| qualifier_id: | Number | Qualifier id |
| qualifier_name: | String | Qualifier name |
| duration_id: | Number | Duration id |
| duration.name: | String | Duration name |
| action_id: | Number | Block action id |
| action_name: | String | Block action name |
| positionEffect_id: | Number | Position Effect id |
| positionEffect_name: | String | Position Effect name |
| cfiCode_id: | Number | CFI Code id |
| cfiCode_name: | String | CFI Code name |
| orderCapacity_id: | Number | Order Capacity id |
| orderCapacity_name: | String | Order Capacity name |
| isDiscretionary: | Boolean | Block isDiscretionary. |
| isSolicited: | Boolean | Block isSolicited. |
| isAutoAllocate: | Boolean | Block isAutoAllocate. |
| maturityDate: | Date | Block maturityDate |

```http
HTTP/1.1 200 OK
{
"id": 1,
"price": 64,
"createdBy": "sales.main@orion.com",
"createdDate": "2017-01-03T04:26:53.000Z",
"editedBy": "sales.main@orion.com",
"editedDate": "2017-01-03T09:24:32.000Z",
"orderQty": 1,
"security": {
"symbol": "AIG",
"name": "American Intl Group Inc",
"id": 5661,
"securityType": "Equity"
},
"custodian": {
"id": 4,
"name": "Schwab"
},
"limitPrice": null,
"stopPrice": null,
"orderType": {
"id": 1,
"name": "Market"
},
"qualifier": {
"id": 1,
"name": "None"
},
"duration": {
"id": 1,
"name": "Day"
},
"action": {
"id": 1,
"name": "BUY"
},
"isDiscretionary": 0,
"isSolicited": 0,
"isAutoAllocate": 0,
"strikePrice": 0,
"maturityDate": null,
"cfiCode": {
"id": 1,
"name": "Call"
},
"positionEffect": {
"id": 1,
"name": "Open"
},
"orderCapacity": {
"id": 1,
"name": "Agency"
}
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


---

# Closed Trades


## Count of Closed Trades

This API gets deleted trades count.

**GET** `https://baseurl/v1/tradeorder/closedTrades/count`

**Permission:** `Count only those closed trades whose portfolios assignied to his team`

```bash
curl -i http://baseurl/v1/tradeorder/closedTrades/count
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| noOfClosedTrades: | Number | Count of closed trades. |

```http
HTTP/1.1 200 OK
{
noOfDeletedTrades:200
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get All Closed blocks

This API get all blocks. isPending is otion to get only those block which have at least one tradeOrder as pending.

**GET** `https://baseurl/v1/tradeorder/closedTrades/getBlocks?startDate=2017-01-8&amp;endDate=2017-01-17&amp;tradeIds=1`

**Permission:** `Get only those order whose portfolios assignied to his team`

```bash
curl -i http://baseurl/v1/tradeorder/closedTrades/getBlocks?startDate=2017-01-8&endDate=2017-01-17&tradeIds=1
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | Blocks order Id. |
| action: | String | Action contains either buy or sell. |
| orderQty: | Decimal | Number of shares to be sell or buy |
| cumQty: | Decimal | The total number of shares that have been filled on the block order |
| leavesQty: | Decimal | The number of shares remaining to be filled on the block order |
| estimateAmount: | Decimal | Security Price * Order Qty |
| orderType: | String | Block order Type |
| price: | Decimal | The price used to stage the order. |
| avgPrice: | Decimal | The average execution price per share. |
| custodian: | String | Name of custodian. |
| security_id: | Number | Block related security id. |
| security_name: | String | Security name |
| security_symbol: | String | Secirity symbol |
| security_securityType: | String | Security type name |
| createdBy | String | Full Name of user who created the block order into the system. |
| createdDate | Date | Block creation date into application. |
| maturityDate | Date | Block maturity date. |
| allocationStatus_id | Number | Allocation status id |
| allocationStatus_name | Sring | Allocation status name |
| allocationId | Number | Allocation id |
| execInst | String | Block execution instructions |
| expireTime | Date | Block expiration time |
| fullSettDate | Date | Block full set trade |
| handlInst | String | Block handl instructions |
| isDiscretionary | Boolean | Block is discretionary |
| isAutoAllocate | Boolean | Tells whether the block order will automatically be allocated or not |
| longTermGain | Number | Block long term gain |
| masterAccountNumber | String | custodian master account |
| orderStatus_id | Number | Block order status id |
| orderStatus.name | Number | Block order status name |
| fixVersion | Number | Block fix version |
| settlementType.id | Number | Settlement type id |
| settlementType.name | Number | Settlement type name |
| cfiCode.id | Number | Cfi code id |
| cfiCode.name | Number | Cfi code name |
| positionEffect.id | Number | Position effect id |
| positionEffect.name | Number | Position effect name |
| orderCapacity.id | Number | Order Capacity effect id |
| orderCapacity.name | Number | Order Capacity name |
| clOrderId | Number |
| orderId | String | returned by the executing broker |
| pendingOrderStatus | String | Pending order status. |
| shortTermGain | Number | Block short term gain |
| stopPrice | Decimal | Block stop price |
| strikePrice | Decimal | Block strike price |
| limitPrice | Decimal | Block limitPrice |
| transactionTime | Date | Transation Time |
| isSolicited | Boolean | Block is solicited |
| isNeedAttention | Boolean | Block need attention or not |
| messageSequenceNumber | Number | Block message sequence number |
| lastPrice | Number | The price at which the last lot of the security was executed at |
| lastShare | Number | The number of shares in the last executed lot |
| lastText | String | Last message returned by the executing broker for the block order |
| lastTextType | String | This is used to indicate what type of message returned the last message |
| rejectreason | Sring | The reason why a block was rejected. |
| routing | Sring | Custodian.FixRouting. |
| cusip | Sring | The Cusip of the security being traded. Pulled from Security.Cusip column |
| blockName | Sring | A description of Action, Ticker and Status of the block order. |
| allocationRejectCode | Sring | The reason an allocation was rejected. |
| cancelRejectReason | Sring | The reason that a cancel request of the block order was rejected. |
| editedBy | Sring | Full Name of user who edited the block order into the system. |
| editedDate | Date | Block edit date into application. |
| tradedBy | Sring | User Name of the user who executes the block |
| canEdit | Boolean | Whether user can edit block or not |
| canExecute | Boolean | Whether user can execute block or not |

```http
HTTP/1.1 200 OK
[
{
"id": 1,
"action": "BUY",
"createdBy": "sales.main@orion.com",
"createdDate": "01/03/2017 09:56:53 AM",
"custodian": {
"id": 4,
"name": "Schwab"
},
"security": {
"id": 5661,
"name": "American Intl Group Inc",
"symbol": "AIG",
"securityType": "Equity"
},
"orderStatus": {
"id": 1,
"name": "Not sent"
},
"orderType": {
"id": 1,
"name": "Market"
},
"limitPrice": null,
"stopPrice": null,
"cumQty": null,
"leavesQty": null,
"avgPrice": null,
"masterAccountNumber": "SCH",
"routing": null,
"isAutoAllocate": false,
"allocationRejectCode": null,
"allocationStatus": {
"id": 2,
"name": "Sent"
},
"blockName": "BUY AIG-Not sent",
"cancelRejectReason": null,
"cfiCode": {
"id": null,
"name": null,
"units": null
},
"clOrderId": null,
"cusip": null,
"duration": {
"id": null,
"name": null
},
"executionInst": null,
"expireTime": null,
"fullSettDate": null,
"handlInst": "Automated execution order, private, no Broker intervention",
"lastPrice": null,
"lastShare": null,
"lastText": null,
"lastTextType": "none",
"isDiscretionary": false,
"longTermGain": 1,
"messageSequenceNumber": 0,
"maturityDate": null,
"isNeedAttention": false,
"orderCapacity": {
"id": null
},
"orderId": null,
"pendingOrderStatus": null,
"positionEffect": {
"id": null
},
"settlementType": {
"id": null,
"name": null
},
"shortTermGain": 1,
"isSolicited": false,
"strikePrice": null,
"tradedBy": "sales.main@orion.com",
"transactionTime": null,
"canEdit": false,
"canExecute": false,
"editedBy": "sales.main@orion.com",
"editedDate": "01/03/2017 09:57:00 AM"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get All Closed Trades

This API get all closed trades. portfolio id is optional. This will work as filter of portfolio id

**GET** `https://baseurl/v1/tradeorder/closedTrades?startDate=2017-01-8&amp;endDate=2017-01-17&amp;blockId=1`

**Permission:** `Get only those Closed trades whose portfolios assignied to his team`

```bash
curl -i http://baseurl/v1/tradeorder/closedTrades?startDate=2017-01-8&endDate=2017-01-17&blockId=1
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | Trade order Id. |
| isEnabled: | Boolean | It indicates wheter trade order is enable ot not. |
| account_id | Number | Account id |
| account_accountId: | Number | Account id of orion connect |
| account_name: | String | Account name |
| account_number: | String | Account number |
| account_value | Decimal | Account value |
| account.type | Decimal | Account type |
| warningMesage: | String | Text message containing warnings about the trade. |
| action: | String | Action contains either buy or sell. |
| orderQty: | Number | Number of shares to be sell or buy |
| orderPercent: | Decimal | The percent of position being sold or buy |
| cashValuePostTrade: | Decimal | The cash balance remaining in the account after the trade orders |
| estimateAmount: | Decimal | Security Price * Order Qty |
| orderType: | String | Trade order Type |
| price: | Decimal | The price used to stage the order. |
| tradingInstructions: | String | Instructions of trade. |
| custodian: | String | Name of custodian. |
| security_id: | Number | Trade related security id. |
| security_name: | String | Security name |
| security_symbol: | String | Secirity symbol |
| security_securityType: | String | Security type name |
| portfolio_id: | Number | Portfolio id |
| portfolio_name: | String | Portfolio name |
| isSleevedPortfolio: | Boolean | Portfolio sleeve or not |
| createdBy | String | Full Name of user who created the Trade order into the system. |
| createdDate | Date | Trade order creation date into application. |
| holdUntill | Date | Trade order hold until date. |
| model_id | Number | Model Id. |
| model_name | String | Model name. |
| allocationStatus_id | Number | Allocation status id |
| allocationStatus_name | Sring | Allocation status name |
| approvalStatus_id | Number | ApprovalStatus id |
| allrovalStatus.name | Sring | Approval status name |
| holding_id | Number | Holding id |
| holding_name | Sring | Holding name |
| blockId | Number | Block id |
| cashValue | Decimal | Available cash in the account |
| daysUntilLongTerm | Number | No. of days from Acquired date to current date |
| execInst | String | Trade execution instructions |
| expireTime | Date | Trade expiration time |
| fullSetDate | Date | Trade full set trade |
| gainLossMessage | String | Trade gain loss message |
| handlInst | String | Trade handl instructions |
| hasBlock | Boolean | Trade is block or not |
| instanceId | Number | Trade instance id |
| instanceNotes | String | Trade instance instructions |
| isDiscretionary | Boolean | Trade is discretionary |
| locateReqd | Boolean | Trade is locate required |
| longTermGain | Number | Trade long term gain |
| managementStyle | Number | Trade management style |
| masterAccountNumber | String | custodian master account |
| marketValue | Decimal | Trade market value |
| notes | Number | Trade notes |
| orderStatus_id | Number | Trade order status id |
| orderStatus.name | Number | Trade order status name |
| originalOrderQty | Number | Original quantity of order during trade generation |
| qualified | String | Trade is qualified |
| rebalanceLevel | String | Trade rebalance level |
| reinvestDividends | Boolean | Trade reinvest dividends |
| reinvestLongTermGains | Boolean | Trade long term gain |
| reinvestShortTermGains | Boolean | Trade short term gain |
| rowVersion | Number | Trade row version |
| settlementType.id | Number | Settlement type id |
| settlementType.name | Number | Settlement type name |
| pendingUnits | Number | Trade pending units |
| shortTermGain | Number | Trade short term gain |
| stopPrice | Number | Trade stop price |
| timeInForce | Number | Trade time in force |
| totalGain | Number | Trade total gain |
| tradePercentOfAccount | Number | Trade percent amount |
| transactionId | Number | Transation id |
| washAmount | Decimal | Wash amount |
| washUnits | Number | Wash units |
| assetClassName | String | Security asset class name |
| clientDirect | String | Trade is client direct |
| minimmCashBalance | Decimal | Trade minimy=um balance |
| repNotes | String | Repersentative notes |
| representativeName | String | Repersentative name |
| isSolicited | Boolean | Trade is solicited |
| editedBy | Sring | Full Name of user who edited the Trade order into the system. |
| editedDate | Date | Trade order edit date into application. |
| canEdit | Boolean | Whether user can edit trade or not |
| canExecute | Boolean | Whether user can execute trade or not |
| shortCodeMessages | String | Trade Error messages |

```http
HTTP/1.1 200 OK
[{
"id": 5,
"isEnabled": 0,
"account": {
"id": 80004,
"accountId": "80004",
"name": "Kane, Jr.Fredric",
"number": "TE1001",
"value" : null,
"type" : null
},
"warningMessage": null,
"action": "BUY",
"orderQty": 6,
"orderPercent": 50,
"cashValuePostTrade": null,
"estimateAmmount": 41304,
"orderType": null,
"price": 61,
"createdBy": "prime@tgi.com",
"createdDate": "2016-09-13T04:33:36.000Z",
"tradingInstructions": null,
"custodian": "Prime",
"security": {
"id": 7,
"name": null,
"symbol": null,
"securityType": null
},
"portfolio": {
"id": 15,
"name": "P1001",
"isSleevedPortfolio": true
},
"model": {
"id": 1,
"name": "testModel"
},
"holdUntil": null,
"allocationStatus":{
"id":3,
"name":"Accepted"
},
"approvalStatus":{
"id":3,
"name":"Pending Approval"
},
"holding":{
"id":2,
"units":100
},
"blockId":1,
"cashValue":1000,
"daysUntilLongTerm":20,
"execInst":"None",
"expireTime":null,
"fullSetDate":null,
"gainLossMessage":null,
"handlInst":"private",
"hasBlock":false,
"instanceId":1,
"instanceNotes":null,
"locateReqd":null,
"longTermGain":0,
"managementStyle":"",
"marketValue":0,
"notes":null,
"orderStatus":{
"id":1,
"name":"Filled"
},
"originalOrderQty":20,
"qualified":null,
"rebalanceLevel":"Portfolio",
"reinvestDividends":true,
"reinvestLongTermGains":false,
"reinvestShortTermGains":false,
"rowVersion":2,
"settlementType":{
"id":2,
"name":"cash"
},
"pendingUnits":2,
"shortTermGain":200,
"stopPrice":2000,
"timeInForce":"Day",
"totalGain":400,
"tradePercentOfAccount":20.08,
"transactionId":null,
"washUnits":20,
"assetClassName":"cash",
"clientDirect":false,
"minimmCashBalance":300,
"repNotes":null,
"representativeName":"orion test",
"isAutoAllocate":null,
"editedBy":"prime@tgi.com",
"editedDate":"2016-11-07T03:34:25.000Z",
"washAmount":200,
"canEdit" : true,
"canExecute" : true,
"shortCodeMessages":AccountNeg;ProductZer
}]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


---

# Deleted Trades


## Count of Deleted Trades

This API gets deleted trades count.

**GET** `https://baseurl/v1/tradeorder/deletedTrades/count`

**Permission:** `Count only those deleted trades whose portfolios assignied to his team`

```bash
curl -i http://baseurl/v1/tradeorder/deletedTrades/count
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| noOfTradeBlocks: | Number | Count of blocks. |

```http
HTTP/1.1 200 OK
{
noOfDeletedTrades:200
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get All Deleted Trades

This API get all deleted trades. portfolio id is optional. This will work as filter of portfolio id

**GET** `https://baseurl/v1/tradeorder/deletedTrades?startDate=2017-01-8&amp;endDate=2017-01-17`

**Permission:** `Get only those deleted trades whose portfolios assignied to his team`

```bash
curl -i http://baseurl/v1/tradeorder/deletedTrades?startDate=2017-01-8&endDate=2017-01-17
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | Trade order Id. |
| isEnabled: | Boolean | It indicates wheter trade order is enable ot not. |
| account_id | Number | Account id |
| account_accountId: | Number | Account id of orion connect |
| account_name: | String | Account name |
| account_number: | String | Account number |
| account_value | Decimal | Account value |
| account.type | Decimal | Account type |
| warningMesage: | String | Text message containing warnings about the trade. |
| action: | String | Action contains either buy or sell. |
| orderQty: | Number | Number of shares to be sell or buy |
| orderPercent: | Decimal | The percent of position being sold or buy |
| cashValuePostTrade: | Decimal | The cash balance remaining in the account after the trade orders |
| estimateAmount: | Decimal | Security Price * Order Qty |
| orderType: | String | Trade order Type |
| price: | Decimal | The price used to stage the order. |
| tradingInstructions: | String | Instructions of trade. |
| custodian: | String | Name of custodian. |
| security_id: | Number | Trade related security id. |
| security_name: | String | Security name |
| security_symbol: | String | Secirity symbol |
| security_securityType: | String | Security type name |
| portfolio_id: | Number | Portfolio id |
| portfolio_name: | String | Portfolio name |
| isSleevedPortfolio: | Boolean | Portfolio sleeve or not |
| createdBy | String | Full Name of user who created the Trade order into the system. |
| createdDate | Date | Trade order creation date into application. |
| holdUntill | Date | Trade order hold until date. |
| model_id | Number | Model Id. |
| model_name | String | Model name. |
| allocationStatus_id | Number | Allocation status id |
| allocationStatus_name | Sring | Allocation status name |
| approvalStatus_id | Number | ApprovalStatus id |
| allrovalStatus.name | Sring | Approval status name |
| holding_id | Number | Holding id |
| holding_name | Sring | Holding name |
| blockId | Number | Block id |
| cashValue | Decimal | Available cash in the account |
| daysUntilLongTerm | Number | No. of days from Acquired date to current date |
| execInst | String | Trade execution instructions |
| expireTime | Date | Trade expiration time |
| fullSetDate | Date | Trade full set trade |
| gainLossMessage | String | Trade gain loss message |
| handlInst | String | Trade handl instructions |
| hasBlock | Boolean | Trade is block or not |
| instanceId | Number | Trade instance id |
| instanceNotes | String | Trade instance instructions |
| isDiscretionary | Boolean | Trade is discretionary |
| locateReqd | Boolean | Trade is locate required |
| longTermGain | Number | Trade long term gain |
| managementStyle | Number | Trade management style |
| masterAccountNumber | String | custodian master account |
| marketValue | Decimal | Trade market value |
| notes | Number | Trade notes |
| orderStatus_id | Number | Trade order status id |
| orderStatus.name | Number | Trade order status name |
| originalOrderQty | Number | Original quantity of order during trade generation |
| qualified | String | Trade is qualified |
| rebalanceLevel | String | Trade rebalance level |
| reinvestDividends | Boolean | Trade reinvest dividends |
| reinvestLongTermGains | Boolean | Trade long term gain |
| reinvestShortTermGains | Boolean | Trade short term gain |
| rowVersion | Number | Trade row version |
| settlementType.id | Number | Settlement type id |
| settlementType.name | Number | Settlement type name |
| pendingUnits | Number | Trade pending units |
| shortTermGain | Number | Trade short term gain |
| stopPrice | Number | Trade stop price |
| timeInForce | Number | Trade time in force |
| totalGain | Number | Trade total gain |
| tradePercentOfAccount | Number | Trade percent amount |
| transactionId | Number | Transation id |
| washAmount | Decimal | Wash amount |
| washUnits | Number | Wash units |
| assetClassName | String | Security asset class name |
| clientDirect | String | Trade is client direct |
| minimmCashBalance | Decimal | Trade minimy=um balance |
| repNotes | String | Repersentative notes |
| representativeName | String | Repersentative name |
| isSolicited | Boolean | Trade is solicited |
| editedBy | Sring | Full Name of user who edited the Trade order into the system. |
| editedDate | Date | Trade order edit date into application. |
| canEdit | Boolean | Whether user can edit trade or not |
| canExecute | Boolean | Whether user can execute trade or not |
| shortCodeMessages | String | Trade Error messages |

```http
HTTP/1.1 200 OK
[{
"id": 5,
"isEnabled": 0,
"account": {
"id": 80004,
"accountId": "80004",
"name": "Kane, Jr.Fredric",
"number": "TE1001",
"value" : null,
"type" : null
},
"warningMessage": null,
"action": "BUY",
"orderQty": 6,
"orderPercent": 50,
"cashValuePostTrade": null,
"estimateAmmount": 41304,
"orderType": null,
"price": 61,
"createdBy": "prime@tgi.com",
"createdDate": "2016-09-13T04:33:36.000Z",
"tradingInstructions": null,
"custodian": "Prime",
"security": {
"id": 7,
"name": null,
"symbol": null,
"securityType": null
},
"portfolio": {
"id": 15,
"name": "P1001",
"isSleevedPortfolio": true
},
"model": {
"id": 1,
"name": "testModel"
},
"holdUntil": null,
"allocationStatus":{
"id":3,
"name":"Accepted"
},
"approvalStatus":{
"id":3,
"name":"Pending Approval"
},
"holding":{
"id":2,
"units":100
},
"blockId":1,
"cashValue":1000,
"daysUntilLongTerm":20,
"execInst":"None",
"expireTime":null,
"fullSetDate":null,
"gainLossMessage":null,
"handlInst":"private",
"hasBlock":false,
"instanceId":1,
"instanceNotes":null,
"locateReqd":null,
"longTermGain":0,
"managementStyle":"",
"marketValue":0,
"notes":null,
"orderStatus":{
"id":1,
"name":"Filled"
},
"originalOrderQty":20,
"qualified":null,
"rebalanceLevel":"Portfolio",
"reinvestDividends":true,
"reinvestLongTermGains":false,
"reinvestShortTermGains":false,
"rowVersion":2,
"settlementType":{
"id":2,
"name":"cash"
},
"pendingUnits":2,
"shortTermGain":200,
"stopPrice":2000,
"timeInForce":"Day",
"totalGain":400,
"tradePercentOfAccount":20.08,
"transactionId":null,
"washUnits":20,
"assetClassName":"cash",
"clientDirect":false,
"minimmCashBalance":300,
"repNotes":null,
"representativeName":"orion test",
"isAutoAllocate":null,
"editedBy":"prime@tgi.com",
"editedDate":"2016-11-07T03:34:25.000Z",
"washAmount":200,
"canEdit" : true,
"canExecute" : true,
"shortCodeMessages":AccountNeg;ProductZer
}]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


---

# Dev APIs


## Get api an API to reset DB pool for a firm given

API to reset DB pool for a firm given.

**GET** `https://baseurl/v1/resetDbPool/:firmId`

**Permission:** `appuser`

```bash
curl -i http://baseurl/dev/resetDbPool/1000
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |


## Get api get tradeInstance map which is map of trade instance id to portfolios list

This API gets trade instance map.

**GET** `https://baseurl/v1/tradeInstanceMap`

**Permission:** `appuser`

```bash
curl -i http://baseurl/dev/tradeInstanceMap
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |


## Get api get tradeInstance map which is map of trade instance id to portfolios list

This API gets trade instance map.

**GET** `https://baseurl/v1/poolDebug`

**Permission:** `appuser`

```bash
curl -i http://baseurl/dev/poolDebug
{
"write": {},
"read": null
}
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |


## Get Local cache data

This API gets local cache.

**GET** `https://baseurl/v1/localcache`

**Permission:** `appuser`

```bash
curl -i http://baseurl/dev/localcache
{
"memsize": 31,
"size": 31,
"keys": [
"1000",
"1100",
"1200",
"1300",
"1400",
"1500",
"1600",
"1800",
"2000",
"2200",
"2300",
"poolCluster",
"b2895a14-1f3e-6ace-8399-b0cd739af84d",
"dbToPoolMap",
"dbToReadOnlyPoolMap",
"1200RO",
"1600RO",
"1500RO",
"1000RO",
"1100RO",
"1300RO",
"2000RO",
"2200RO",
"1400RO",
"1800RO",
"2300RO",
"orionConnectFirmList",
"poolDebug",
"masterLoginDetail",
"HkQbEZJw-",
"HJgQZEZywb"
],
"data": {
"1000": {
"poolName": "HOSTNAME",
"database": "FIRM DATABASE NAME",
"user": "USER_NAME",
"password": "PASSWORD"
},
"1100": {
"poolName": "HOSTNAME",
"database": "FIRM DATABASE NAME",
"user": "USER_NAME",
"password": "PASSWORD"
},
"1200": {
"poolName": "HOSTNAME",
"database": "FIRM DATABASE NAME",
"user": "USER_NAME",
"password": "PASSWORD"
},
"1300": {
"poolName": "HOSTNAME",
"database": "FIRM DATABASE NAME",
"user": "USER_NAME",
"password": "PASSWORD"
},
"1400": {
"poolName": "HOSTNAME",
"database": "FIRM DATABASE NAME",
"user": "USER_NAME",
"password": "PASSWORD"
},
"1500": {
"poolName": "HOSTNAME",
"database": "FIRM DATABASE NAME",
"user": "USER_NAME",
"password": "PASSWORD"
},
"1600": {
"poolName": "HOSTNAME",
"database": "FIRM DATABASE NAME",
"user": "USER_NAME",
"password": "PASSWORD"
},
"1800": {
"poolName": "HOSTNAME",
"database": "FIRM DATABASE NAME",
"user": "USER_NAME",
"password": "PASSWORD"
},
"2000": {
"poolName": "HOSTNAME",
"database": "FIRM DATABASE NAME",
"user": "USER_NAME",
"password": "PASSWORD"
},
"2200": {
"poolName": "HOSTNAME",
"database": "FIRM DATABASE NAME",
"user": "USER_NAME",
"password": "PASSWORD"
},
"2300": {
"poolName": "HOSTNAME",
"database": "FIRM DATABASE NAME",
"user": "USER_NAME",
"password": "PASSWORD"
},
"b2895a14-1f3e-6ace-8399-b0cd739af84d": {},
"dbToPoolMap": {
"firm_name_1200": "HOSTNAME",
"firm_name_1600": "HOSTNAME",
"firm_name_1500": "HOSTNAME",
"firm_name_1000": "HOSTNAME",
"firm_name_1100": "HOSTNAME",
"firm_name_1300": "HOSTNAME",
"firm_name_2000": "HOSTNAME",
"firm_name_2200": "HOSTNAME",
"firm_name_1400": "HOSTNAME",
"qa12b_orionEclipseFirm_Manikanta": "HOSTNAME",
"firm_name_2300": "HOSTNAME"
},
"dbToReadOnlyPoolMap": {
"firm_name_1200": "HOSTNAME",
"firm_name_1600": "HOSTNAME",
"firm_name_1500": "HOSTNAME",
"firm_name_1000": "HOSTNAME",
"firm_name_1100": "HOSTNAME",
"firm_name_1300": "HOSTNAME",
"firm_name_2000": "HOSTNAME",
"firm_name_2200": "HOSTNAME",
"firm_name_1400": "HOSTNAME",
"firm_name_Manikanta": "HOSTNAME",
"firm_name_2300": "HOSTNAME"
},
"1200RO": {
"poolName": "HOSTNAME",
"database": "FIRM DATABASE NAME",
"user": "USER_NAME",
"password": "PASSWORD"
},
"1600RO": {
"poolName": "HOSTNAME",
"database": "FIRM DATABASE NAME",
"user": "USER_NAME",
"password": "PASSWORD"
},
"1500RO": {
"poolName": "HOSTNAME",
"database": "FIRM DATABASE NAME",
"user": "USER_NAME",
"password": "PASSWORD"
},
"1000RO": {
"poolName": "HOSTNAME",
"database": "FIRM DATABASE NAME",
"user": "USER_NAME",
"password": "PASSWORD"
},
"1100RO": {
"poolName": "HOSTNAME",
"database": "FIRM DATABASE NAME",
"user": "USER_NAME",
"password": "PASSWORD"
},
"1300RO": {
"poolName": "HOSTNAME",
"database": "FIRM DATABASE NAME",
"user": "USER_NAME",
"password": "PASSWORD"
},
"2000RO": {
"poolName": "HOSTNAME",
"database": "FIRM DATABASE NAME",
"user": "USER_NAME",
"password": "PASSWORD"
},
"2200RO": {
"poolName": "HOSTNAME",
"database": "FIRM DATABASE NAME",
"user": "USER_NAME",
"password": "PASSWORD"
},
"1400RO": {
"poolName": "HOSTNAME",
"database": "FIRM DATABASE NAME",
"user": "USER_NAME",
"password": "PASSWORD"
},
"1800RO": {
"poolName": "HOSTNAME",
"database": "FIRM DATABASE NAME",
"user": "USER_NAME",
"password": "PASSWORD"
},
"2300RO": {
"poolName": "HOSTNAME",
"database": "FIRM DATABASE NAME",
"user": "USER_NAME",
"password": "PASSWORD"
},
"orionConnectFirmList": {
"302": 1200,
"424": 1600,
"444": 1500,
"477": 1000,
"509": 1100,
"568": 1300,
"629": 2000,
"745": 2200,
"1030": 1400,
"1087": 1800,
"1646": 1500,
"1717": 2300
},
"poolDebug": {},
"masterLoginDetail": {
"userId": 904,
"firmId": 1000,
"token": {
"eclipse_access_token": The Eclipse JWT Token,
"orion_access_token": The Orion Connect Auth Token,
"expires_in": 36000
}
},
"HkQbEZJw-": {
"correlationId": "d92c2d57-f48e-649d-7b81-cf60f590363b"
},
"HJgQZEZywb": {
"correlationId": "d92c2d57-f48e-649d-7b81-cf60f590363b"
}
}
}
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |


## Get pool names cluster

This API gets pools in poolcluster.

**GET** `https://baseurl/v1/poolCluster`

**Permission:** `appuser`

```bash
curl -i http://baseurl/dev/poolCluster
["common","commonRO","orionqa-cluster.cluster-cwz3dqtcj9ax.us-east-1.rds.amazonaws.com","orionqa-cluster.cluster-ro-cwz3dqtcj9ax.us-east-1.rds.amazonaws.com"]
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |


---

# Eclipse-Community


## Add community manager

This API providesadd community manager.

**POST** `https://baseurl/v1/community/modelManagers`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/community/modelManager
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| communityManagerId | Number | Community manager id. |
| communityStrategistId | Number | Community strategist id. |
| name | String | Community Manager Name. |
| abbreviation | String | Community Manager abbreviation. |
| category | String | Community Manager category. |

```json
{
"communityStrategistId": 1,
"name": "Test manager"
}
```

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The Manager id. |
| communityManagerId | Number | The Manager id from Communities associated with this Manager. |
| communityStrategistId | Number | The Strategist id from Communities associated with this Manager. |
| name | String | Full name of the Manager. |
| abbreviation | String | Abbreviation of the Manager. |
| category | String | Category of the Manager. |
| isDeleted | Boolean | Manager exist or not into the system. |
| createdOn | Date | Manager creation date into application. |
| createdBy | String | Id of user who created the Manager into the system. |
| editedOn | Date | Manager edited date into application. |
| editedBy | String | Id of user who edited the Manager into the system. |

```http
HTTP/1.1 201 OK
{
"id": 1,
"communityManagerId": 1,
"communityStrategistId": 1,
"name": "Demo manager",
"abbreviation": "DM",
"category": "Diversifier",
"isDeleted": 0,
"createdOn": "2016-11-03T11:42:35.000Z",
"createdBy": 66,
"editedOn": "2016-11-03T11:50:38.000Z",
"editedBy": 66
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Add community models

This API providesadd community strategists models.

**POST** `https://baseurl/v1/community/strategists/:communityStrategistId/models`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/community/strategists/1/models
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| id | Number | Community model id. |
| name | String | Community model Name. |

```json
{
"models": [
{
"id": 1,
"name": "Test Model"
},
{
"id": 2,
"name": "Demo Model"
}
]
}
```

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The Model Id. |
| communityModelId | Number | Community ModelId. |
| name | String | The Model name. |
| communityStrategistId | Number | Community StrategistId. |
| communityModelManagerId | Number | Community Model Manager Id. |
| isDeleted | Boolean | Model exist or not into the system. |
| createdOn | Date | Model creation date into application. |
| createdBy | Number | Id of user who created the community model into the system. |
| editedOn | Date | Model edited date into application. |
| editedBy | Number | Id of user who edited the community model into the system. |

```http
HTTP/1.1 201 OK
[
{
"id": 811,
"communityModelId": 1,
"name": "Test Model",
"communityStrategistId": 203,
"communityModelManagerId": 74,
"isDeleted": 0,
"createdOn": "2016-11-11T06:46:42.000Z",
"createdBy": 66,
"editedOn": "2016-11-11T08:34:56.000Z",
"editedBy": 66
},
{
"id": 812,
"communityModelId": 2,
"name": "Demo Model",
"communityStrategistId": 203,
"communityModelManagerId": 71,
"isDeleted": 0,
"createdOn": "2016-11-11T06:46:42.000Z",
"createdBy": 66,
"editedOn": "2016-11-11T08:34:56.000Z",
"editedBy": 66
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Add community strategists

This API providesadd community strategists.

**POST** `https://baseurl/v1/community/strategists`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/community/strategists
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| id | Number | Community strategist id. |
| name | String | Community Strategist Name. |

```json
{
"id": 1,
"name": "Test strategist"
}
```

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The Strategist Id. |
| name | String | Fullname of the Strategist User. |
| communityStrategistId | Number | The community StrategistId. |
| isDeleted | Boolean | Strategist exist or not into the system. |
| createdOn | Date | Strategist creation date into application. |
| createdBy | Number | Id of user who created the Strategist into the system. |
| editedOn | Date | Strategist edited date into application. |
| editedBy | Number | Id of user who edited the Strategist into the system. |

```http
HTTP/1.1 201 OK
{
"id": 1,
"name": "Demo strategist",
"communityStrategistId": 1,
"isDeleted": 0,
"createdOn": "2016-11-03T11:42:35.000Z",
"createdBy": 66,
"editedOn": "2016-11-03T11:50:38.000Z",
"editedBy": 66
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## All Managers for a Strategist

This API providesmanager list.

**GET** `https://baseurl/v1/community/modelManagers?communityStrategistId={:strategistId}&amp;communityManagerId={:communityManagerId}Get`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/community/modelManagers?communityStrategistId={:id}
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The Manager id. |
| communityManagerId | Number | The Manager id associated with this Manager in Communities. |
| communityStrategistId | Number | The Strategist id associated with this Manager. |
| name | String | Fullname of the Manager. |
| abbreviation | String | Abbreviation of the Manager. |
| isDeleted | Boolean | Manager exist or not into the system. |
| createdOn | Date | Manager creation date into application. |
| createdBy | String | Id of user who created the Manager into the system. |
| editedOn | Date | Manager edited date into application. |
| editedBy | String | Id of user who edited the Manager into the system. |

```http
HTTP/1.1 200 OK
[{
"id": 3,
"communityManagerId": 21,
"communityStrategistId": 3,
"name": "Test manager",
"abbreviation": "tm",
"isDeleted": 0,
"createdOn": "2016-09-21T07:29:41.000Z",
"createdBy": "prime@tgi.com",
"editedOn": "2016-09-28T07:29:53.000Z",
"editedBy": "prime@tgi.com"
}]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Delete community strategists

This API providesdelete community strategists.

**DELETE** `https://baseurl/v1/community/strategists/:communityStrategistId`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/community/strategists/1
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| message | String | Success message. |

```http
HTTP/1.1 200 OK
{
"message": "Strategists deleted successfully"
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Delete community models

This API providesdelete community strategists models.

**DELETE** `https://baseurl/v1/community/strategists/:communityStrategistId/models`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/community/strategists/1/models
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| ids | Array | Community model id. |

```json
{
"ids": [
1,
2,
3,
4,
5
]
}
```

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| message | String | Success message. |

```http
HTTP/1.1 201 OK
{
"message": "Models deleted successfully"
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get all Approved strategists

This API providesget all Approved strategists

**GET** `https://baseurl/v1/community/strategists/approved`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/community/strategists/approved
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The strategist id. |
| name | String | The strategist name. |
| communityStrategistId | Number | The community Strategist Id |
| isDeleted | Boolean | Strategist exist or not into the system. |
| createdOn | Date | Strategist creation date into application. |
| createdBy | String | Id of user who created the Strategist into the system. |
| editedOn | Date | Strategist edited date into application. |
| editedBy | String | Id of user who edited the Strategist into the system. |

```http
HTTP/1.1 200 OK
[
{
"id":1,
"name":"Demo Strategist",
"communityStrategistId": 29,
"isDeleted": 0,
"createdBy": "prime@tgi.com",
"createdOn": "2016-09-15T23:52:55.000Z",
"editedBy": "prime@tgi.com",
"editedOn": "2016-09-15T23:52:55.000Z"
},
{
"id":2,
"name":"Test Strategist",
"communityStrategistId": 30,
"isDeleted": 0,
"createdBy": "66",
"createdOn": "2016-09-15T23:52:55.000Z",
"editedBy": "66",
"editedOn": "2016-09-15T23:52:55.000Z"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get All Strategist

This API providesstrategist list.

**GET** `https://baseurl/v1/community/strategists`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/community/strategists
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The Strategist id. |
| name | String | Fullname of the Strategist User. |
| isDeleted | Boolean | Strategist exist or not into the system. |
| createdOn | Date | Strategist creation date into application. |
| createdBy | String | Id of user who created the Strategist into the system. |
| editedOn | Date | Strategist edited date into application. |
| editedBy | String | Id of user who edited the Strategist into the system. |

```http
HTTP/1.1 200 OK
[{
"id": 3,
"name": "Test strategist",
"isDeleted": 0,
"createdOn": "2016-09-21T07:29:41.000Z",
"createdBy": "prime@tgi.com",
"editedOn": "2016-09-28T07:29:53.000Z",
"editedBy": "prime@tgi.com"
}]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get Community Model by Strategist Ids or Manager Id

This API returns community model as per strategist Ids

**GET** `https://baseurl/v1/community/models?strategistIds={id_list}&amp;managerId={managerId}`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/community/models?strategistIds=1&managerId=2
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The model id. |
| name | Name | Model name. |
| isDeleted | Boolean | Model exist or not into the system. |
| createdOn | Date | Model creation date into application. |
| createdBy | String | Id of user who created the Model into the system. |
| editedOn | Date | Model edited date into application. |
| editedBy | String | Id of user who edited the Model into the system. |

```http
HTTP/1.1 200 OK
[
{
"id": 1,
"name": "Test Model",
"isDeleted": 0,
"createdOn": "2016-09-21T05:16:43.000Z",
"createdBy": "prime@tgi.com",
"editedOn": "2016-09-21T05:16:48.000Z",
"editedBy": "prime@tgi.com"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Import community model details

This API import community model details

**POST** `https://baseurl/v1/community/models/import/:modelId`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/community/models/import/1
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The model Id. |
| name | String | Name of the Model. |
| description | String | Description of Model |
| nameSpace | String | Namespace of the Model. |
| statusId | Number | StatusId of model |
| status | String | status of model |
| portfolioCount | Number | Number of portfolio's model is assigned to. |
| modelAUM | Number | Total sum of money invested in model. |
| ownerUserId | Number | OwnerUserId of model. |
| ownerUser | String | OwnerUser model |
| managementStyleId | Number | ManagementStyleId of model |
| managementStyle | String | ManagementStyle of model |
| isCommunityModel | Boolean | flag if Model is imported from community. |
| approvedByUserId | Number | UserId who approved the Model |
| approvedByUser | String | User who approved the model. |
| isDynamic | Boolean | Flag if Model is dynamic. |
| isDeleted | Boolean | If model is deleted |
| createdOn | Date | Created Date of Model |
| editedOn | Date | Edited Date of Model |
| createdBy | Number | User who created the Model |
| editedBy | Number | User who edited the Model |

```http
HTTP/1.1 201 OK
{
"id": 2,
"name": "Test Model 13",
"description": null,
"statusId": 1,
"status": "APPROVED",
"portfolioCount": 0,
<span class="Apple-converted-space"> 		 "modelAUM": 0,
"ownerUserId": 66,
"ownerUser": "prime@tgi.com",
"managementStyleId": 2,
"managementStyle": "Aggressive",
"isCommunityModel": null,
"approvedByUserId": null,
"approvedByUser": "prime@tgi.com",
"isDynamic": 0,
"isDeleted": 0,
"createdOn": "2016-09-27T04:37:53.000Z",
"editedOn": "2016-09-27T05:00:59.000Z",
"createdBy": 66,
"editedBy": 66
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## List of Approved Model by strategistId

This API returns list ofmodels based on firm level preference setting

**GET** `https://baseurl/v1/community/models/approved?strategistId={:id}&amp;communityModelManagerId={:managerId}&amp;communityModelManagerCategory={:category}`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/community/models/approved?strategistId=1&communityModelManagerId=2
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The model id. |
| name | Name | Model name. |
| communityModelId | Number | The community Model Id |
| isDeleted | Boolean | Model exist or not into the system. |
| createdOn | Date | Model creation date into application. |
| createdBy | String | Id of user who created the Model into the system. |
| editedOn | Date | Model edited date into application. |
| editedBy | String | Id of user who edited the Model into the system. |

```http
HTTP/1.1 200 OK
[
{
"id":1,
"name":"Demo Model",
"communityModelId": 369,
"isDeleted": 0,
"createdBy": "prime@tgi.com",
"createdOn": "2016-09-15T23:52:55.000Z",
"editedBy": "prime@tgi.com",
"editedOn": "2016-09-15T23:52:55.000Z"
},
{
"id":2,
"name":"Test Model",
"isDeleted": 0,
"createdBy": "prime@tgi.com",
"createdOn": "2016-09-15T23:52:55.000Z",
"editedBy": "prime@tgi.com",
"editedOn": "2016-09-15T23:52:55.000Z"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Update community manager

This API providesupdate community manager.

**PUT** `https://baseurl/v1/community/modelManager/:communityManagerId`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/community/modelManager/1
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| name | String | Community Manager Name. |

```json
{
"name": "Test strategist",
"abbreviation": "DM",
"category": "Diversifier"
}
```

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| abbreviation | String | Abbreviation of the Manager. |
| category | String | Category of the Manager. |
| id | Number | The Manager id. |
| communityManagerId | Number | The Manager id from Communities associated with this Manager. |
| communityStrategistId | Number | The Strategist id from Communities associated with this Manager. |
| name | String | Full name of the Manager. |
| isDeleted | Boolean | Manager exist or not into the system. |
| createdOn | Date | Manager creation date into application. |
| createdBy | String | Id of user who created the Manager into the system. |
| editedOn | Date | Manager edited date into application. |
| editedBy | String | Id of user who edited the Manager into the system. |

```http
HTTP/1.1 200 OK
{
"id": 1,
"communityManagerId": 1,
"communityStrategistId": 1,
"name": "Demo manager",
"abbreviation": "DM",
"category": "Diversifier",
"isDeleted": 0,
"createdOn": "2016-11-03T11:42:35.000Z",
"createdBy": 66,
"editedOn": "2016-11-03T11:50:38.000Z",
"editedBy": 66
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Update community models

This API providesupdate community strategists models.

**PUT** `https://baseurl/v1/community/strategists/:communityStrategistId/models`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/community/strategists/1/models
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| id | Number | Community model id. |
| name | String | Community model Name. |

```json
{
"models": [
{
"id": 1,
"name": "Test Model"
},
{
"id": 2,
"name": "Demo Model"
}
]
}
```

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The Model Id. |
| communityModelId | Number | Community ModelId. |
| name | String | The Model name. |
| communityStrategistId | Number | Community StrategistId. |
| communityModelManagerId | Number | Community Model Manager Id. |
| isDeleted | Boolean | Model exist or not into the system. |
| createdOn | Date | Model creation date into application. |
| createdBy | Number | Id of user who created the community model into the system. |
| editedOn | Date | Model edited date into application. |
| editedBy | Number | Id of user who edited the community model into the system. |

```http
HTTP/1.1 201 OK
[
{
"id": 811,
"communityModelId": 1,
"name": "Test Model",
"communityStrategistId": 203,
"communityModelManagerId": 74,
"isDeleted": 0,
"createdOn": "2016-11-11T06:46:42.000Z",
"createdBy": 66,
"editedOn": "2016-11-11T08:34:56.000Z",
"editedBy": 66
},
{
"id": 812,
"communityModelId": 2,
"name": "Demo Model",
"communityStrategistId": 203,
"communityModelManagerId": 74,
"isDeleted": 0,
"createdOn": "2016-11-11T06:46:42.000Z",
"createdBy": 66,
"editedOn": "2016-11-11T08:34:56.000Z",
"editedBy": 66
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Update community strategists

This API providesupdate community strategists.

**PUT** `https://baseurl/v1/community/strategists/:communityStrategistId`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/community/strategists/1
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| name | String | Community Strategist Name. |

```json
{
"name": "Test strategist"
}
```

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The Strategist Id. |
| name | String | Fullname of the Strategist User. |
| communityStrategistId | Number | The community StrategistId. |
| isDeleted | Boolean | Strategist exist or not into the system. |
| createdOn | Date | Strategist creation date into application. |
| createdBy | Number | Id of user who created the Strategist into the system. |
| editedOn | Date | Strategist edited date into application. |
| editedBy | Number | Id of user who edited the Strategist into the system. |

```http
HTTP/1.1 200 OK
{
"id": 1,
"name": "Demo strategist",
"communityStrategistId": 1,
"isDeleted": 0,
"createdOn": "2016-11-03T11:42:35.000Z",
"createdBy": 66,
"editedOn": "2016-11-03T11:50:38.000Z",
"editedBy": 66
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


---

# FIX


## Process Fix Response Message

This API decodes and processes Fix response message.

**PUT** `https://baseurl/v1/tradeorder/fix/processMessage`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/tradeorder/fix/processMessage
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Content-Type | String | application/json. |

```json
{
"Content-Type" : application/json
}
```

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| message | String | Stringified Fix Response Message for processing. |

```json
{
"message": "8=FIX.4.4\u00019=125\u000135=P\u000149=FLYER1\u000156=ORION1\u000134=1183\u000157=EFMA\u000152=20170103-19:05:01.271\u000143=N\u000197=N\u000160=20170103-19:04:59\u000170=509.1048047\u000175=20170103\u000187=0\u000110=210\u0001"
}
```

```json
{
"message": "8=FIX.4.4\u00019=263\u000135=8\u000134=4\u000143=N\u000149=FLYERDEV\u000152=20170102-08:09:43.614\u000156=ORIONDEV\u000157=ORIONDEV\u000197=N\u00016=0\u000111=509.53796.0\u000114=0\u000117=exec-33829171635308879\u000122=1\u000131=0\u000132=0\u000137=order-33829171635305914\u000138=682\u000139=A\u000148=90184L102\u000154=2\u000155=TWTR\u000158=Pending New\u000160=20170102-08:09:43.733\u0001150=A\u0001151=0\u000110=63\u0001"
}
```

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| message | String | Success message. |

```http
HTTP/1.1 200 OK
{
"success": true,
"message": "Fix Message is decoded successfully"
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unprocessable | When Message contains invalid clOrderId (Generally because of Invalid FirmId in clOrderId). |
| Unauthorized | Invalid / Without Authorization Header. |

```http
HTTP/1.1 422 Unprocessable
{
"success": false,
"message": "Invalid clOrderId in fix response message"
}
```

```http
HTTP/1.1 422 Unprocessable
{
"success": false,
"message": "Invalid allocationId in fix response message"
}
```

```http
HTTP/1.1 422 Unprocessable
{
"success": false,
"message": "Fix message response is not valid according to their order"
}
```

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```


---

# Firms


## Add Firm Profile logo

This API adds Profile logo to logged in user's firm.

**POST** `https://baseurl/v1/admin/firms/profile`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/admin/firms/profile
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| logo | File | Logo file for logged in user's firm. |
| name | String | Name for logged in user's firm. |

```json
{
"logo":filepath,
"name":"firm name"
}
```

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The Firm Id. |
| name | String | Name of the Firm. |
| imagePath | String | Path of firm profile image. |

```http
HTTP/1.1 200 OK
{
"id": 66,
"name": "1020",
"imagePath":"https://PATH/TO/FILE"
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```


## Add Merge Firms

This API adds firms for firm admin.

**POST** `https://baseurl/v1/admin/firms/mergeFirms`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/admin/firms/mergeFirms
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| Array | addFirms | An array of the firm data. |

```json
{
"addFirms":[{
"connectFirmId":302,
"connectFirmName":"Edelman Financial (test)"
}],
"removeFirms":[10]
}
```

```http
HTTP/1.1 200 OK
[
{
"id": 2,
"connectFirmId": 477,
"connectFirmName": "",
"eclipseFirmId": 1000,
"isDeleted": 0
},
{
"id": 3,
"connectFirmId": 500,
"connectFirmName": "",
"eclipseFirmId": 1000,
"isDeleted": 0
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```


## Get Firm List

This API get Firm List

**GET** `https://baseurl/v1/admin/firms`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/admin/firms
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The Firm Id. |
| name | String | Name of the Firm. |

```http
HTTP/1.1 200 OK
[
{
"id": 66,
"name": "1020"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```


## Get Firm Profile

This API get Profile of logged in user's firm.

**GET** `https://baseurl/v1/admin/firms/profile`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/admin/firms/profile
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The Firm Id. |
| name | String | Name of the Firm. |
| imagePath | String | Path of firm profile image. |

```http
HTTP/1.1 200 OK
{
"id": 66,
"name": "1020",
"imagePath":"https://PATH/TO/FILE"
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```


## Get Firm Profile

This API get Profile of logged in user's firm.

**GET** `https://baseurl/v1/admin/firms/profile/base64`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/admin/firms/profile/base64
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The Firm Id. |
| name | String | Name of the Firm. |
| imagePath | String | Path of firm profile image. |

```http
HTTP/1.1 200 OK
{
"id": 66,
"name": "1020",
"imagePath":"https://PATH/TO/FILE"
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```


## Get Merge Firm List

This API get Selected Firm List

**GET** `https://baseurl/v1/admin/firms/mergeFirms`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/admin/firms/mergeFirms
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

```http
HTTP/1.1 200 OK
[
{
"id": 2,
"orionConnectFirmId": 477,
"orionConnectFirmName": "Sales_Main (test)",
"orionEclipseFirmId": 1000,
"isDeleted": 0,
"createdDate": "0000-00-00 00:00:00",
"createdBy": 0,
"editedDate": null,
"editedBy": 0
},
{
"id": 3,
"orionConnectFirmId": 500,
"orionConnectFirmName": "",
"orionEclipseFirmId": 1000,
"isDeleted": 0,
"createdDate": "0000-00-00 00:00:00",
"createdBy": 0,
"editedDate": null,
"editedBy": 0
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```


## Get Orion Connect Firms

This API get Orion Connect Firm List

**GET** `https://baseurl/v1/admin/firms/connectFirms`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/admin/firms/connectFirms
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

```http
HTTP/1.1 200 OK
[
{
"orionConnectFirmName": "Altfest L J and Co (test)",
"orionConnectFirmId": 1717
},
{
"orionConnectFirmName": "BAM Alliance (test)",
"orionConnectFirmId": 1532
},
{
"orionConnectFirmName": "Bleakley Financial Group (test)",
"orionConnectFirmId": 1165
},
{
"orionConnectFirmName": "Edelman Financial (test)",
"orionConnectFirmId": 302
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```


---

# Holding


## Get Account Holding List by Filters

This api will be used to get holding list by filter

**GET** `https://baseurl/v1/account/accounts/1/holdings?filter={filterId}`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/account/accounts/1/holdings?filter=1
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | System Genarated Id. |
| accountNumber | String | Account number assocaited with holding. |
| securityName | String | Security name. |
| securitySymbol | String | Security symbol. |
| price | Number | Price of holding. |
| shares | Number | Shares. |
| value | Number | Holding value. |
| currentInPer | Number | Current holding percentage. |
| targetInPer | Number | Target holding percentage. |
| pendingValue | Number | Pending value. |
| pendingInPer | Number | Pending percentage |
| excluded | String | Holding excluded detail. |
| isCash | String | Holding "iscash" detail. |
| inModel | String | Holding "inModel" detail. |
| isDeleted | Boolean | Holding exist or not into the system. |
| createdOn | Date | Holding creation date into application. |
| createdBy | String | Id of user who created the Holding into the system. |
| editedOn | Date | Holding edited date into application. |
| editedBy | String | Id of user who edited the Holding details into the system. |

```http
HTTP/1.1 200 OK
[
{
"id": 22102,
"accountNumber": "L004-ELPMAS",
"securityName": "Custodial Cash",
"securitySymbol": "CUSTODIAL_CASH",
"price": 1,
"shares": 109528.74,
"value": 109528.74,
"currentInPer": 3.1,
"targetInPer": 0,
"pendingValue": 109528.74,
"pendingInPer": 100,
"excluded": "No",
"isCash": "Yes",
"inModel": "No",
"isDeleted": 0,
"createdOn": "2017-02-17T01:41:54.000Z",
"createdBy": "Test@gmail.com",
"editedOn": "2017-02-17T01:41:54.000Z",
"editedBy": "Test@gmail.com"
}]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```


## Get Holding Dashboard Summary by Account Id

This API is used to get holding dashboard summary by account id .

**GET** `https://baseurl/v1/dashboard/account/{:id}/holdings/summary`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/dashboard/account/1/holdings/summary
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| dateTime | Date | Dashboard detail as on Date. |
| value | JSON | Total holding summary. |
| -total | Number | Total value. |
| -changeValueAmount | Number | Change in value amount. |
| -changeValuePercent | Number | Change in percentage. |
| -status | String | Status symbol |
| holdings | JSON | Holding Summary. |
| total | Number | Total holding. |
| -existing | Number | Existing holding. |
| -new | Number | New holding. |
| issues | JSON | Issue summary. |
| --total | Number | Total No. of issue. |
| -errors | Number | Total No .of errors in holding. |
| -warnings | Number | Total No. of warning. |
| bars | JSON | Bar summary. |
| -exclude | Number | No. of exclude holdings |
| -notInModel | Number | No. of "Not in model" holdings. |
| topTenHoldings | JSON | Top 10 holdings summary. |
| totalHoldingValue | Number | Total holding value. |
| totalHoldingValueStatus | String | Total holding value status as compare to previous value. |
| -holdings | JSON | Holding summary. |
| -securityName | String | Security name. |
| -marketValue | Number | Holding market value. |
| -unit | Number | No. of holding. |
| -price | Number | Holding price. |
| -percentage | Number | Holding percentage. |

```http
HTTP/1.1 200 OK
{
"dateTime": "2016-10-30T06:19:20.000Z",
"value": {
"total": 22285,
"changeValueAmount": 500,
"changeValuePercent": 5,
"status": "High"
},
"holdings": {
"total": 10,
"existing": 10,
"new": 0
},
"issues": {
"total": 505,
"errors": 500,
"warnings": 5
},
"bars": {
"exclude": 0,
"notInModel": 3
},
"topTenHoldings": {
"totalHoldingValue": 100,
"totalHoldingValueStatus": "High",
"holdings": [
{
"securityName": "Sprint Corporation",
"marketValue": 9000,
"unit": 360,
"price": 25,
"percentage": 37.82
},
{
"securityName": "Sprint Corporation",
"marketValue": 2500,
"unit": 250,
"price": 10,
"percentage": 10.51
}
]
}
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get Holding Dashboard Summary by Portfolio Id

This API is used to get holding dashboard summary by portfolio id.

**GET** `https://baseurl/v1/dashboard/portfolio/{:id}/holdings/summary`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/dashboard/portfolio/1/holdings/summary
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| dateTime | Date | Dashboard detail as on Date. |
| value | JSON | Total holding summary. |
| -total | Number | Total value. |
| -changeValueAmount | Number | Change in value amount. |
| -changeValuePercent | Number | Change in percentage. |
| -status | String | Status symbol |
| holdings | JSON | Holding Summary. |
| total | Number | Total holding. |
| -existing | Number | Existing holding. |
| -new | Number | New holding. |
| issues | JSON | Issue summary. |
| --total | Number | Total No. of issue. |
| -errors | Number | Total No .of errors in holding. |
| -warnings | Number | Total No. of warning. |
| bars | JSON | Bar summary. |
| -exclude | Number | No. of exclude holdings |
| -notInModel | Number | No. of "Not in model" holdings. |
| topTenHoldings | JSON | Top 10 holdings summary. |
| totalHoldingValue | Number | Total holding value. |
| totalHoldingValueStatus | String | Total holding value status as compare to previous value. |
| -holdings | JSON | Holdings summary. |
| -securityName | String | Security name. |
| -marketValue | Number | Holding market value. |
| -unit | Number | No. of holding. |
| -price | Number | Holding price. |
| -percentage | Number | Holding percentage. |

```http
HTTP/1.1 200 OK
{
"dateTime": "2016-10-30T06:19:20.000Z",
"value": {
"total": 22285,
"changeValueAmount": 500,
"changeValuePercent": 5,
"status": "High"
},
"holdings": {
"total": 10,
"existing": 10,
"new": 0
},
"issues": {
"total": 505,
"errors": 500,
"warnings": 5
},
"bars": {
"exclude": 0,
"notInModel": 3
},
"topTenHoldings": {
"totalHoldingValue": 100,
"totalHoldingValueStatus": "High",
"holdings": [
{
"securityName": "Sprint Corporation",
"marketValue": 9000,
"unit": 360,
"price": 25,
"percentage": 37.82
},
{
"securityName": "Sprint Corporation",
"marketValue": 2500,
"unit": 250,
"price": 10,
"percentage": 10.51
}
]
}
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get Holding Detail

This api will be used to get holding detail

**GET** `https://baseurl/v1/holding/holdings/{:id}`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/holding/holdings/1
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | Holding Id. |
| securityName | String | Security name. |
| securitySymbol | String | Security symbol. |
| accountName | String | Account name associated with holding. |
| accountNumber | String | Account number associated with holding. |
| portfolioName | String | Portfolio name associated with account. |
| price | Number | Price of holding. |
| shares | Number | Shares. |
| value | Number | Holding value. |
| currentInPer | Number | Current holding percentage. |
| targetInPer | Number | Target holding percentage. |
| pendingValue | Number | Pending value. |
| pendingInPer | Number | Pending percentage. |
| excluded | String | Holding excluded detail. |
| isCash | String | IsCash detail. |
| inModel | String | Holding "inModel"" detail. |
| GLSection | JSON | Gain-Loss Summary. |
| -totalGainLoss | Number | Total Gain Loss Detail. |
| -totalGainLossStatus | String | Total Gain Loss status.(+/-) |
| -shortTermGL | Number | Short Term gain loss detail. |
| -shortTermGLStatus | String | Short Term Gain Loss status.(+/-). |
| -longTermGL | Number | Long Term gain loss detail. |
| -longTermGLStatus | String | Long Term Gain Loss status.(+/-). |
| isDeleted | Boolean | Holding exist or not into the system. |
| createdOn | Date | Holding creation date into application. |
| createdBy | String | Id of user who created the Holding into the system. |
| editedOn | Date | Holding edited date into application. |
| editedBy | String | Id of user who edited the Holding details into the system. |

```http
HTTP/1.1 200 OK
{
"id": 213744,
"securityName": "Custodial Cash",
"securitySymbol": "CUSTODIAL_CASH",
"accountName": "Sleeves Howard",
"accountNumber": "LApmaS-7C6",
"portfolioName": "Sleeves, Howard",
"price": 1,
"shares": 36.9,
"value": 36.9,
"currentInPer": 100,
"targetInPer": 0,
"pendingValue": 36.9,
"pendingInPer": 100,
"excluded": "No",
"isCash": "Yes",
"inModel": "Yes",
"externalId": 36822,
"GLSection": {
"totalGainLoss": 0,
"totalGainLossStatus": "No",
"shortTermGL": 0,
"shortTermGLStatus": "No",
"longTermGL": 0,
"longTermGLStatus": "No"
},
"isDeleted": 0,
"createdOn": "2017-01-10T10:44:53.000Z",
"createdBy": "Test@gmail.com",
"editedOn": "2017-01-10T10:44:53.000Z",
"editedBy": "Test@gmail.com"
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```


## Get Holding Filter List

This api will be used to get all Holding filter list.

**GET** `https://baseurl/v1/holding/holdings/holdingfilters`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/holding/holdings/holdingfilters
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | Holding Filter Id. |
| name | String | Holding Filter Name. |

```http
HTTP/1.1 200 OK
[{
"id": 1,
"name": "Holdings Not in model"
}]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```


## Get Holding List by Account Id

This api will be used to get holding list by account id

**GET** `https://baseurl/v1/account/accounts/{:id}/holdings`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/account/accounts/1/holdings
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | System Generated Id. |
| accountNumber | String | Account number associated with holding. |
| securityName | String | Security name. |
| securitySymbol | String | Security symbol. |
| price | Number | Price of holding. |
| shares | Number | Shares. |
| value | Number | Holding value. |
| currentInPer | Number | Current holding percentage. |
| targetInPer | Number | Target holding percentage. |
| pendingValue | Number | Pending value. |
| pendingInPer | Number | Pending percentage |
| excluded | String | Holding excluded detail. |
| isCash | String | Holding "iscash" detail. |
| inModel | String | Holding "inModel" detail. |
| isDeleted | Boolean | Holding exist or not into the system. |
| createdOn | Date | Holding creation date into application. |
| createdBy | String | Id of user who created the Holding into the system. |
| editedOn | Date | Holding edited date into application. |
| editedBy | String | Id of user who edited the Holding details into the system. |

```http
HTTP/1.1 200 OK
[
{
"id": 22102,
"accountNumber": "L004-ELPMAS",
"securityName": "Custodial Cash",
"securitySymbol": "CUSTODIAL_CASH",
"price": 1,
"shares": 109528.74,
"value": 109528.74,
"currentInPer": 3.1,
"targetInPer": 0,
"pendingValue": 109528.74,
"pendingInPer": 100,
"excluded": "No",
"isCash": "Yes",
"inModel": "No",
"isDeleted": 0,
"createdOn": "2017-02-17T01:41:54.000Z",
"createdBy": "Test@gmail.com",
"editedOn": "2017-02-17T01:41:54.000Z",
"editedBy": "Test@gmail.com"
}]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get Holding List by Portfolio Id

This api will be used to get holding list by Portfolio id

**GET** `https://baseurl/v1/portfolio/portfolios/:id/holdings`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/portfolio/portfolios/1/holdings
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token.vvvvvvvvvvvvvvvvvvvvv |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | Holding Id. |
| accountNumber | String | Account number associated with holding. |
| securityName | String | Security name. |
| securitySymbol | String | Security symbol. |
| price | Number | Price of holding. |
| shares | Number | Shares. |
| value | Number | Holding value. |
| currentInPer | Number | Current holding percentage. |
| targetInPer | Number | Target holding percentage. |
| pendingValue | Number | Pending value. |
| pendingInPer | Number | Pending percentage |
| excluded | String | Holding excluded detail. |
| isCash | String | Holding "isCash" detail. |
| inModel | String | Holding "inModel" detail. |
| isDeleted | Boolean | Holding exist or not into the system. |
| createdOn | Date | Holding creation date into application. |
| createdBy | String | Id of user who created the Holding into the system. |
| editedOn | Date | Holding edited date into application. |
| editedBy | String | Id of user who edited the Holding details into the system. |

```http
HTTP/1.1 200 OK
[
{
"id": 22102,
"accountNumber": "L004-ELPMAS",
"securityName": "Custodial Cash",
"securitySymbol": "CUSTODIAL_CASH",
"price": 1,
"shares": 109528.74,
"value": 109528.74,
"currentInPer": 3.1,
"targetInPer": 0,
"pendingValue": 109528.74,
"pendingInPer": 100,
"excluded": "No",
"isCash": "Yes",
"inModel": "No",
"isDeleted": 0,
"createdOn": "2017-02-17T01:41:54.000Z",
"createdBy": "Test@gmail.com",
"editedOn": "2017-02-17T01:41:54.000Z",
"editedBy": "Test@gmail.com"
}]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get Holding Transaction Detail

This api will be used to get holding transaction detail

**GET** `https://baseurl/v1/holding/holdings/{:id}/transactions`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/holding/holdings/1/transactions
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | Transactions Id. |
| date | Date | Transactions date. |
| type | String | Transactions type. |
| amount | Number | Transactions amount. |
| units | Number | Units. |
| cost | Number | Cost. |
| price | Number | Price. |
| isDeleted | Boolean | Transactions exist or not into the system. |
| createdOn | Date | Transactions creation date into application. |
| createdBy | String | Id of user who created the Transactions into the system. |
| editedOn | Date | Transactions edited date into application. |
| editedBy | String | Id of user who edited the Transactions details into the system. |

```http
HTTP/1.1 200 OK
[
{
"id": 1,
"date": "2016-01-01T18:30:00.000Z",
"type": "Sell Exchange",
"amount": 10,
"units": 3,
"cost": 0.01,
"price": 10,
"isDeleted": 0,
"createdOn": "2016-01-01T18:30:00.000Z",
"createdBy": "prime@tgi.com",
"editedOn": "2016-01-01T18:30:00.000Z",
"editedBy": "prime@tgi.com"
},
{
"id": 2,
"date": "2016-01-01T18:30:00.000Z",
"type": "Client Contribution",
"amount": 10,
"units": 10,
"cost": 0,
"price": 20,
"isDeleted": 0,
"createdOn":"2016-01-01T18:30:00.000Z",
"createdBy": "prime@tgi.com",
"editedOn": "2016-01-01T18:30:00.000Z",
"editedBy": "prime@tgi.com"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```


## Get Portfolio Holding List by Filters

This api will be used to get holding list by filters

**GET** `https://baseurl/v1/portfolio/portfolios/1/holdings?filter={filterId}`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/portfolio/portfolios/1/holdings?filter=1
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | Holding Id. |
| accountNumber | String | Account number associated with holding. |
| securityName | String | Security name. |
| securitySymbol | String | Security symbol. |
| price | Number | Price of holding. |
| shares | Number | Shares. |
| value | Number | Holding value. |
| currentInPer | Number | Current holding percentage. |
| targetInPer | Number | Target holding percentage. |
| pendingValue | Number | Pending value. |
| pendingInPer | Number | Pending percentage |
| excluded | String | Holding excluded detail. |
| isCash | String | Holding "isCash" detail. |
| inModel | String | Holding "inModel" detail. |
| isDeleted | Boolean | Holding exist or not into the system. |
| createdOn | Date | Holding creation date into application. |
| createdBy | String | Id of user who created the Holding into the system. |
| editedOn | Date | Holding edited date into application. |
| editedBy | String | Id of user who edited the Holding details into the system. |

```http
HTTP/1.1 200 OK
[
{
"id": 22102,
"accountNumber": "L004-ELPMAS",
"securityName": "Custodial Cash",
"securitySymbol": "CUSTODIAL_CASH",
"price": 1,
"shares": 109528.74,
"value": 109528.74,
"currentInPer": 3.1,
"targetInPer": 0,
"pendingValue": 109528.74,
"pendingInPer": 100,
"excluded": "No",
"isCash": "Yes",
"inModel": "No",
"isDeleted": 0,
"createdOn": "2017-02-17T01:41:54.000Z",
"createdBy": "Test@gmail.com",
"editedOn": "2017-02-17T01:41:54.000Z",
"editedBy": "Test@gmail.com"
}]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get Taxlot Detail

This api will be used to get holding taxlot detail

**GET** `https://baseurl/v1/holding/holdings/{:id}/taxlots`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/holding/holdings/1/taxlots
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | Taxlot Id. |
| dateAcquired | Date | Date acquired detail. |
| quantity | Number | Quantity detail. |
| costAmount | Number | Cost amount. |
| costPerShare | Number | Cost per share. |
| GLSection | JSON | Gain-Loss Summary. |
| -totalGainLoss | Number | Total Gain Loss Detail. |
| -totalGainLossStatus | String | Total Gain Loss status.(+/-) |
| -shortTermGL | Number | Short Term gain loss detail. |
| -shortTermGLStatus | String | Short Term Gain Loss status.(+/-). |
| -longTermGL | Number | Long Term gain loss detail. |
| -longTermGLStatus | String | Long Term Gain Loss status.(+/-). |
| isDeleted | Boolean | Taxlot exist or not into the system. |
| createdOn | Date | Taxlot creation date into application. |
| createdBy | String | Id of user who created the Taxlot into the system. |
| editedOn | Date | Taxlot edited date into application. |
| editedBy | String | Id of user who edited the Taxlot details into the system. |

```http
HTTP/1.1 200 OK
[
{
"id": 1,
"dateAcquired": "2016-08-09T06:40:38.000Z",
"quantity": 250,
"costAmount": 24,
"costPerShare": 22,
"GLSection": {
"totalGainLoss": -244,
"totalGainLossStatus": "Low",
"shortTermGL": 0,
"shortTermGLStatus": null,
"longTermGL": 278,
"longTermGLStatus": "High"
},
"isDeleted": 0,
"createdOn": "2016-08-26T06:41:42.000Z",
"createdBy": "prime@tgi.com",
"editedOn": "2016-08-26T06:41:47.000Z",
"editedBy": "Test@gmail.com"
},
{
"id": 2,
"dateAcquired": "2015-08-09T06:40:38.000Z",
"quantity": 250,
"costAmount": 23,
"costPerShare": 22,
"GLSection": {
"totalGainLoss": -244,
"totalGainLossStatus": "Low",
"shortTermGL": -822,
"shortTermGLStatus": "Low",
"longTermGL": 0,
"longTermGLStatus": null
},
"isDeleted": 0,
"createdOn": "2016-08-26T06:41:42.000Z",
"createdBy": "prime@tgi.com",
"editedOn": "2016-08-26T06:41:47.000Z",
"editedBy": "Test@gmail.com"
}]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```


## Search Holding by Account Id and Name and Portfolio Id and Name

This api will be used to Search Holding by Account Id and Name and Portfolio Id and Name

**GET** `https://baseurl/v1/holding/holdings?search={id/name}`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/holding/holdings?search=2
curl -i http://baseurl/v1/holding/holdings?search=Demo
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | Holding Id. |
| name | String | Security name. |
| value | String | Holding value. |
| type | String | Holding type. |
| createdOn | Date | Data creation date into application. |
| createdBy | String | Id of user who created the Holding into the system. |
| editedOn | Date | Data edited date into application. |
| editedBy | String | Id of user who edited the Holding details into the system. |

```http
HTTP/1.1 200 OK
[
{
"id": 3,
"name": "Anderson Alan L.",
"value": 0,
"type": "account",
"isDeleted": 0,
"createdOn": "2016-07-14T03:30:00.000Z",
"createdBy": "prime@tgi.com",
"editedOn": "2016-09-28T06:41:55.000Z",
"editedBy": "prime@tgi.com"
},
{
"id": 3,
"name": "Test Portfolio 3",
"value": 0,
"type": "portfolio",
"isDeleted": 0,
"createdOn": "2016-08-30T10:33:19.000Z",
"createdBy": "prime@tgi.com",
"editedOn": "2016-09-27T13:25:43.000Z",
"editedBy": "prime@tgi.com"
}]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Search Holding in Account Id

This api will be used to search of holding in account id

**GET** `https://baseurl/v1/holding/holdings/simple?inAccountId={id}&amp;search={id/name}`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/holding/holdings/simple?inAccountId=1&search=1
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | Holding Id. |
| securityName | String | Security Name. |
| securitySymbol | String | Security Symbol. |
| accountName | String | Account Name. |
| accountNumber | String | Account number associated with holding. |
| portfolioName | String | Portfolio name associated with account. |
| price | Number | Price of holding. |
| shares | Number | Shares. |
| value | Number | Holding value. |
| isDeleted | Boolean | Holding exist or not into the system. |
| createdOn | Date | Holding creation date into application. |
| createdBy | String | Id of user who created the Holding into the system. |
| editedOn | Date | Holding edited date into application. |
| editedBy | String | Id of user who edited the Holding details into the system. |

```http
HTTP/1.1 200 OK
[
{
"id": 1,
"securityName": "Int Pinnacle 3: Fid Growth Opps",
"securitySymbol": "INTG44310",
"accountName": "Kane, Jr.Fredric",
"accountNumber": "L05C900669",
"portfolioName": "Demo Portfolio",
"price": 10,
"shares": 250,
"value": 2500,
"isDeleted": 0,
"createdOn": "2016-09-29T03:30:00.000Z",
"createdBy": "prime@tgi.com",
"editedOn": "2016-07-14T03:30:00.000Z",
"editedBy": "prime@tgi.com"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Search Holding in Portfolio Id

This api will be used to search of holding in portfolio Id

**GET** `https://baseurl/v1/holding/holdings/simple?inPortfolioId={id}&amp;search={id/name}`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/holding/holdings/simple?inPortfolioId=1&search=10
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | Holding Id. |
| securityName | String | Security Name. |
| securitySymbol | String | Security Symbol. |
| accountName | String | Account Name. |
| accountNumber | String | Account number associated with holding. |
| portfolioName | String | Portfolio name associated with account. |
| price | Number | Price of holding. |
| shares | Number | Shares. |
| value | Number | Holding value. |
| isDeleted | Boolean | Holding exist or not into the system. |
| createdOn | Date | Holding creation date into application. |
| createdBy | String | Id of user who created the Holding into the system. |
| editedOn | Date | Holding edited date into application. |
| editedBy | String | Id of user who edited the Holding details into the system. |

```http
HTTP/1.1 200 OK
[
{
"id": 1,
"securityName": "Int Pinnacle 3: Fid Growth Opps",
"securitySymbol": "INTG44310",
"accountName": "Kane, Jr.Fredric",
"accountNumber": "L05C900669",
"portfolioName": "Demo Portfolio",
"price": 10,
"shares": 250,
"value": 2500,
"isDeleted": 0,
"createdOn": "2016-09-29T03:30:00.000Z",
"createdBy": "prime@tgi.com",
"editedOn": "2016-07-14T03:30:00.000Z",
"editedBy": "prime@tgi.com"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


---

# MacWeighting


## ADD Mac Weightings

This API add details of MAC Weightings.

**POST** `https://baseurl/v1/macWeighting?securityId=1`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/macWeighting?securityId=1
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| id | Number | Id of the blended fund. |
| name | String | Name of Blended Fund. |
| isDefault | Boolean | Is default or not. |
| classes | Object | Object with arrays, containing objects with class id and weightings. |
| categories | Object | Object with arrays, containing objects with category id and weightings. |
| subclasses | Object | Object with arrays, containing objects with subclass id and weightings. |
| teams | Object | Object with array containing team ids. |

```json
[
{
id:null,
name:'Blended Fund',
isDefault:false,
classes:{
added:[
{
id:1
weightPercent:10
}
],
edited:[],
deleted:[]
},
categories:{
added:[
{
id:1
weightPercent:10
}
],
edited:[],
deleted:[]
},
subclasses:{
added:[
{
id:1
weightPercent:10
}
],
edited:[],
deleted:[]
},
teams:{
added:[1,2],
edited:[],
deleted:[]
}
}
]
```

```http
HTTP/1.1 200 OK
[
{
"id": "1",
"weightingName": "Firm Default",
"teams":"Team A, Team B, Team C"
},
{
"id": "2",
"weightingName": "Ben Bedell",
"teams":"Team A, Team B, Team C"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```


## Assign MAC Weightings

This API Adds list of Assigned MAC Weightings.

**POST** `https://baseurl/v1/assignMacWeightings`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/macWeighting/assignMacWeightings
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| type | String | Portfolio / Account / Model. |
| ids | Array | Ids of Portfolio / Account / Model. |
| macStatus | Array | MAC is enabled/disabled/default. |
| weightings | Array | Array of weighting objects with securityId,weightingId,rank,taxableSecurity,taxDeferredSecurity,taxExemptSecurity. |

```json
{
"type": "Account",
"ids": [
414
],
"macStatus": 1,
"weightings": [
{
"securityId": "1",
"weightingId": 1,
"rank": 1,
"taxableSecurity": 1,
"taxDeferredSecurity": 1,
"taxExemptSecurity": 1
},
{
"securityId": "2",
"weightingId": 1,
"rank": 1,
"taxableSecurity": 1,
"taxDeferredSecurity": 1,
"taxExemptSecurity": 1
}
]
}
```

```http
HTTP/1.1 200 OK
"Added MAC Weighting Successfully"
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```


## Edit Assigned MAC Weightings

This API Adds list of Assigned MAC Weightings.

**PUT** `https://baseurl/v1/assignMacWeightings`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/macWeighting/assignMacWeightings
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| type | String | Portfolio / Account / Model. |
| ids | Array | Ids of Portfolio / Account / Model. |
| macStatus | Array | MAC is enabled/disabled/default. |
| weightings | Array | Array of weighting objects with securityId,weightingId,rank,taxableSecurity,taxDeferredSecurity,taxExemptSecurity. |

```json
{
"type": "Account",
"ids": [
414
],
"macStatus": 1,
"weightings": [
{
"securityId": "1",
"weightingId": 1,
"rank": 1,
"taxableSecurity": 1,
"taxDeferredSecurity": 1,
"taxExemptSecurity": 1
},
{
"securityId": "2",
"weightingId": 1,
"rank": 1,
"taxableSecurity": 1,
"taxDeferredSecurity": 1,
"taxExemptSecurity": 1
}
]
}
```

```http
HTTP/1.1 200 OK
"Added MAC Weighting Successfully"
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```


## DELETE a MAC Weigting

This API deletes a MAC Weighting.

**PATCH** `https://baseurl/v1/macWeighting?securityId=1&amp;validateDelete=true`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/macWeighting?securityId=1&validateDelete=true
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| ids | Array | MAC Weighting Ids. |

```json
{
ids:[1,2]
}
```

```http
HTTP/1.1 200 OK
[
{
"id": "1",
"weightingName": "Firm Default",
"teams":"Team A, Team B, Team C"
},
{
"id": "2",
"weightingName": "Ben Bedell",
"teams":"Team A, Team B, Team C"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```


## Edit Blended Fund

This API Edits details of a Blended fund.

**PUT** `https://baseurl/v1/macWeighting?securityId=1`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/macWeighting?securityId=1
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| id | Number | Id of the blended fund. |
| name | String | Name of Blended Fund. |
| isDefault | Boolean | Is default or not. |
| classes | Object | Object with arrays, containing objects with class id and weightings. |
| categories | Object | Object with arrays, containing objects with category id and weightings. |
| subclasses | Object | Object with arrays, containing objects with subclass id and weightings. |
| teams | Object | Object with array containing team ids. |

```json
{
id:1,
name:'Blended Fund',
isDefault:1,
classes:{
added:[
{
id:1
weightPercent:10
}
],
edited:[],
deleted:[]
},
categories:{
added:[
{
id:1
weightPercent:10
}
],
edited:[],
deleted:[]
},
subclasses:{
added:[
{
id:1
weightPercent:10
}
],
edited:[],
deleted:[]
},
teams:{
added:[1,2],
edited:[],
deleted:[]
}
}
```

```http
HTTP/1.1 200 OK
[
"securityId":1,
"isMultiAssetClass":0,
{
"id": "1",
"weightingName": "Firm Default",
"teams":"Team A, Team B, Team C"
},
{
"id": "2",
"weightingName": "Ben Bedell",
"teams":"Team A, Team B, Team C"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```


## GET Assigned MAC Weightings

This API gets list of Assigned MAC Weightings.

**GET** `https://baseurl/v1/assignedMacWeightingList/1?level=Portfolio`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/macWeighting/assignedMacWeightingList/1?level=Portfolio
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| id | Number | Portfolio / Account Id. |
| level | String | Portfolio / Account. |

```http
HTTP/1.1 200 OK
[
{
"securityId": "1",
"securityName": "Apache Corp",
"securitySymbol": "APA",
"weightingId": 1,
"rank": 1,
"macWeightingList": [
{
id:2,
weightinName:'A'
},
{
id:3,
weightinName:'B'
}
]
},
{
"securityId": "2",
"securityName": "Apple Corp",
"securitySymbol": "APPL",
"weightingId": 1,
"rank": 1,
"macWeightingList": [
{
id:2,
weightinName:'A'
},
{
id:3,
weightinName:'B'
}
]
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```


## GET MAC Securities List

This API gets list of Mac Securities.

**GET** `https://baseurl/v1/searchSecurity?searchString=P`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/macWeighting/searchSecurity?searchString=P
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| securityId | Number | Security Id. |

```http
HTTP/1.1 200 OK
[
{
"securityId": "1",
"securityName": "Apache Corp",
"securitySymbol": "APA"
},
{
"securityId": "2",
"securityName": "Apple Corp",
"securitySymbol": "APPL"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```


## GET MAC Weighting Detail

This API gets details of a MacWeighting.

**GET** `https://baseurl/v1/macWeighting?id=1`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/macWeighting?id=2
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| id | Number | Blended Fund Id. |

```http
HTTP/1.1 200 OK
{
"id":1,
"name":"Firm Default",
"isDefault":1,
"categories":[
{
"id":1
"name":"TEST",
"weightPercent":10
},
{
"id":2
"name":"TEST New",
"weightPercent":20
}
],
"classes":[
{
"id":1
"name":"TEST",
"weightPercent":10
},
{
"id":2
"name":"TEST New",
"weightPercent":20
}
],
"subclasses":[
{
"id":1
"name":"TEST",
"weightPercent":10
},
{
"id":2
"name":"TEST New",
"weightPercent":20
}
],
"teams":[
{
"id":1,
"name":"Team A"
]
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```


## GET MacWeighting List

This API gets list of MacWeighting added to a security.

**GET** `https://baseurl/v1/macWeighting?securityId=2`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/macWeighting?securityId=2
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| securityId | Number | Security Id. |

```http
HTTP/1.1 200 OK
[
{
"id": "1",
"weightingName": "Firm Default",
"teams":"Team A, Team B, Team C"
},
{
"id": "2",
"weightingName": "Ben Bedell",
"teams":"Team A, Team B, Team C"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```


## Unblend a Security from MAC

This API Unblends a Security from MAC.

**DELETE** `https://baseurl/v1/macWeighting?securityId=1&amp;unBlend=true&amp;forceDelete=true&amp;validateDelete=true`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/macWeighting?securityId=1&unBlend=true&forceDelete=true&validateDelete=true
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

```http
HTTP/1.1 200 OK
{
"Successfully Unblended the fund"
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```

```http
HTTP/1.1 500
{
canUnblend:false,
modelIds:'1,2,3',
portfolioIds:'2,4'
}
```


## Validate if security can be MAC enabled

This API validates if the security can be MAC enabled.

**GET** `https://baseurl/v1/macWeighting/validateMacConvert?securityId=1`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/macWeighting/validateMacConvert?securityId=1
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| securityId | Number | Security Id. |

```http
HTTP/1.1 200 OK
{
"canMACEnable":true
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```


## validate mac weightings

This API to validate macweighting based on model/portfolio/sleeve accounts

**POST** `https://baseurl/v1/validate`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/macWeighting/validate
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| type | string | type(portfolio/model/account). |
| ids | Array | modelIds/portfolioIds/sleeveAccountIds |
| validationLevel | Number | validationLeve(1/2/3/4). |
| weightings | Array | list of weightingIds,securityIds |

```json
{
"type": "model/portfolio/sleeve",
"ids": [
22
],
"validationLevel": 1,
"weightings": [
{
"securityId": 32309,
"weightingId": 77,
"taxableSecurity": "1",
"taxDeferredSecurity": "1",
"taxExemptSecurity": "1",
"rank": null,
"action": 1
}
]
}
```

```http
HTTP/1.1 200 OK
[
[{
"validationLevel": 1
}],
[{
"validationLevel": 1,
"modelId": null,
"modelName": "CV Fixed Income",
"securitySetId": 1148,
"securitySetName": "12345 set",
"securityId": 867,
"securitySymbol": "AAPL",
"doNotBuySell": 1
}, {
"validationLevel": 1,
"modelId": null,
"modelName": "CV Fixed Income",
"securitySetId": 213,
"securitySetName": "393 S2",
"securityId": 600,
"securitySymbol": "ARLP",
"doNotBuySell": 1
}]
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


---

# Model


## delete substituted model

This API is used to delete substituted model for portfolio or account.

**PUT** `https://baseurl/v1/models/deleteSubstitutedModel`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/modeling/models/deleteSubstitutedModel
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

```http
HTTP/1.1 200 OK
{
"message": "Substituted model deleted successfully"
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get Model simple details by Ids

This api will be used to Get model details by Ids

**POST** `https://baseurl/v1/modeling/models/simple/list`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/modeling/models/simple/list
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| ids | Array | Model Ids |

```json
{
"ids": [
147800,
1477,
277
]
}
```

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| name | String | ModelName. |
| id | Number | Model Id. |
| createdOn | Date | Model creation date into application. |
| editedOn | Date | Model edited date into application. |
| Description | string | Model Description |
| isCommunityModel | boolean | isCommunityModel |
| isSubstitutedForPortfolio | boolean | isSubstitutedForPortfolio |
| statusId | Number | StatusId |

```http
HTTP/1.1 200 OK
[
{
"id": 2,
"name": "Sam Family Model",
"description": null,
"isCommunityModel": null,
"isSubstitutedForPortfolio": 0,
"statusId": 1,
"createdOn": "2017-01-22T12:40:05.000Z",
"editedOn": "2017-03-24T02:42:31.000Z"
},
{
"id": 9,
"name": "80/20 Aggressive",
"description": "80/20 Aggressive",
"isCommunityModel": null,
"isSubstitutedForPortfolio": 0,
"statusId": 1,
"createdOn": "2017-01-24T10:59:54.000Z",
"editedOn": "2017-06-27T12:12:38.000Z"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


---

# Mutual Fund Batch


## Execute the batches or trades

This API execute the fix mutual fund batches or trades.

**PUT** `https://baseurl/v1/tradeorder/fixMutualFundBatch/execute`

```bash
curl -i http://baseurl/v1/tradeorder/fixMutualFundBatch/execute
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

```http
HTTP/1.1 200 OK
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get Active batches, Active batch trades and Pending Custodian Acceptance Trades count.

This API get Active batches, Active batch trades and Pending Custodian Acceptance Trades count.

**GET** `https://baseurl/v1/tradeorder/fixMutualFundBatch/action/batchCount`

```bash
curl -i http://baseurl/v1/tradeorder/fixMutualFundBatch/action/batchCount
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

```http
HTTP/1.1 200 OK
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get All Active Fix Mutual Fund Trades

This API get all active Fix Mutual Fund Trades.

**GET** `https://baseurl/v1/tradeorder/fixMutualFundBatch/trades`

```bash
curl -i http://baseurl/v1/tradeorder/fixMutualFundBatch/trades
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

```http
HTTP/1.1 200 OK
[
{
JSON
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get All Fix Mutual Fund batches

This API get all the active Fix Mutual Fund batches.

**GET** `https://baseurl/v1/tradeorder/fixMutualFundBatch?filter='Closed'&amp;startDate=2021-01-22&amp;endDate=2021-01-24`

```bash
curl -i http://baseurl/v1/tradeorder/fixMutualFundBatch?filter='Closed'&startDate=2021-01-22&endDate=2021-01-24
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

```http
HTTP/1.1 200 OK
[
{
JSON
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get Fix Mutual Fund batch And Trades By BatchId

This API Get Fix Mutual Fund batch And Trades By BatchId

**GET** `https://baseurl/v1/tradeorder/fixMutualFundBatch/:batchId?filter='Closed'`

```bash
curl -i http://baseurl/v1/tradeorder/fixMutualFundBatch/:batchId?filter='Closed'
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

```http
HTTP/1.1 200 OK
[
{
JSON
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get Fix Mutual Fund Trades By BatchId

This API get all Fix Mutual Fund Trades by batchId.

**GET** `https://baseurl/v1/tradeorder/fixMutualFundBatch/trades/:batchId?startDate=2021-01-22&amp;endDate=2021-01-24`

```bash
curl -i http://baseurl/v1/tradeorder/fixMutualFundBatch/trades/:batchId?startDate=2021-01-22&endDate=2021-01-24
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

```http
HTTP/1.1 200 OK
[
{
JSON
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Refresh The Batch Status

This API is used to update the batch status if any batch stuck on Sent and Execution status.

**PUT** `https://baseurl/v1/tradeorder/fixMutualFundBatch/refreshBatchStatus`

```bash
curl -i http://baseurl/v1/tradeorder/fixMutualFundBatch/refreshBatchStatus
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| ids | Number | Batch ids. |

```json
{
ids: [
1,
2,
3
]
}
```

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| message | String | Success Message. |

```http
HTTP/1.1 200 OK
{
message: "Batch status successfully updated."
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Reset the selected batches to order grid

This API reset the Fix Mutual Fund batches.

**PUT** `https://baseurl/v1/tradeorder/fixMutualFundBatch/resetBatches`

```bash
curl -i http://baseurl/v1/tradeorder/fixMutualFundBatch/resetBatches
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

```http
HTTP/1.1 200 OK
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


---

# Notifications


## Assign user to activity

This API adds user to activity.

**POST** `https://baseurl/v1/notification/activities/:id/users`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/notification/activities/14/users
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| userIds | Array | The usersIds assign to activity. |

```json
{
"userIds": [
66,
144
]
}
```

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| message | String | User assigned to activity successfully |

```http
HTTP/1.1 200 OK
{
"message":"User assigned to activity successfully"
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```


## Create Activity

This API adds activity into application.

**POST** `https://baseurl/v1/notification/activities`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/notification/activities
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| name | String | The activity name. |
| description | String | The activity description. |

```json
{
"name": "name of Activity",
"description": "description for the activity"
}
```

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The activity ID. |
| name | String | Name of activity. |
| description | String | Description of activity |
| isCompleted | Boolean | Activity complete status |
| isDeleted | Boolean | Activity exist or not into the system. |
| createdOn | Date | Activity creation date into application. |
| createdBy | Number | Full Name of user who created the Activity into the system. |
| editedOn | Date | Activity edited date into application. |
| editedBy | Number | Full Name of user who edited the Activity details into the system. |

```http
HTTP/1.1 200 OK
{
"id": 1,
"name": "Team Create",
"description": "We have to create team"
"isCompleted": 1,
"isDeleted": 0,
"createdOn": "2016-06-08T09:24:16.000Z",
"createdBy": "Prime Prime",
"editedOn": "2016-06-30T04:33:14.000Z",
"editedBy" : "Prime Prime"
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |
| FORBIDDEN | When user already exist with same id. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```

```http
HTTP/1.1 403 FORBIDDEN
{
"message": "Invalid notification Id for logged in user"
}
```


## Create And Send Notification

This API adds notification to the system and send to the subscribed users.

**POST** `https://baseurl/v1/notification/notifications/action/generate`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/notification/notifications/action/generate
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| code | String | The notification topic code to which notification belongs. |
| subject | String | The subject for notification |
| body | String | The body for notification |

```json
{
"code" : "TRADEGEN",
"subject : "Trade genration notification",
"body" : "Trade genrated successfully to the system"
}
```

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | Id for notification |
| subject | String | subjectfor notification |
| body | String | body for notification |
| readStatus | String | read status for notification |
| notificationCategory | Object | notification category for notification |
| notificationCategoryType | Object | notification category type for notification |
| isDeleted | Boolean | isDeleted for notification |
| createdOn | Date | created date for notification |
| createdBy | String | created by for notification |
| editedOn | Date | edited date for notification |
| editedBy | String | edited by for notification |

```http
HTTP/1.1 200 OK
{
"id": 82,
"subject": "the subject i have is",
"body": "the body of the intention ",
"readStatus": 0,
"notificationCategory": {
"id": 1,
"name": "Trading"
},
"notificationCategoryType": {
"id": 1,
"name": "Trade Generation",
"code": "TRADEGEN"
},
"isDeleted": 0,
"createdOn": "2017-01-04T06:38:46.000Z",
"createdBy": "prime@tgi.com",
"editedOn": "2017-01-04T06:38:46.000Z",
"editedBy": "prime@tgi.com"
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```


## Delete All notification

This API deletes (soft delete) notification for logged in user from application.

**DELETE** `https://baseurl/v1/notification/notifications/deleteAll`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/notification/notifications/deleteAll
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| message | String | All user notifications deleted successfully. |

```http
HTTP/1.1 200 OK
{
"message": "All user notifications deleted successfully"
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```


## Delete notification

This API deletes (soft delete) notification for logged in user from application.

**DELETE** `https://baseurl/v1/notification/notifications/:id`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/notification/notifications/324578
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| message | String | Notification deleted message. |

```http
HTTP/1.1 200 OK
{
"message": "Notification deleted successfully"
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |
| Not_Found | When notification does not exist or already deleted. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```

```http
HTTP/1.1 404 Not_Found
{
"message": "Notification does not exist or already deleted"
}
```


## Get Activity List

This API get activity list.

**GET** `https://baseurl/v1/notification/activities`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/notification/activities
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The activity ID. |
| name | String | Name of activity. |
| description | String | Description of activity |
| isCompleted | Boolean | Activity complete status |
| isDeleted | Boolean | Activity exist or not into the system. |
| createdOn | Date | Activity creation date into application. |
| createdBy | Number | Full Name of user who created the Activity into the system. |
| editedOn | Date | Activity edited date into application. |
| editedBy | Number | Full Name of user who edited the Activity details into the system. |

```http
HTTP/1.1 200 OK
[
{
"id": 1,
"name": "Team Create",
"description": "We have to create team"
"isCompleted": 1,
"isDeleted": 0,
"createdOn": "2016-06-08T09:24:16.000Z",
"createdBy": "Prime Prime",
"editedOn": "2016-06-30T04:33:14.000Z",
"editedBy" : "Prime Prime"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get all notification topics

This API get notifications topic list.

**GET** `https://baseurl/v1/notification/notifications/topics/master`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/notification/notifications/topics/master
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | Notification category type id. |
| name | String | Notification category type name. |
| code | String | Notification category type code. |
| subject | String | Notification category Type subject. |
| notificationCategoryId | Number | Notification category id |
| notificationCategoryName | String | Notification category name |

```http
HTTP/1.1 200 OK
[
{
"id": 1,
"name": "Trade Generation",
"code": "TRADEGEN",
"description": "Once Trade generation process is complete, all the failures (Errors and Warnings) count should be updated on Notification window.",
"subject": "Trade Genration Notification",
"notificationCategoryId": 1,
"notificationCategoryName": "Trading"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```


## Get Count of all notifications

This API getCount of totalnotifications count od Read notifications from notification list.

**GET** `https://baseurl/v1/notification/notifications/count`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/notification/notifications/count
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

```http
HTTP/1.1 200 OK
{
"TotalNotificationCount":200,
"ReadNotificationCount":100
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get notification status for processId

This API Get notification status for processId.

**GET** `https://baseurl/v1/notification/notifications/:processId/status`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/notification/notifications/15009876/status
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| isActive | Boolean | Flag to check if notification is active for processId |
| type | String | Type of Notification |

```http
HTTP/1.1 200 OK
{
"isActive": true,
"type": "analysis"
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```


## Get Notifications List

This API get notifications list.

**GET** `https://baseurl/v1/notification/notifications`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/notification/notifications
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The Notification ID. |
| subject | String | Subject of the Notification. |
| body | String | Body of the Notification. |
| readStatus | Boolean | Read Status of the Notification. |
| notificationCategory | Object | Category of the Notification. |
| notificationCategoryType | Object | Category Type of the Notification. |
| isDeleted | Boolean | Notification exist or not into the system. |
| createdOn | Date | Notification creation date into application. |
| createdBy | Number | Full Name of user who created the Notification into the system. |
| editedOn | Date | Notification edited date into application. |
| editedBy | Number | Full Name of user who edited the Notification details into the system. |

```http
HTTP/1.1 200 OK
[{
"id": 1,
"subject": "Trading",
"body": "10 Trades happened successfully"
"readStatus": 1,
"notificationCategory": {
"id": 1,
"name":"Trading"
},
"notificationCategoryType":{
"id": 1,
"name": "Trading Faliure",
"code": "TRADEGEN"
},
"isDeleted": 0,
"createdOn": "2016-06-08T09:24:16.000Z",
"createdBy": "Prime Prime",
"editedOn": "2016-06-30T04:33:14.000Z",
"editedBy" : "Prime Prime",
"severityType":"Success"
}]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get subscribed notification topics

This API get subscribed notifications topic list.

**GET** `https://baseurl/v1/notification/notifications/topics`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/notification/notifications/topics
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | Notification category type id. |
| name | String | Notification category type name. |
| code | String | Notification category type code. |
| description | String | Notification category type description. |
| subject | String | Notification category type subject. |
| deliveryMode | Number | Notification category type delivery mode. |
| notificationCategoryId | Number | Notification category id. |
| notificationCategoryName | String | Notification category name. |
| enabled | Boolean | Notification enable status |
| sendEmail | Boolean | Send mail for notification check |
| isDeleted | Boolean | Notification subscription exist or not into the system. |
| createdOn | Date | Notification subscription creation date into application. |
| editedOn | Date | Notification subscription edit date into application. |
| createdBy | Number | Full Name of user who created the user subscription for Notification into the system. |
| editedBy | Number | Full Name of user who edited the user subscription for Notification into the system. |

```http
HTTP/1.1 200 OK
[
{
"id": 1,
"name": "Trade Generation",
"code": "TRADEGEN",
"description": "Once Trade generation process is complete, all the failures (Errors and Warnings) count should be updated on Notification window.",
"subject": "Trade Genration Notification",
"deliveryMode": 4,
"notificationCategoryId": 1,
"notificationCategoryName": "Trading",
"enabled": 1,
"sendEmail": 1,
"isDeleted": 1,
"createdOn": null,
"editedOn": "2016-11-05T06:42:31.000Z",
"createdBy": "prime@tgi.com",
"editedBy": "prime@tgi.com"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```


## Get top Notifications List

This API get top notifications from list.

**GET** `https://baseurl/v1/notification/notifications?top={numberOfNotifications}`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/notification/notifications?top={numberOfNotifications}
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The Notification ID. |
| subject | String | Subject of the Notification. |
| body | String | Body of the Notification. |
| readStatus | Boolean | Read Status of the Notification. |
| notificationCategory | Object | Category of the Notification. |
| notificationCategoryType | Object | Category Type of the Notification. |
| isDeleted | Boolean | Notification exist or not into the system. |
| createdOn | Date | Notification creation date into application. |
| createdBy | Number | Full Name of user who created the Notification into the system. |
| editedOn | Date | Notification edited date into application. |
| editedBy | Number | Full Name of user who edited the Notification details into the system. |

```http
HTTP/1.1 200 OK
[{
"id": 1,
"subject": "Trading",
"body": "10 Trades happened successfully"
"readStatus": 1,
"notificationCategory": {
"id": 1,
"name":"Trading"
},
"notificationCategoryType":{
"id": 1,
"name": "Trading Faliure",
"code": "TRADEGEN"
},
"isDeleted": 0,
"createdOn": "2016-06-08T09:24:16.000Z",
"createdBy": "Prime Prime",
"editedOn": "2016-06-30T04:33:14.000Z",
"editedBy" : "Prime Prime",
"severityType":"Success"
}]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get users assigned to Activity

This API get users assigned to the activity.

**GET** `https://baseurl/v1/notification/activities/:id/users`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/notification/activities/14/users
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| userId | Number | The user id. |
| name | String | The user name. |
| role | String | The role name of user. |
| status | Boolean | User status |

```http
HTTP/1.1 200 OK
[{
"userId": 66,
"userName": "Demo Unit",
"role": "Rep Manag1er",
"status": 1
}]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Read All notification

This API read all user notifications

**GET** `https://baseurl/v1/notification/notifications/readAll`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/notification/notifications/readAll
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| message | String | All user notifications read successfully. |

```http
HTTP/1.1 200 OK
{
"message": "All user notifications read successfully"
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```


## Read Notification

This API adds Notification into application.

**PUT** `https://baseurl/v1/notification/notifications/read`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/notification/notifications/read
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| ids | Array | The notification Id to read. |
| readStatus | Boolean | Read/Unread notifications. |

```json
{
"ids": [
1122,
234
],
"readStatus": 0
}
```

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| message | String | Notification read successfully by user. |

```http
HTTP/1.1 200 OK
{
"message" : "Notification read successfully by user"
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |
| FORBIDDEN | When user already exist with same id. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```

```http
HTTP/1.1 403 FORBIDDEN
{
"message": "Invalid notification Id for logged in user"
}
```


## Search Activities

This API search notification activities.

**GET** `https://baseurl/v1/notification/activities?search={id}`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/notification/activities?search=1
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The activity ID. |
| name | String | Name of activity. |
| description | String | Description of activity |
| isCompleted | Boolean | Activity complete status |
| isDeleted | Boolean | Activity exist or not into the system. |
| createdOn | Date | Activity creation date into application. |
| createdBy | Number | Full Name of user who created the Activity into the system. |
| editedOn | Date | Activity edited date into application. |
| editedBy | Number | Full Name of user who edited the Activity details into the system. |

```http
HTTP/1.1 200 OK
[
{
"id": 1,
"name": "Team Create",
"description": "We have to create team"
"isCompleted": 1,
"isDeleted": 0,
"createdOn": "2016-06-08T09:24:16.000Z",
"createdBy": "Prime Prime",
"editedOn": "2016-06-30T04:33:14.000Z",
"editedBy" : "Prime Prime"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Search Notifications

This API search notifications.

**GET** `https://baseurl/v1/notification/notifications?search={id}`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/notification/notifications?search=1
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The Notification ID. |
| subject | String | Subject of the Notification. |
| body | String | Body of the Notification. |
| readStatus | Boolean | Read Status of the Notification. |
| notificationCategory | Object | Category of the Notification. |
| notificationCategoryType | Object | Category Type of the Notification. |
| isDeleted | Boolean | Notification exist or not into the system. |
| createdOn | Date | Notification creation date into application. |
| createdBy | Number | Full Name of user who created the Notification into the system. |
| editedOn | Date | Notification edited date into application. |
| editedBy | Number | Full Name of user who edited the Notification details into the system. |

```http
HTTP/1.1 200 OK
[
{
"id": 1,
"subject": "Trading",
"body": "10 Trades happened successfully"
"readStatus": 1,
"notificationCategory": {
"id": 1,
"name":"Trading"
},
"notificationCategoryType":{
"id": 1,
"name": "Trading Faliure",
"code": "TRADEGEN"
},
"isDeleted": 0,
"createdOn": "2016-06-08T09:24:16.000Z",
"createdBy": "Prime Prime",
"editedOn": "2016-06-30T04:33:14.000Z",
"editedBy" : "Prime Prime"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Send notifcation to subscribed users

This API send notification to the subscribe user to that topic.

**POST** `https://baseurl/v1/notification/notifications/action/notify`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/notification/notifications/action/notify
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| code | String | The notification topic code to which notification belongs. |
| menuNotification/progressNotification | Object | The menu notification object. OR The progress notification object. |

```json
{
"code": "TRADEGEN",
"menuNotification": {
"total": 1500,
"increment": "1/-1"
}
}
```

```json
{
"code": "TRADEGEN",
"progressNotification": {
"message": "Rebalancer is running...10%",
"status": "IN_PROGRESS/COMPLETED",
"progress": 85
}
}
```

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| message | Message | Notification emitted successfully |

```http
HTTP/1.1 200 OK
{
"message": "Notification emitted successfully"
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```


## Subscribe Notification Topic

This API adds Orion Connect User into application.

**PUT** `https://baseurl/v1/notification/notifications/topics`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/notification/notifications/topics
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| email | String | The email of login User on which notifications will be send. |
| notificationTopics | Array | The notification topics to subscribe. |

```json
{
"email": "test@gmail.com",
"notificationTopics": [
{
"id": 1,
"isEnable": 1,
"isEmail": 1
}
]
}
```

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| message | String | Notification Category Types subscribed successfully |

```http
HTTP/1.1 200 OK
{
"message" : "Notification Category Types subscribed successfully"
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```


## Unsubscribe Notification Topic

This API unsubscribe logged in user from notificationCategoryTypeId

**DELETE** `https://baseurl/v1/notification/notifications/topics/2`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/notification/notifications/topics/2
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| message | String | User unsubscribed from notificationCategoryTypeId. |

```http
HTTP/1.1 200 OK
{
"message": "Notification category type unsubscribed successfully"
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |
| Not_Found | When Notification category type id is not subscribed for user. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```

```http
HTTP/1.1 404 Not_Found
{
"message": "Notification category type id is not subscribed for user"
}
```


## Update Activity

This API update activity into application.

**PUT** `https://baseurl/v1/notification/activities/:id`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/notification/activities/1
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| name | String | The activity name. |
| description | String | The activity description. |
| isCompleted | Boolean | The activity complete status. |

```json
{
"name": "name of Activity",
"description": "description for the activity",
"isCompleted": true
}
```

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The activity ID. |
| name | String | Name of activity. |
| description | String | Description of activity |
| isCompleted | Boolean | Activity complete status |
| isDeleted | Boolean | Activity exist or not into the system. |
| createdOn | Date | Activity creation date into application. |
| createdBy | Number | Full Name of user who created the Activity into the system. |
| editedOn | Date | Activity edited date into application. |
| editedBy | Number | Full Name of user who edited the Activity details into the system. |

```http
HTTP/1.1 200 OK
{
"id": 1,
"name": "Team Create",
"description": "We have to create team"
"isCompleted": 1,
"isDeleted": 0,
"createdOn": "2016-06-08T09:24:16.000Z",
"createdBy": "Prime Prime",
"editedOn": "2016-06-30T04:33:14.000Z",
"editedBy" : "Prime Prime"
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |
| FORBIDDEN | When user already exist with same id. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```

```http
HTTP/1.1 403 FORBIDDEN
{
"message": "Invalid notification Id for logged in user"
}
```


---

# Portfolio


## Add aside

This api will be used to add aside.

**POST** `https://baseurl/v1v1/portfolio/portfolios/:id/asideCash`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/portfolio/portfolios/1/asideCash
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| cashAmountTypeId | Number | The aside cashAmountTypeId. |
| cashAmount | Number | The aside cashAmount. |
| expirationTypeId | Number | The aside expirationTypeId. |
| expirationValue | String | The aside expirationValue. |
| toleranceValue | Number | The aside toleranceValue. |
| description | String | The aside description. |
| id | Number | The aside cash id. |
| minCashAmount | Number | The aside minCashAmount. |
| maxCashAmount | Number | The aside maxCashAmount. |
| percentCalculationTypeId | Number | The aside percentCalculationTypeId. |
| percentCalculationType | String | The aside percentCalculationType. |
| setAsideAccountTypeId | Number | The aside setAsideAccountTypeId. |
| setAsideAccountTypeName | String | The aside setAsideAccountTypeName. |

```json
{
"cashAmountTypeId":1,
"cashAmount":900,
"expirationTypeId":1,
"expirationValue":"02/22/2015",
"toleranceValue":87,
"description":"Aside Cash",
"id": 5
"minCashAmount": 88
"maxCashAmount": 1000
"percentCalculationType": "Use Default/Managed Value"
"percentCalculationTypeId": 0
"setAsideAccountTypeId": 2
"setAsideAccountTypeName": "Distribution"
"tempId": -14730
}
```

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| message | String | Success message. |

```http
HTTP/1.1 201 OK
{
"message": "Set aside cash added successfully"
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Assign model to portfolio.

This API Assign model to portfolio.

**POST** `https://baseurl/v1v1/portfolio/portfolios/:id/portfolios`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/portfolio/portfolios/:id/portfolios
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| id | Number | PortfolioId |
| substitutedModelId | Number | SubstitutedModelId |
| requestedById | Guid | RequestedById |

```json
{
"id" : ID,
"substitutedModelId" : "SUBSTITUTED_MODEL_ID",
"requestedById" : "REQUESTED_BY_ID"
}
```

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| messages | String | Shows the status of result |

```http
HTTP/1.1 200 OK
{
"messages" : "Model assigned with Portfolios"
}
HTTP/1.1 201 OK
{
"messages" : "Model assigned with Portfolios but waiting for approval"
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |
| Bad_Request | When missing required parameters. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```

```http
HTTP/1.1 400 Bad_Request
{
"message": "Missing required parameters"
}
```


## Delete aside

This api will be used to delete aside.

**DELETE** `https://baseurl/v1/portfolio/portfolios/:id/asideCash/:asideCashId`

**Permission:** `appUser`

```bash
curl -i http://baseurl/portfolio/portfolios/1/asideCash/32
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| message | String | Success message. |

```http
HTTP/1.1 200 OK
{
"message": "Set aside cash deleted successfully"
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get all aside list

This api will be used to get aside all aside list.

**GET** `https://baseurl/v1/portfolio/portfolios/:id/asidecash`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/portfolio/portfolios/1/asidecash
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The Aside Id. |
| description | String | The aside description. |
| cashAmountTypeId | Number | Aside cashAmountTypeId |
| cashAmountTypeName | String | Aside cashAmountTypeName |
| cashAmount | Number | Aside cashAmount |
| expirationTypeId | Number | Aside expirationTypeId |
| expirationTypeName | String | Aside expirationTypeName |
| expirationValue | String | Aside Date or TransactionTypeName |
| toleranceValue | Number | Aside toleranceValue |
| expiredOn | Date | Aside expiredOn |
| setAsideAccountTypeId | Number | Aside setAsideAccountTypeId |
| setAsideAccountTypeName | String | Aside setAsideAccountTypeName |
| isExpired | Boolean | Aside isExpired |
| isDeleted | Boolean | Aside exist or not into the system. |
| createdOn | Date | Aside creation date into application. |
| createdBy | String | Id of user who created the Aside into the system. |
| editedOn | Date | Aside edited date into application. |
| editedBy | String | Id of user who edited the Aside details into the system. |

```http
HTTP/1.1 200 OK
[
{
"id": 1,
"description": null,
"cashAmountTypeId": 1,
"cashAmountTypeName": "Dollar",
"cashAmount": 900,
"expirationTypeId": 1,
"expirationTypeName": "Date",
"expirationValue": null,
"toleranceValue": 86,
"expiredOn": "2016-11-02T07:21:51.000Z",
"isExpired": true,
"setAsideAccountTypeId": 1,
"setAsideAccountTypeName": "Contribution",
"isDeleted": 0,
"createdOn": "2016-10-24T10:15:13.000Z",
"createdBy": "prime@tgi.com",
"editedOn": "2016-10-25T05:29:24.000Z",
"editedBy": "prime@tgi.com"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get aside Cash Account Type

This api will be used to get aside cash account type.

**GET** `https://baseurl/v1v1/portfolio/portfolios/asideCashAccountType`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/portfolio/portfolios/asideCashAccountType
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | String | The Aside Cash Account Type Id. |
| name | String | Aside Cash Account Type name |

```http
HTTP/1.1 200 OK
[
{
"id": 1,
"name": "Contribution"
},
{
"id": 2,
"name": "Distribution"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get aside details

This api will be used to get aside details.

**GET** `https://baseurl/v1/portfolio/portfolios/:id/asideCash/:asideCashId`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/portfolio/portfolios/1/asideCash/41
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The Aside Id. |
| portfolioId | Number | The portfolioId Id. |
| description | String | The Aside description. |
| cashAmountTypeId | Number | Aside cashAmountTypeId |
| cashAmount | Number | Aside cashAmount |
| expirationTypeId | Number | Aside expirationTypeId |
| expirationValue | String | Aside Date or TransactionTypeName |
| toleranceValue | String | Aside toleranceValue |
| isExpired | Boolean | Aside isExpired |
| setAsideAccountTypeId | Number | Aside setAsideAccountTypeId |
| isDeleted | Boolean | Aside exist or not into the system. |
| createdOn | Date | Aside creation date into application. |
| createdBy | String | Id of user who created the Aside into the system. |
| editedOn | Date | Aside edited date into application. |
| editedBy | String | Id of user who edited the Aside details into the system. |

```http
HTTP/1.1 200 OK
{
"id": 41,
"portfolioId": 1,
"description": "null",
"cashAmountTypeId": 1,
"cashAmount": 1900,
"expirationTypeId": 1,
"expirationValue": "2016-11-02T11:18:35.000Z",
"toleranceValue": null,
"isExpired": false,
"setAsideAccountTypeId": 1,
"isDeleted": 0,
"createdOn": "2016-11-02T11:18:35.000Z",
"createdBy": "prime@tgi.com",
"editedOn": "2016-10-25T05:29:24.000Z",
"editedBy": "prime@tgi.com"
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get Portfolio flag by portfolio ids

This API is used to get Portfolio flag.

**POST** `https://baseurl/v1/portfolio/portfolioFlag`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/portfolio/portfolioFlag
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

```http
HTTP/1.1 200 OK
{
"dateTime": "2016-10-30T06:19:20.000Z",
"value": {
portfolioId: 1114,
needAnalytics: 1
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


---

# Query Builder


## Add Query

This API adds new query into application.

**POST** `https://baseurl/v1/querybuilder/queries`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/querybuilder/queries
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| name | String | name of the Query. |
| where | Object | Condition Part of query. |
| columnIds | Array | selected columns for query. |
| isAdvanced | Boolean | Advanced/Standard Query |
| isTradeGroup | Boolean | Query is trade group |
| isFavourite | Boolean | Query is Favourite |

```json
{
"name": "New Query here",
"isFavourite": 0,
"isTradeGroup": 1,
"isAdvanced": 0,
"columnIds": [
1,
2,
3
],
"where": {
"condition": "Or",
"rules": [],
"groups": [
{
"condition": "Or",
"rules": [
{
"selectedColumnId": 1,
"operator": "Equal",
"value": "1",
"isPredefined": 1
}
],
"groups": [
{
"condition": "And",
"rules": [
{
"selectedColumnId": 1,
"operator": "Equal",
"value": 1,
"isMacro": 1,
"isPredefined": 1
},
{
"selectedColumnId": 1,
"operator": "Equal",
"value": "3",
"isPredefined": 1
}
],
"groups": []
}
]
},
{
"condition": "And",
"rules": [
{
"selectedColumnId": 1,
"operator": "Equal",
"value": "1",
"isPredefined": 1
},
{
"selectedColumnId": 1,
"operator": "Equal",
"value": "4",
"isPredefined": 1
},
{
"selectedColumnId": 1,
"operator": "Equal",
"value": "karam",
"isPredefined": 1
}
],
"groups": []
}
]
}
}
```

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The Query Id. |
| name | String | Name of the Query. |
| selectedColumns | Array | Selected columns in query |
| isAdvanced | Boolean | True for advanced query |
| isFavourite | Boolean | True for favourite query |
| isTradeGroup | Boolean | True for trade group query |
| where | Object | Where part of Query |
| createdOn | Date | Query creation date into application. |
| createdBy | Number | Full Name of user who created the Query into the system. |
| editedOn | Date | Query edited date into application. |
| editedBy | String | Full Name of user who edited the Query details into the system. |

```http
HTTP/1.1 200 OK
[{
"id": 9,
"name": "New Query here",
"isFavourite": 0,
<span class="Apple-converted-space"> 		 "isTradeGroup":1,
<span class="Apple-converted-space"> 		 "isAdvanced": 0,
"selectedColumns": [
{
"id": 1,
"name": "id",
"dataTypeId": 1,
"moduleId": 1,
"moduleName": "account",
"isPredefined:1
},
{
"id": 2,
"name": "name",
"moduleId": 1,
"moduleName": "account",
"isPredefined:1
},
{
"id": 3,
"name": "account",
"moduleId": 2,
"moduleName": "model",
"isPredefined:1
}
],
"where": {
"condition": "Or",
"rules": [],
"groups": [
{
"condition": "Or",
"rules": [
{
"selectedColumnId": 1,
"operator": "Equal",
"value": 1,
"isMacro":1,
"isPredefined":1
}
],
"groups": [
{
"condition": "And",
"rules": [
{
"selectedColumnId": 1,
"operator": "Equal",
"value": "1",
"isPredefined":1
},
{
"selectedColumnId": 1,
"operator": "Equal",
"value": "3",
"isPredefined":1
}
],
"groups": []
}
]
},
{
"condition": "And",
"rules": [
{
"selectedColumnId": 1,
"operator": "Equal",
"value": "1",
"isPredefined":1
},
{
"selectedColumnId": 1,
"operator": "Equal",
"value": "4",
"isPredefined":1
},
{
"selectedColumnId": 1,
"operator": "Equal",
"value": "karam",
"isPredefined":1
}
],
"groups": []
}
]
},
"createdOn": "2016-07-07T01:17:52.000Z",
"createdBy": "Prime Prime",
"editedOn": "2016-07-09T02:00:47.000Z",
"editedBy": "Prime Prime"
}]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |
| Bad_Request | When without request data. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```

```http
HTTP/1.1 400 Bad_Request
{
"message": "Bad Request: Verify request data"
}
```


## Delete Query

This API delete query from application.

**DELETE** `https://baseurl/v1/querybuilder/queries/:id`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/querybuilder/queries/:id
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| message | String | Success message after query delete. |

```http
HTTP/1.1 200 OK
{
"message": "Query deleted successfully"
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |
| Query | does not exist |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```

```http
HTTP/1.1 404 Not_Found
{
"message": "Query does not exist"
}
```


## Execute Query

This API Get query detail from application.

**GET** `https://baseurl/v1/querybuilder/queries/:id/execute`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/querybuilder/queries/:id/execute
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The Query Id. |
| name | String | Name of the Query. |
| selectedColumns | Array | Selected columns in query |
| result | Array | Result of query |

```http
HTTP/1.1 200 OK
{
"id": 4,
"name": "Account_QUERY_TG",
"selectedColumns": [
{
"id": 48,
"name": "accountId",
"dataTypeId": 2,
"columnDisplayOrder": 1,
"isPredefined": 0,
"moduleId": 2,
"moduleName": "Account",
"displayName": "Account.accountId"
}
],
"result": [
{
"Account.accountId": "477_321"
}
]
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```


## Execute Query

This API Get query detail from application.

**GET** `https://baseurl/v1/querybuilder/queries/portfolioFlags/:id/execute`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/querybuilder/queries/portfolioFlags/:id/execute
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The Query Id. |
| name | String | Name of the Query. |
| selectedColumns | Array | Selected columns in query |
| result | Array | Result of query |

```http
HTTP/1.1 200 OK
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```


## Get account detials

This API Get AccountDetails detail Based on TradeGroupId.

**GET** `https://baseurl/v1/querybuilder/queries/:tradeGroupId/accountdetails`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/querybuilder/queries/:id/accountdetails
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | System Generated Id. |
| name | String | Account Name. |
| accountId | Number | Account Id. |
| accountNumber | String | Account Number. |
| accountType | String | Account Type. |
| portfolioName | String | Portfolio Name. |
| isSleeve | Boolean | isSleeve flag. |
| isDeleted | Boolean | Account exist or not into the system. |
| createdOn | Date | Account creation date into application. |
| createdBy | String | Id of user who created the Account into the system. |
| editedOn | Date | Account edited date into application. |
| editedBy | String | Id of user who edited the Account details into the system. |

```http
HTTP/1.1 200 OK
[
{
"id": 41,
"name": "Dimensional Fund Advisors Hurst",
"accountNumber": "LC-AFD",
"accountType": "CORP",
"isSleeve": false,
"value": 0,
"portfolioId": 16,
"portfolioName": "Hurst, Unique",
"modelId": 17,
"accountId": "477_321",
"isDeleted": 0,
"createdOn": "2017-02-13T13:01:27.000Z",
"createdBy": "Test@gmail.com",
"editedOn": "2017-03-01T00:30:46.000Z",
"editedBy": "prime@tgi.com"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```


## Get filtered Query List

This API get filtered query list from application.

**GET** `https://baseurl/v1/querybuilder/queries?favourite=true`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/querybuilder/queries?favourite=true
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The Query Id. |
| name | String | Name of the Query. |
| selectedColumns | Array | Selected columns in query |
| isAdvanced | Boolean | True for advanced query |
| isTradeGroup | Boolean | True for trade group query |
| isFavourite | Boolean | True for favourite query |
| where | Object | Where part of Query |
| createdOn | Date | Query creation date into application. |
| createdBy | Number | Full Name of user who created the Query into the system. |
| editedOn | Date | Query edited date into application. |
| editedBy | String | Full Name of user who edited the Query details into the system. |

```http
HTTP/1.1 200 OK
[{
"id": 9,
"name": "New Query here",
"isFavourite": 1,
<span class="Apple-converted-space"> 		 "isAdvanced": 0,
<span class="Apple-converted-space"> 		 "isTradeGroup":1,
"selectedColumns": [
{
"id": 1,
"name": "id",
"dataTypeId": 1,
"columnDisplayOrder":1,
"moduleId": 1,
"moduleName": "account",
"isPredefined":1,
"displayName" : "account.id"
},
{
"id": 2,
"name": "name",
"dataTypeId": 1,
"columnDisplayOrder":2,
"moduleId": 1,
"moduleName": "account",
"isPredefined":1,
"displayName" : "account.name"
},
{
"id": 3,
"name": "account",
"dataTypeId": 1,
"columnDisplayOrder":3,
"moduleId": 2,
"moduleName": "model",
"isPredefined":1,
"displayName" : "model.account"
}
],
"where": {
"condition": "Or",
"rules": [],
"groups": [
{
"condition": "Or",
"rules": [
{
"selectedColumnId": 1,
"operator": "Equal",
"value": 1,
"isMacro":1,
"isPredefined":1
}
],
"groups": [
{
"condition": "And",
"rules": [
{
"selectedColumnId": 1,
"operator": "Equal",
"value": "1",
"isPredefined":1
},
{
"selectedColumnId": 1,
"operator": "Equal",
"value": "3",
"isPredefined":1
}
],
"groups": []
}
]
},
{
"condition": "And",
"rules": [
{
"selectedColumnId": 1,
"operator": "Equal",
"value": "1",
"isPredefined":1
},
{
"selectedColumnId": 1,
"operator": "Equal",
"value": "4",
"isPredefined":1
},
{
"selectedColumnId": 1,
"operator": "Equal",
"value": "karam",
"isPredefined":1
}
],
"groups": []
}
]
},
"createdOn": "2016-07-07T01:17:52.000Z",
"createdBy": "Prime Prime",
"editedOn": "2016-07-09T02:00:47.000Z",
"editedBy": "Prime Prime"
}]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |
| Bad_Request | When without request data. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```

```http
HTTP/1.1 400 Bad_Request
{
"message": "Bad Request: Verify request data"
}
```


## Get Macro List

This API Get macro list from application.

**GET** `https://baseurl/v1/querybuilder/queries/macros`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/querybuilder/queries/macros
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The macro Id. |
| name | String | Name of macro. |
| typeId | Number | Type Id of macro |

```http
HTTP/1.1 200 OK
[
{
"id": 1,
"name": "TODAY",
"typeId": 3
}
<span class="Apple-converted-space">	 ]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |
| Bad_Request | When without request data. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```

```http
HTTP/1.1 400 Bad_Request
{
"message": "Bad Request: Verify request data"
}
```


## Get master column values

This API Get master columns values from application.

**GET** `https://baseurl/v1/querybuilder/queries/columns/:id/values`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/querybuilder/queries/columns/:id/values
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The column Id. |
| name | String | Name of the column. |
| values | Array | Column master values |

```http
HTTP/1.1 200 OK
{
"id": 1,
"name": "accountType",
"values": [
{
"id": 1,
"name": "TOD",
"taxableTypeID": 1,
"code": null,
"isDeleted": 0,
"createdDate": "2017-03-02T01:08:10.000Z",
"createdBy": 1,
"editedDate": "2017-03-02T01:08:10.000Z",
"editedBy": 1
}
]
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |
| Bad_Request | When without request data. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```

```http
HTTP/1.1 400 Bad_Request
{
"message": "Bad Request: Verify request data"
}
```


## Get master columns list

This API Get master columns list from application.

**GET** `https://baseurl/v1/querybuilder/queries/columns`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/querybuilder/queries/columns
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The column Id. |
| name | String | Name of the column. |
| dataType | String | data type of the column. |
| moduleId | Number | The module id. |
| moduleName | String | Name of the module. |
| displayName | String | Name of the module + Name of column. |

```http
HTTP/1.1 200 OK
[
{
"id": 1,
"name": "id",
"dataType": "INT",
"moduleId": 1,
"moduleName": "account",
"displayName":"account.id",
"isPredefined:1
},
{
"id": 2,
"name": "name",
"dataType": "INT",
"moduleId": 1,
"moduleName": "account",
"displayName":"account.name",
"isPredefined:1
},
{
"id": 3,
"name": "account",
"dataType": "INT",
"moduleId": 2,
"moduleName": "model",
"displayName":"model.account",
"isPredefined:1
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |
| Bad_Request | When without request data. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```

```http
HTTP/1.1 400 Bad_Request
{
"message": "Bad Request: Verify request data"
}
```


## Get Query Detail

This API Get query detail from application.

**GET** `https://baseurl/v1/querybuilder/queries/:id`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/querybuilder/queries/:id
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The Query Id. |
| name | String | Name of the Query. |
| selectedColumns | Array | Selected columns in query |
| isAdvanced | Boolean | True for advanced query |
| isTradeGroup | Boolean | True for trade group query |
| isFavourite | Boolean | True for favourite query |
| where | Object | Where part of Query |
| createdOn | Date | Query creation date into application. |
| createdBy | Number | Full Name of user who created the Query into the system. |
| editedOn | Date | Query edited date into application. |
| editedBy | String | Full Name of user who edited the Query details into the system. |

```http
HTTP/1.1 200 OK
{
"id": 9,
"name": "New Query here",
"isFavourite": 0,
"isTradeGroup":0,
<span class="Apple-converted-space"> 		 "isAdvanced": 0,
"selectedColumns": [
{
"id": 1,
"name": "id",
"moduleId": 1,
"moduleName": "account"
},
{
"id": 2,
"name": "name",
"moduleId": 1,
"moduleName": "account"
},
{
"id": 3,
"name": "account",
"moduleId": 2,
"moduleName": "model"
}
],
"where": {
"condition": "Or",
"rules": [],
"groups": [
{
"condition": "Or",
"rules": [
{
"selectedColumnId": 1,
"operator": "Equal",
"value": "1",
"isPredefined":1
}
],
"groups": [
{
"condition": "And",
"rules": [
{
"selectedColumnId": 1,
"operator": "Equal",
"value": "1",
"isPredefined":1
},
{
"selectedColumnId": 1,
"operator": "Equal",
"value": "3",
"isPredefined":1
}
],
"groups": []
}
]
},
{
"condition": "And",
"rules": [
{
"selectedColumnId": 1,
"operator": "Equal",
"value": "1",
"isPredefined":1
},
{
"selectedColumnId": 1,
"operator": "Equal",
"value": "4",
"isPredefined":1
},
{
"selectedColumnId": 1,
"operator": "Equal",
"value": "karam",
"isPredefined":1
}
],
"groups": []
}
]
},
"createdOn": "2016-07-07T01:17:52.000Z",
"createdBy": "Prime Prime",
"editedOn": "2016-07-09T02:00:47.000Z",
"editedBy": "Prime Prime"
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |
| Bad_Request | When without request data. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```

```http
HTTP/1.1 400 Bad_Request
{
"message": "Bad Request: Verify request data"
}
```


## Get Query List

This API get query list from application.

**GET** `https://baseurl/v1/querybuilder/queries`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/querybuilder/queries
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The Query Id. |
| name | String | Name of the Query. |
| selectedColumns | Array | Selected columns in query |
| isAdvanced | Boolean | True for advanced query |
| isTradeGroup | Boolean | True for trade group query |
| isFavourite | Boolean | True for favourite query |
| where | Object | Where part of Query |
| createdOn | Date | Query creation date into application. |
| createdBy | Number | Full Name of user who created the Query into the system. |
| editedOn | Date | Query edited date into application. |
| editedBy | String | Full Name of user who edited the Query details into the system. |

```http
HTTP/1.1 200 OK
[{
"id": 9,
"name": "New Query here",
"isFavourite": 0,
"isTradeGroup":1,
<span class="Apple-converted-space"> 		 "isAdvanced": 0,
"selectedColumns": [
{
"id": 1,
"name": "id",
"dataTypeId": 1,
"columnDisplayOrder":1,
"moduleId": 1,
"moduleName": "account",
"isPredefined":1,
"displayName" : "account.id"
},
{
"id": 2,
"name": "name",
"dataTypeId": 1,
"columnDisplayOrder":2,
"moduleId": 1,
"moduleName": "account",
"isPredefined":1,
"displayName" : "account.name"
},
{
"id": 3,
"name": "account",
"dataTypeId": 1,
"columnDisplayOrder":3,
"moduleId": 2,
"moduleName": "model",
"isPredefined":1,
"displayName" : "model.account"
}
],
"where": {
"condition": "Or",
"rules": [],
"groups": [
{
"condition": "Or",
"rules": [
{
"selectedColumnId": 1,
"operator": "Equal",
"value": 1,
"isMacro":1,
"isPredefined":1
}
],
"groups": [
{
"condition": "And",
"rules": [
{
"selectedColumnId": 1,
"operator": "Equal",
"value": "1",
"isPredefined":1
},
{
"selectedColumnId": 1,
"operator": "Equal",
"value": "3",
"isPredefined":1
}
],
"groups": []
}
]
},
{
"condition": "And",
"rules": [
{
"selectedColumnId": 1,
"operator": "Equal",
"value": "1",
"isPredefined":1
},
{
"selectedColumnId": 1,
"operator": "Equal",
"value": "4",
"isPredefined":1
},
{
"selectedColumnId": 1,
"operator": "Equal",
"value": "karam",
"isPredefined":1
}
],
"groups": []
}
]
},
"createdOn": "2016-07-07T01:17:52.000Z",
"createdBy": "Prime Prime",
"editedOn": "2016-07-09T02:00:47.000Z",
"editedBy": "Prime Prime"
}]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |
| Bad_Request | When without request data. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```

```http
HTTP/1.1 400 Bad_Request
{
"message": "Bad Request: Verify request data"
}
```


## Get tradegroups query List

This API Get Trade Groups Query list from application.

**GET** `https://baseurl/v1/querybuilder/queries/tradegroups?seacrh={name/id}&amp;typeId=2`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/querybuilder/queries/tradegroups?seacrh={name/id}&typeId=2
* curl -i http://baseurl/v1/querybuilder/queries/tradegroups?seacrh={name/id}&typeId=2
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The trade Group Id. |
| name | String | Name of the trade Group.. |
| isTradeGroup | Boolean | True for trade group query |
| createdOn | Date | Query creation date into application. |
| createdBy | Number | Full Name of user who created the Query into the system. |
| editedOn | Date | Query edited date into application. |
| editedBy | String | Full Name of user who edited the Query details into the system. |

```http
HTTP/1.1 200 OK
[
{
"id": 1,
"name": "Account standard query",
"isTradeGroup": 1,
"createdOn": "2017-03-07T06:21:07.000Z",
"editedOn": "2017-03-07T06:33:12.000Z",
"createdBy": "prime@tgi.com",
"editedBy": "prime@tgi.com"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |
| Bad_Request | When without request data. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```

```http
HTTP/1.1 400 Bad_Request
{
"message": "Bad Request: Verify request data"
}
```


## update Query

This API update query into application.

**PUT** `https://baseurl/v1/querybuilder/queries/:id`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/querybuilder/queries:id
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| name | String | name of the Query. |
| where | Object | Condition Part of query. |
| columnIds | Array | selected columns for query. |
| isAdvanced | Boolean | Advanced/Standard Query |
| isTradeGroup | Boolean | Trade Group Query |
| isFavourite | Boolean | Query is Favourite |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The Query Id. |
| name | String | Name of the Query. |
| selectedColumns | Array | Selected columns in query |
| isAdvanced | Boolean | True for advanced query |
| isTradeGroup | Boolean | True for trade group query |
| isFavourite | Boolean | True for favourite query |
| where | Object | Where part of Query |
| createdOn | Date | Query creation date into application. |
| createdBy | Number | Full Name of user who created the Query into the system. |
| editedOn | Date | Query edited date into application. |
| editedBy | String | Full Name of user who edited the Query details into the system. |

```http
HTTP/1.1 200 OK
[{
"id": 9,
"name": "New Query here",
"isFavourite": 0,
<span class="Apple-converted-space"> 		 "isAdvanced": 0,
<span class="Apple-converted-space"> 		 "isTradeGroup: 0,
"selectedColumns": [
{
"id": 1,
"name": "id",
"moduleId": 1,
"moduleName": "account"
},
{
"id": 2,
"name": "name",
"moduleId": 1,
"moduleName": "account"
},
{
"id": 3,
"name": "account",
"moduleId": 2,
"moduleName": "model"
}
],
"where": {
"condition": "Or",
"rules": [],
"groups": [
{
"condition": "Or",
"rules": [
{
"selectedColumnId": 1,
"operator": "Equal",
"value": "1",
"isPredefined":1
}
],
"groups": [
{
"condition": "And",
"rules": [
{
"selectedColumnId": 1,
"operator": "Equal",
"value": "1",
"isPredefined":1
},
{
"selectedColumnId": 1,
"operator": "Equal",
"value": "3",
"isPredefined":1
}
],
"groups": []
}
]
},
{
"condition": "And",
"rules": [
{
"selectedColumnId": 1,
"operator": "Equal",
"value": "1",
"isPredefined":1
},
{
"selectedColumnId": 1,
"operator": "Equal",
"value": "4",
"isPredefined":1
},
{
"selectedColumnId": 1,
"operator": "Equal",
"value": "karam",
"isPredefined":1
}
],
"groups": []
}
]
},
"createdOn": "2016-07-07T01:17:52.000Z",
"createdBy": "Prime Prime",
"editedOn": "2016-07-09T02:00:47.000Z",
"editedBy": "Prime Prime"
}]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |
| Bad_Request | When without request data. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```

```http
HTTP/1.1 400 Bad_Request
{
"message": "Bad Request: Verify request data"
}
```


---

# Rebalance


## Rebalance Model and Portfolio

This API is used to Run Rebalance on Model and Portfolio.

**GET** `https://baseurl/v1/rebalance/portfolio/:portfolioId`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/rebalance/portfolio/:portfolioId
```

```bash
curl -i http://baseurl/v1/rebalance/portfolio/:portfolioId?isAccessLambda=true
```

```bash
curl -i http://baseurl/v1/rebalance/portfolio/:portfolioId?isAccessLambda=true&accountId={accountId}&amount={amount}
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| message | String | Success message. |
| success | String | Success status. |
| errorStack | String | Error Message. |
| data | String | S3 Trade Log file path |
| rebalancerLogFilePath | String | S3 Trade Log file path |
| portfolioId | Number | Rebalance PortfolioId |
| firmId | Number | Rebalance firmId |
| userId | Number | Rebalance userId |
| rebalanceType | String | Rebalance Type |

```http
HTTP/1.1 200 OK
{
"success":true,
"message":"[REBAL] : Rebalancer ran successfully.",
"errorStack":null,
"data": "https://PATH/TO/FILE",
"portfolioId":45705,
"firmId":1100,
"tradeInstanceId":4663,
"rebalancerLogFilePath": "https://PATH/TO/FILE",
"rebalanceType":"TACTICAL_TRADE",
"userId":"904",
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without Authorization Header. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```


---

# Reports


## Format" Get file format Types

This API Get All download file format types.

**GET** `https://baseurl/v1/report/reports/downloadOptions?option="File`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/report/reports/downloadOptions?option="File Format"
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | Id. |
| name | String | Name |

```http
HTTP/1.1 200 OK
[
{
"id": 5,
"name": "Excel"
},
{
"id": 4,
"name": "PDF"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get Allocation Report Types

This API Get All allocation report types.

**GET** `https://baseurl/v1/report/allocations/reportTypes`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/report/allocations/reportTypes
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | Id. |
| name | String | name |

```http
HTTP/1.1 200 OK
[
{
"id": 1,
"name": "Allocation"
},
{
"id": 2,
"name": "Block Order"
},
{
"id": 3,
"name": "Block Order Summary"
},
{
"id": 4,
"name": "Block Trades By Broker"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```


## Get Allocations

This API Get trade report data.

**GET** `https://baseurl/v1/report/allocations?blockIds=1,2&amp;startDate=2017-01-8&amp;endDate=2017-01-17`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/report/allocations?blockIds=1,2&startDate=2017-01-8&endDate=2017-01-17
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| custodianId | Number | custodian id. |
| custodianName | String | Custodian Name. |
| routing | String | Routing. |
| custodian.blockId | Number | Bllock id. |
| custodian.transactionTime | Date | Transaction Date. |
| custodian.security | String | Security Name. |
| custodian.action | String | Trade action . |
| settleDate | Date | Settle Date. |
| block.accountId | Number | Account Id |
| block.accountNumber | String | Account Number |
| block.accountName | String | Account Name |
| c | Number | block.billCommisionBill Commission |
| block.orderQuantity | Decimal | Order Quantity |
| block.avgPrice | Number | Avg Price |
| block.exchangeFee | Number | Exchange Fee. |
| block.grossTrade | Number | Gross Trade. |
| block.netTrade | Number | Net Trade. |
| block.taxes | Number | Taxes |

```http
HTTP/1.1 200 OK
[
{
"custodianId": 28,
"fixRouting": null,
"custodianName": "Schwab",
"blocks": [
{
"blockId": 3,
"fixRouting": null,
"transactionDate": "2017-04-06T08:46:10.000Z",
"settleDate": "2017-04-03T12:33:02.000Z",
"action": "SELL",
"security": "Spectra Energy Corp",
"tradeList": []
}
]
},
{
"custodianId": 31,
"fixRouting": null,
"custodianName": "LPL Financial",
"blocks": [
{
"blockId": 6,
"fixRouting": null,
"transactionDate": "2017-04-12T06:12:45.000Z",
"settleDate": "2017-04-03T12:33:02.000Z",
"action": "SELL",
"security": "CVS Health Corp",
"tradeList": []
},
{
"blockId": 7,
"fixRouting": null,
"transactionDate": null,
"settleDate": "2017-04-03T12:33:02.000Z",
"action": "SELL",
"security": "CVS Health Corp",
"tradeList": []
},
{
"blockId": 8,
"fixRouting": null,
"transactionDate": "2017-04-11T07:24:27.000Z",
"settleDate": "2017-04-03T12:33:02.000Z",
"action": "SELL",
"security": "CVS Health Corp",
"tradeList": [
{
"accountId": "477_438",
"accountNumber": "L59C-ELPMAS",
"accountName": "Greene Nate and Katherine",
"billCommision": 2.71,
"orderQuantity": 1210,
"avgPrice": 0,
"exchangeFee": 0,
"grossTrade": 0,
"netTrade": 0,
"taxes": 0
},
{
"accountId": "477_438",
"accountNumber": "L59C-ELPMAS",
"accountName": "Greene Nate and Katherine",
"billCommision": 24.5,
"orderQuantity": 10947.58,
"avgPrice": 0,
"exchangeFee": 0,
"grossTrade": 0,
"netTrade": 0,
"taxes": 0
},
{
"accountId": "477_438",
"accountNumber": "L59C-ELPMAS",
"accountName": "Greene Nate and Katherine",
"billCommision": 32.8,
"orderQuantity": 14657.02,
"avgPrice": 0,
"exchangeFee": 0,
"grossTrade": 0,
"netTrade": 0,
"taxes": 0
}
]
},
{
"blockId": 9,
"fixRouting": null,
"transactionDate": "2017-04-12T03:44:50.000Z",
"settleDate": "2017-04-03T12:33:02.000Z",
"action": "SELL",
"security": "CVS Health Corp",
"tradeList": [
{
"accountId": "477_438",
"accountNumber": "L59C-ELPMAS",
"accountName": "Greene Nate and Katherine",
"billCommision": 80,
"orderQuantity": 15,
"avgPrice": 0,
"exchangeFee": 0,
"grossTrade": 0,
"netTrade": 0,
"taxes": 0
}
]
}
]
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get Block By Broker

This API Get trade report data.

**GET** `https://baseurl/v1/report/blocks/blockBybroker?startDate=2017-01-8&amp;endDate=2017-01-17`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/report/blocks/blockBybroker?startDate=2017-01-8&endDate=2017-01-17
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| blockId | Number | Bllock id. |
| date | Date | Date |
| action | String | Action. |
| shareAmount | Decimal | Share Amount. |
| ticker | String | Security Symbol. |
| securityType | String | Security Type. |
| orderType | String | Order Type. |
| limtiPrice | Decimal | Limit price. |
| stopPrice | Decimal | Stop Price. |
| timeInForce | String | Duration Name. |
| allocationStatus | String | Allocation Status. |
| avgPrice | Decimal | AVGPrice. |
| orderStatus | String | orderStatus. |
| routing | String | Routing |
| block.trade | String | Account Id. |
| block.accoutnNumber | String | Account Number. |
| accoutType | String | Accoint Type. |
| currentCash | Number | Current Cash. |
| orderQuantity | Number | Order Quantity. |
| originalQuantity | Number | Original Quantity. |
| dollarAmount | Number | Dollar Amount |

```http
HTTP/1.1 200 OK
[
{
"blockId": 1,
"date": "22/03/2017",
"action": "Buy",
"shareAmount": 12,
"ticker": "APPL",
"securityType": "Cash",
"orderType": "Market",
"limitPrice": 12.1,
"stopPrice": 11,
"timeInForce": "Done for day",
"allocationStatus": "Sent",
"avgPrice": 12,
"orderStatus": "Sent",
"routing": "Fix",
"tradeList": [
{
"accountId": "47_344",
"accountNumber": "66666",
"accountType": "IRC",
"currentCash": 12.22,
"orderQuantity": 12,
"originalQuantity": 12,
"dollarAmount": 12
}
]
},
{
"blockId": 2,
"date": "22/03/2017",
"action": "Buy",
"shareAmount": 12,
"ticker": "APPL",
"securityType": "Cash",
"orderType": "Market",
"limitPrice": 12.1,
"stopPrice": 11,
"timeInForce": "Done for day",
"allocationStatus": "Sent",
"avgPrice": 12,
"orderStatus": "Sent",
"routing": "Fix",
"tradeList": [
{
"accountId": "47_344",
"accountNumber": "66666",
"accountType": "IRC",
"currentCash": 12.22,
"orderQuantity": 12,
"originalQuantity": 12,
"dollarAmount": 12
}
]
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get Block Report Types

This API Get All block report types.

**GET** `https://baseurl/v1/report/blocks/reportTypes`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/report/blocks/reportTypes
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | Report Type Id. |
| name | String | Report Type Name |

```http
HTTP/1.1 200 OK
[
{
"id": 1,
"name": "Allocation"
},
{
"id": 2,
"name": "Block Order"
},
{
"id": 3,
"name": "Block Order Summary"
},
{
"id": 4,
"name": "Block Trades By Broker"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get Block Summary

This API Get trade report data.

**GET** `https://baseurl/v1/report/blocks/blockSummary?blockId=1`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/report/blocks/blockSummary?blockId=1
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| blockId | Number | Bllock id. |
| date | Date | Date |
| action | String | Action. |
| shareAmount | Decimal | Share Amount. |
| ticker | String | Security Symbol. |
| securityType | String | Security Type. |
| orderType | String | Order Type. |
| limtiPrice | Decimal | Limit price. |
| stopPrice | Decimal | Stop Price. |
| timeInForce | String | Duration Name. |
| allocationStatus | String | Allocation Status. |
| avgPrice | Decimal | AVGPrice. |
| orderStatus | String | orderStatus. |
| routing | String | Routing |
| block.trade | String | Account Id. |
| block.accoutnNumber | String | Account Number. |
| accoutType | String | Accoint Type. |
| currentCash | Number | Current Cash. |
| orderQuantity | Number | Order Quantity. |
| originalQuantity | Number | Original Quantity. |
| dollarAmount | Number | Dollar Amount |

```http
HTTP/1.1 200 OK
{
"blockId": 1,
"date": "22/03/2017",
"action": "Buy",
"shareAmount": 12,
"ticker": "APPL",
"securityType": "Cash",
"orderType": "Market",
"limitPrice": 12.1,
"stopPrice": 11,
"timeInForce": "Done for day",
"allocationStatus": "Sent",
"avgPrice": 12,
"orderStatus": "Sent",
"routing": "Fix",
"tradeList": [
{
"accountId": "47_344",
"accountNumber": "66666",
"accountType": "IRC",
"currentCash": 12.22,
"orderQuantity": 12,
"originalQuantity": 12,
"dollarAmount": 12
}
]
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get Closed Report Types

This API Get All closed report types.

**GET** `https://baseurl/v1/report/closedReports/reportTypes`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/report/closedReports/reportTypes
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | Duration Id. |
| name | String | Duration name |

```http
HTTP/1.1 200 OK
[
{
"id": 2,
"name": "Block Order Summary"
},
{
"id": 3,
"name": "Block Trades By Order"
},
{
"id": 4,
"name": "Trades Analysis"
},
{
"id": 1,
"name": "Trades By Account"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get Pending Report Types

This API Get All pending report types.

**GET** `https://baseurl/v1/report/pendingReports/reportTypes`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/report/pendingReports/reportTypes
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | Id. |
| name | String | name |

```http
HTTP/1.1 200 OK
[
{
"id": 2,
"name": "Block Order Summary"
},
{
"id": 3,
"name": "Block Trades By Broker"
},
{
"id": 1,
"name": "Trades By Account"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get Quick Date Types

This API Get All quick dates.

**GET** `https://baseurl/v1/report/reports/quickDates`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/report/reports/quickDates
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | Quick Date Id. |
| name | String | Quick Date name |

```http
HTTP/1.1 200 OK
[
{
"id": 1,
"name": "Last Month"
},
{
"id": 2,
"name": "Last Quarter"
},
{
"id": 3,
"name": "Last Year"
},
{
"id": 4,
"name": "Rolling 1 Year"
},
{
"id": 5,
"name": "Rolling 3 Year"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get Report Group By Options

This API Get All report group bu options.

**GET** `https://baseurl/v1/report/reports/groupByOptions?moduleType="trade"`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/report/reports/groupByOptions?moduleType="trade"
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | Group By option Id. |
| name | String | Group By option name |

```http
HTTP/1.1 200 OK
[
{
"id": 1,
"name": "Asset"
},
{
"id": 4,
"name": "Asset Category"
},
{
"id": 2,
"name": "Management Style"
},
{
"id": 3,
"name": "Risk Category"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get Trade Analysis portfolio details

This API Get trade report data.

**POST** `https://baseurl/v1/report/trades/portfolio`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/report/trades/portfolio
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| tradeIds | Array | trade ids. |

```json
{
"tradeIds": [
1120129,
2324242
]
}
```

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| portfolioId | Number | Portfolio Id. |
| needAnalytics | Number | Portfolio Analytics status code |
| status | String | Portfolio Status |

```http
HTTP/1.1 200 OK
[
{
'portfolioId': 112,
'needAnalytics': 0,
'status': null
},
{
'portfolioId': 113,
'needAnalytics': 1,
'status': null
},
{
'portfolioId': 114,
'needAnalytics': 2,
'status': null
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get Trade Analysis Report

This API Get trade report data.

**POST** `https://baseurl/v1/report/trades/analysis?level1=Category&amp;level2=security&amp;includeExcludedHolding=true&amp;showMaskAccountNumber=true`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/report/trades/analysis?level1=Category&level2=security&includeExcludedHolding=true&showMaskAccountNumber=true
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| tradeIds | Array | trade ids. |

```json
{
"tradeIds": [
1120129,
2324242
]
}
```

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | Duration Id. |
| name | String | Duration name |

```http
HTTP/1.1 200 OK
[
{
"description": "Instance caption",
"createdBy": "Prime",
"createdDate": "1/20/2017 12:12:13 PM",
"custodian": "custodian",
"portfolioId": 1,
"portfolioName": "portfolioA",
"model": "Model1",
"managementStyle": "style1",
"totalSell": 0,
"totalBuy": 67,
"totalBuyAmount": 52284.79,
"totalSellAmount": 0,
"tradeList": {
"buyTradeList": [
{
"action": "BUY",
"product": "Security",
"qualified": false,
"ticker": "FB",
"assetValue": 110,
"units": 12.111,
"amount": 12.12,
"shortTermGain": 122,
"lomgTermgain": 11,
"totalGain": 133,
"daysUntilLongTerm": 12,
"washSale": true
},
{
"action": "BUY",
"product": "Security",
"qualified": false,
"ticker": "FB",
"assetValue": 110,
"units": 12.111,
"amount": 12.12,
"shortTermGain": 122,
"lomgTermgain": 11,
"totalGain": 133,
"daysUntilLongTerm": 12,
"washSale": true
}
],
"sellTradeList": [
{
"action": "SELL",
"product": "Security",
"qualified": false,
"ticker": "FB",
"assetValue": 110,
"units": 12.111,
"amount": 12.12,
"shortTermGain": 122,
"lomgTermgain": 11,
"totalGain": 133,
"daysUntilLongTerm": 12,
"washSale": true
},
{
"action": "SELL",
"product": "Security",
"qualified": false,
"ticker": "FB",
"assetValue": 110,
"units": 12.111,
"amount": 12.12,
"shortTermGain": 122,
"lomgTermgain": 11,
"totalGain": 133,
"daysUntilLongTerm": 12,
"washSale": true
}
]
},
"tolerancenAnalysis": {
"tolerancenAnalysisListInModel": [
{
"asset": "asset1",
"modelInPercent": 12,
"modelInValue": 20,
"currentValueInPercent": 12,
"currentValueInValue": 20,
"lowerTolerance": 4,
"upperTolerance": 10,
"differenceInPercent": 0,
"differenceInValue": 0
}
],
"tolerancenAnalysisListNotInModelWithRebalance": [
{
"asset": "asset2",
"modelInPercent": 13,
"modelInValue": 22,
"currentValueInPercent": 12,
"currentValueInValue": 20,
"lowerTolerance": 4,
"upperTolerance": 10,
"differenceInPercent": 1,
"differenceInValue": 2
}
],
"tolerancenAnalysisListNotInModelWithoutRebalance": [
{
"asset": "asset3",
"modelInPercent": 12,
"modelInValue": 20,
"currentValueInPercent": 12,
"currentValueInValue": 20,
"lowerTolerance": 4,
"upperTolerance": 10,
"differenceInPercent": 0,
"differenceInValue": 0
}
],
"asOn": "1/12/2017",
"includeInRebalanceTotal": {
"modelInPercent": 25,
"modelInValue": 42,
"currentValueInPercent": 24,
"currentValueInValue": 40,
"lowerTolerance": 8,
"upperTolerance": 20,
"differenceInPercent": 1,
"differenceInValue": 2
},
"excludeFromRebalanceTotal": {
"modelInPercent": 12,
"modelInValue": 20,
"currentValueInPercent": 12,
"currentValueInValue": 20,
"lowerTolerance": 4,
"upperTolerance": 10,
"differenceInPercent": 0,
"differenceInValue": 0
},
"grandTotal": {
"modelInPercent": 37,
"modelInValue": 62,
"currentValueInPercent": 36,
"currentValueInValue": 60,
"lowerTolerance": 12,
"upperTolerance": 30,
"differenceInPercent": 1,
"differenceInValue": 2
}
},
"postTradeAnalysis": {
"postTradeAnalysisListInModel": [
{
"asset": "asset1",
"modelInPercent": 12,
"modelInValue": 20,
"currentValueInPercent": 12,
"currentValueInValue": 20,
"lowerTolerance": 4,
"upperTolerance": 10,
"differenceInPercent": 0,
"differenceInValue": 0
}
],
"postTradeAnalysisListNotInModelWithRebalance": [
{
"asset": "asset2",
"modelInPercent": 13,
"modelInValue": 22,
"currentValueInPercent": 12,
"currentValueInValue": 20,
"lowerTolerance": 4,
"upperTolerance": 10,
"differenceInPercent": 1,
"differenceInValue": 2
}
],
"postTradeAnalysisListNotInModelWithoutRebalance": [
{
"asset": "asset3",
"modelInPercent": 12,
"modelInValue": 20,
"currentValueInPercent": 12,
"currentValueInValue": 20,
"lowerTolerance": 4,
"upperTolerance": 10,
"differenceInPercent": 0,
"differenceInValue": 0
}
],
"asOn": "1/12/2017",
"includeInRebalanceTotal": {
"modelInPercent": 25,
"modelInValue": 42,
"currentValueInPercent": 24,
"currentValueInValue": 40,
"lowerTolerance": 8,
"upperTolerance": 20,
"differenceInPercent": 1,
"differenceInValue": 2
},
"excludeFromRebalanceTotal": {
"modelInPercent": 12,
"modelInValue": 20,
"currentValueInPercent": 12,
"currentValueInValue": 20,
"lowerTolerance": 4,
"upperTolerance": 10,
"differenceInPercent": 0,
"differenceInValue": 0
},
"grandTotal": {
"modelInPercent": 37,
"modelInValue": 62,
"currentValueInPercent": 36,
"currentValueInValue": 60,
"lowerTolerance": 12,
"upperTolerance": 30,
"differenceInPercent": 1,
"differenceInValue": 2
}
}
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get Trade By Account

This API Get trade report data.

**GET** `https://baseurl/v1/report/trades/reportByAccounts?isAllAccount=false&amp;accountIds=1,2&amp;startDate=2017-01-8&amp;endDate=2017-01-17`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/report/trades/reportByAccounts?isAllAccount=false&accountIds=1,2&startDate=2017-01-8&endDate=2017-01-17
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | Duration Id. |
| name | String | Duration name |

```http
HTTP/1.1 200 OK
[
{
"id": 12,
"accountNumber": "33",
"accountName":"abc",
"accountId": "11",
"custodian": "11",
"managementStyle": "style",
"model": "model",
"tradeList": [
{
"action": "Buy",
"securityName": "Apple",
"ticker": "APPL",
"price": 11.11,
"shares": 12.222,
"amount": 12.22,
"orderStatus": "Sent",
"blockId": 11,
"routing": "FIX",
"date": "23/1/2017",
"instanceId": 12,
"notes": "notes"
}
]
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get Trade Report Types

This API Get All trade report types.

**GET** `https://baseurl/v1/report/trades/reportTypes`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/report/trades/reportTypes
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | Duration Id. |
| name | String | Duration name |

```http
HTTP/1.1 200 OK
[
{
"id": 2,
"name": "Block order Summary Report"
},
{
"id": 3,
"name": "Block trades by Broker Report"
},
{
"id": 4,
"name": "Trade Analysis Report"
},
{
"id": 1,
"name": "Trade By Account Report"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Method" Get Delivery Method Types

This API Get All delivery method types.

**GET** `https://baseurl/v1/report/reports/downloadOptions?option="Delivery`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/report/reports/downloadOptions?option="Delivery Method"
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | Id. |
| name | String | Name |

```http
HTTP/1.1 200 OK
[
{
"id": 1,
"name": "Direct Download"
},
{
"id": 3,
"name": "Report Inbox"
},
{
"id": 2,
"name": "Select Inbox"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Method" Get Download Options Types

This API Get All report download options.

**GET** `https://baseurl/v1/report/reports/downloadOptions?option="Combination`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/report/reports/downloadOptions?option="Combination Method"
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | Download option Id. |
| name | String | Download option name |

```http
HTTP/1.1 200 OK
[
{
"id": 1,
"name": "Direct Download"
},
{
"id": 3,
"name": "Report Inbox"
},
{
"id": 2,
"name": "Select Inbox"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


---

# Restricted Plans


## ADD Restricted Plan

This API gets details of a resticted plan.

**POST** `https://baseurl/v1/restrictedPlans`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/restrictedPlans
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| name | String | Name of Restricted Plan. |
| securities | Object | Object with securities. |

```json
{
"id": null,
"name": "testPlan12",
"useInTradeFile": true,
"securities": {
"securities": [
{
"securityId": 1,
"doNotBuyGroupEquivalency": true,
"sellPriority": null,
"buyPriority": null
},
{
"securityId": 2,
"doNotBuyGroupEquivalency": true,
"sellPriority": null,
"buyPriority": null
}
],
"deletedSecurities": [
10
]
}
}
```

```http
HTTP/1.1 200 OK
{
"id": "1",
"name": "testPlan12",
"useInTradeFile": true,
"securities": [
{
"securityId": 1,
"securityName": "Oppenheimer Developing Markets A",
"securitySymbol": "ODMAX",
"type": "Mutual Fund",
"category": "Equity",
"class": "Cash",
"subClass": "OPT",
"buyPriority": 'Can Buy',
"sellPriority": 'Can Sell',
"createdBy": "Test@gmail.com",
"editedBy": "Test@gmail.com",
"createdOn": "2018-01-10T12:08:26.000Z",
"editedOn": "2018-01-10T12:08:32.000Z"
},
{
"securityId": 2,
"securityName": "Microsoft Corp",
"securitySymbol": "MSFT",
"type": "Equity",
"category": "Equity",
"class": "Cash",
"subClass": "OPT",
"buyPriority": 'Can Buy',
"sellPriority": 'Can Sell',
"createdBy": "Test@gmail.com",
"editedBy": "Test@gmail.com",
"createdOn": "2018-01-10T12:08:26.000Z",
"editedOn": "2018-01-10T12:08:32.000Z"
}
]
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```


## Delete Restricted Plan

This API deletes a of a resticted plan.

**DELETE** `https://baseurl/v1/restrictedPlans?id=1`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/restrictedPlans?id=1
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| id | Number | Restricted Plan Id. |

```http
HTTP/1.1 200 OK
{
"id": 1,
"message": "Restricted plan deleted successfully"
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| BadRequest | Validation Error. |

```http
HTTP/1.1 400
{
"message": "Selected Restricted Plan Is Assigned To Account"
}
```


## Edit Restricted Plan

This API gets details of a resticted plan.

**PUT** `https://baseurl/v1/restrictedPlans`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/restrictedPlans?id=1
```

```bash
curl -i http://baseurl/v1/restrictedPlans?externalPlanId=test_plan
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| id | String | Restricted Plan Id. |
| externalPlanId | String | Externally assigned ID that uniquely identifies the plan. |

```json
{
"name": "testPlan12",
"useInTradeFile": true,
"externalPlanId": "test_plan",
"securities": {
securities:[{
"securityId": 4,
"doNotBuyGroupEquivalency": true,
"sellPriority": null,
"buyPriority": null
},
{
"securityId": 2,
"doNotBuyGroupEquivalency": true,
"sellPriority": null,
"buyPriority": null
}],
deletedSecurities:[1]
}
}
```

```json
{
"name": "testPlan12",
"useInTradeFile": true,
"externalPlanId": "test_plan",
"securities": {
securities:[
{
"securityId": 94,
"doNotBuyGroupEquivalency": true,
"sellPriority": null,
"buyPriority": null
}
],
deletedSecurities:[1]
}
}
```

```http
HTTP/1.1 200 OK
{
"id": "1",
"name": "testPlan12",
"useInTradeFile": true,
"externalPlanId": "test_plan",
"securities": [
{
"securityId": 4,
"securityName": "Oppenheimer Developing Markets A",
"securitySymbol": "ODMAX",
"type": "Mutual Fund",
"createdBy": "Test@gmail.com",
"editedBy": "Test@gmail.com",
"createdOn": "2018-01-10T12:08:26.000Z",
"editedOn": "2018-01-10T12:08:32.000Z"
},
{
"securityId": 2,
"securityName": "Microsoft Corp",
"securitySymbol": "MSFT",
"type": "Equity",
"createdBy": "Test@gmail.com",
"editedBy": "Test@gmail.com",
"createdOn": "2018-01-10T12:08:26.000Z",
"editedOn": "2018-01-10T12:08:32.000Z"
}
]
}
```

```http
HTTP/1.1 200 OK
{
"id": "1",
"name": "testPlan12",
"useInTradeFile": true,
"externalPlanId": "test_plan",
"securities": [
{
"securityId": 4,
"securityName": "Oppenheimer Developing Markets A",
"securitySymbol": "ODMAX",
"type": "Mutual Fund",
"createdBy": "Test@gmail.com",
"editedBy": "Test@gmail.com",
"createdOn": "2018-01-10T12:08:26.000Z",
"editedOn": "2018-01-10T12:08:32.000Z"
},
{
"securityId": 2,
"securityName": "Microsoft Corp",
"securitySymbol": "MSFT",
"type": "Equity",
"createdBy": "Test@gmail.com",
"editedBy": "Test@gmail.com",
"createdOn": "2018-01-10T12:08:26.000Z",
"editedOn": "2018-01-10T12:08:32.000Z"
}
]
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```


## Get Restricted Plan Details

This API gets details of a resticted plan.

**GET** `https://baseurl/v1/restrictedPlans?id=1`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/restrictedPlans?id=1
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| id | Number | Restricted Plan Id. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | Restricted Plan Id. |
| name | String | Plan Name. |
| securities | Array | Securities added to a Restricted Plan with their details. |

```http
HTTP/1.1 200 OK
{
"id": "1",
"name": "testPlan12",
"useInTradeFile": true,
"securities": [
{
"securityId": 131,
"securityName": "Oppenheimer Developing Markets A",
"securitySymbol": "ODMAX",
"type": "Mutual Fund",
"category": "Equity",
"class": "Cash",
"subClass": "OPT",
"buyPriority": 'Can Buy',
"sellPriority": 'Do Not Sell',
"createdBy": "Test@gmail.com",
"editedBy": "Test@gmail.com",
"createdOn": "2018-01-10T12:08:26.000Z",
"editedOn": "2018-01-10T12:08:32.000Z"
},
{
"securityId": 183,
"securityName": "Microsoft Corp",
"securitySymbol": "MSFT",
"type": "Mutual Fund",
"category": "Equity",
"class": "Cash",
"subClass": "OPT",
"buyPriority": 'Can Buy',
"sellPriority": 'Can Sell',
"createdBy": "Test@gmail.com",
"editedBy": "Test@gmail.com",
"createdOn": "2018-01-10T12:08:26.000Z",
"editedOn": "2018-01-10T12:08:32.000Z"
}
]
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```


## Get Restricted Plans List

This API gets list of restricted plans.

**GET** `https://baseurl/v1/restrictedPlans`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/restrictedPlans
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | Plan Id. |
| name | String | Plan Name. |
| accountCount | Number | Number of accounts it is assigned to. |
| createdOn | Date | Restricted Plan Created Date. |
| createdBy | String | Restricted Plan Created User Loginid. |
| editedOn | Date | Restricted Plan Edited Date. |
| editedBy | String | Restricted Plan Edited User Loginid. |

```http
HTTP/1.1 200 OK
[
{
"id": 1,
"name": "testPlan12",
"accountCount": 1,
"createdOn": "2018-01-10T12:08:26.000Z",
"createdBy": "Test@gmail.com",
"editedOn": "2018-01-10T12:08:32.000Z"
"editedBy": "Test@gmail.com",
"externalPlanId: "test_plan",
"useInTradeFile": 0
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```


## Search for Restricted Plans

This API gets a searches for restricted plan names.

**GET** `https://baseurl/v1/restrictedPlans?search=rebal`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/restrictedPlans?search=rebal
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| name | String | Name of Restricted Plan. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | Restricted Plan Id. |
| name | String | Restricted Plan Name. |
| createdOn | Date | Restricted Plan Created Date. |
| createdBy | String | Restricted Plan Created User Loginid. |
| editedOn | Date | Restricted Plan Edited Date. |
| editedBy | String | Restricted Plan Edited User Loginid. |

```http
HTTP/1.1 200 OK
[
{
"id": 2,
"name": "RebalTestPlan",
"createdOn": "2018-01-10T12:08:26.000Z",
"editedOn": "2018-01-10T12:08:32.000Z"
"createdBy": "Test@gmail.com",
"editedBy": "Test@gmail.com",
"externalPlanId: "test_plan",
"useInTradeFile": true
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```


---

# SFTPTransfer


## post the sftp transfer you want

This api will start the sftp transfer

**POST** `https://baseurl/v1/sftptransfer/transfer`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/sftptransfer/transfer
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

```json
{
"externalIds": [147800,1477,277]
"orionConnectFirmId":477 (optional)
}
```

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| externalIds | Array | OrionConnect externalIds |

```http
HTTP/1.1 200 OK
[{
"id": 797,
"name": "Bertucci, T.M.",
"tags": null,
"model": null,
"sleevePortfolio": 0,
"team": "Default Team",
"managedValue": 2991368.93,
"excludedValue": 18276791.28,
"cashReserve": 0,
"cash": 951737.27,
"reserveCashTarget": 0,
"reserveCashActual": 0,
"targetCash": 903568.65,
"currentCash": 951737.27,
"pendingCash": 951737.27,
"isDeleted": 0,
"createdOn": "2017-03-31T04:18:59.000Z",
"createdBy": "Test@gmail.com",
"editedOn": "2017-06-05T12:20:43.000Z",
"editedBy": "Test@gmail.com"
},
{
"id": 844,
"name": "Smith, John",
"tags": null,
"model": null,
"sleevePortfolio": 0,
"team": "Default Team",
"managedValue": 4225191.28,
"excludedValue": 0,
"cashReserve": 0,
"cash": 864994.22,
"reserveCashTarget": 0,
"reserveCashActual": 0,
"targetCash": 964542.08,
"currentCash": 864994.22,
"pendingCash": 864994.22,
"isDeleted": 0,
"createdOn": "2017-03-31T04:43:46.000Z",
"createdBy": "Test@gmail.com",
"editedOn": "2017-06-05T12:20:43.000Z",
"editedBy": "Test@gmail.com"
}]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


---

# Search


## Add Search Module

This API adds Search Module.

**POST** `https://baseurl/v1/search/modules`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/search/modules
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| name | String | Name of module to add. |
| relativePath | String | relative path for the module. |

```json
{
"name":"name of module",
"relativePath":"/module_path"
}
```

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| message | String | Search Module added successfully. |

```http
HTTP/1.1 200 OK
{
"message": "Search Module added successfully"
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```


## Add Search Page

This API adds Search Page.

**POST** `https://baseurl/v1/search/pages`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/search/pages
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| name | String | Name of page to add. |
| relativePath | String | relative path for the page. |
| searchModuleId | Number | module Id to which page belong |

```json
{
"name":"name of page",
"relativePath":"/page_path",
"searchModuleId":1
}
```

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| message | String | Search Page added successfully. |

```http
HTTP/1.1 200 OK
{
"message": "Search Page added successfully"
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```


## Get Search Module

This API get Search Module.

**GET** `https://baseurl/v1/search/modules`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/search/modules
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | id | Id of search module |
| name | String | Name of module. |
| relativePath | String | relative path for the module. |

```http
HTTP/1.1 200 OK
[
{
"id": 2,
"name": "advisor",
"relativePath": "/module/advisor"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```


## Get Search Page

This API get Search Page.

**GET** `https://baseurl/v1/search/pages`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/search/pages
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | id | Id of search module |
| name | String | Name of module. |
| relativePath | String | relative path for the module. |

```http
HTTP/1.1 200 OK
[
{
"id": 2,
"name": "advisor view",
"relativePath": "/page/advisorView"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```


## Search Search Module

This API search Search Module.

**GET** `https://baseurl/v1/search/modules?moduleIds=1,2&amp;search=vis`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/search/modules?moduleIds=1,2&search=vis
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | id | Id of search module |
| name | String | Name of module. |
| relativePath | String | relative path for the module. |

```http
HTTP/1.1 200 OK
[
{
"id": 2,
"name": "advisor",
"relativePath": "/module/advisor"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```


## Search Search Page

This API search Search Page.

**GET** `https://baseurl/v1/search/pages?moduleIds=1,2&amp;search=vis`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/search/pages?moduleIds=1,2&search=vis
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | id | Id of search module |
| name | String | Name of module. |
| relativePath | String | relative path for the module. |

```http
HTTP/1.1 200 OK
[
{
"id": 2,
"name": "advisor view",
"relativePath": "/page/advisorView"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```


---

# SecuritySet


## Can Delete SecuritySet ignoring model.

This API checks whether Security Set can be deleted or not(soft delete).

**GET** `https://baseurl/v1/security/securityset/:id/canDelete?ignoreModelId={ID}`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/security/securityset/1/canDelete?ignoreModelId=1
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| message | String | Success message. |

```http
HTTP/1.1 200 OK
{
<span class="Apple-converted-space">  	"status" : 1,
"message": "SecuritySet can be deleted successfully"
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |
| Unprocessable_Entity | When Security Set does not exist. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```

```http
HTTP/1.1 422 Unprocessable_Entity
{
"message": " Security Set Not Found "
}
```


## Create Security set favorite

This API create security set as favorite.

**PUT** `https://baseurl/v1/security/securityset/favorites/:id`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/security/securityset/favorites/:id
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| isFavorite | Boolean | Just to tell whether this is favorite or not |

```json
{
"isFavorite" : BOOLEAN
}
```

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| message | String | Favorites updated. |

```http
HTTP/1.1 201 OK
{
"message": "security-set set/unset as favorite"
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |
| Bad_Request | When missing required parameters. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```

```http
HTTP/1.1 400 Bad_Request
{
"message": "Missing required parameters"
}
```


## Create Security set

This API Creates Security Set.

**POST** `https://baseurl/v1/security/securityset`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/security/securityset
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| name | String | Name of Security set. |
| description | Number | Description of Security set. |
| securities | Security[] | Full Name of User of who edited security set in system. |
| toleranceType | String | Tolerance type can two values ABSOLUTE, BAND. |
| toleranceTypeValue | Number | Tolerance Value. |

```json
{
"name": "first",
"description": "my first security set",
"toleranceType" : "ABSOLUTE",
"toleranceTypeValue" : 0,
"securities": [
{
"id": 8496,
"targetPercent": 50,
"lowerModelTolerancePercent": 5,
"upperModelTolerancePercent": 5,
"lowerModelToleranceAmount": 5,
"upperModelToleranceAmount": 5,
"rank" :0,
"taxableSecurity": {
"id": 8496
},
"taxDeferredSecurity" :{
"id": 8496
},
"taxExemptSecurity": {
"id": 8496
},
"minTradeAmount": 100,
"minInitialBuyDollar": 101,
"equivalentType" : 1,
"equivalent" : {
<span class="Apple-converted-space"> 	"id" : 1
},
"equivalentBuyPriority": {
"id": 1,
},
"equivalentSellPriority": {
"id": 1,
},
"buyPriority": {
id : 1
},
"sellPriority": {id : 1},
"equivalences": [
{
"id": 15727,
"taxableSecurity": {
"id": 8496
},
"taxDeferredSecurity" :{
"id": 8496
},
"taxExemptSecurity": {
"id": 8496
},
"minTradeAmount": 100,
"minInitialBuyDollar": 101,
"buyPriority": {
id : 1
},
"sellPriority": {id : 1},
"rank" : 0
}
],
"tlh": [
{
"id": 9409,
"priority": 2
}
]
},
{
"id": 9409,
"targetPercent": 50,
"lowerModelTolerancePercent": 5,
"upperModelTolerancePercent": 5,
"lowerModelToleranceAmount": 5,
"upperModelToleranceAmount": 5,
"taxableSecurity": {
"id": 8496
},
"taxDeferredSecurity" :{
"id": 8496
},
"taxExemptSecurity": {
"id": 8496
},
"minTradeAmount": 100,
"minInitialBuyDollar": 100,
"equivalentType" : 1,
"equivalent" : {
<span class="Apple-converted-space"> 	"id" : 1
},
"equivalentBuyPriority": {
"id": 1,
},
"equivalentSellPriority": {
"id": 1,
},
"buyPriority": {
id : 1
},
"sellPriority": {id : 1},
"equivalences": [
{
"id": 15727,
"taxableSecurity": {
"id": 8496
},
"taxDeferredSecurity" :{
"id": 8496
},
"taxExemptSecurity": {
"id": 8496
},
"minTradeAmount": 100,
"minInitialBuyDollar": 100,
"buyPriority": "HARD_TO_BUY",
"sellPriority": "HARD_TO_SELL",
"rank" : 0
}
],
"tlh": [
{
"id": 9409,
"priority": 1
},
{
"id": 331252,
"priority": 2
}
]
}
]
}
```

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | Security set Id. |
| name | String | Name of Security set. |
| description | Number | Description of Security set. |
| isDeleted | Number | Security set exists in system or not. |
| createdOn | Date | Creation Date of security set. |
| createdBy | Number | Full Name of User of who created security set in system. |
| editedOn | Date | Edited Date of security set. |
| editedBy | Number | FullName of User of who edited security set in system. |
| securities | Security[] | Full Name of User of who edited security set in system. |

```http
HTTP/1.1 200 OK
{
"id": 1,
"name": "first",
"description": "my first security set",
"toleranceType" : "ABSOLUTE",
"toleranceTypeValue" : 0,
"createdOn": "2016-08-02T10:14:54.000Z",
"createdBy": "Prime TGI",
"editedOn": "2016-08-10T09:00:18.000Z",
"editedBy": "Prime Prime",
"securities": [
{
"id": 8496,
"name": "Sysco Corporation",
"symbol": "SYY",
"rank" : 1,
"targetPercent": 50,
"lowerModelTolerancePercent": 5,
"upperModelTolerancePercent": 5,
"lowerModelToleranceAmount": 5,
"upperModelToleranceAmount": 5,
"taxableSecurity": {
"id": 8496,
"name": "Sysco Corporation",
"symbol": "SYY"
},
"taxDeferredSecurity": {
"id": 8496,
"name": "Sysco Corporation",
"symbol": "SYY"
},
"taxExemptSecurity": {
"id": 8496,
"name": "Sysco Corporation",
"symbol": "SYY"
},
"minTradeAmount": 100,
"minInitialBuyDollar": 100,
"buyPriority": {
"id": 1,
"displayName": "Do Not Buy",
"code": "DO_NOT_BUY"
},
"sellPriority": {
"id": 1,
"displayName": "Do Not Buy",
"code": "DO_NOT_BUY"
},
"equivalentBuyPriority": {
"id": 1,
"displayName": "Do Not Buy",
"code": "DO_NOT_BUY"
},
"equivalentSellPriority": {
"id": 1,
"displayName": "Do Not Buy",
"code": "DO_NOT_BUY"
},
"equivalences": [
{
"id": 15727,
"name": "iShares Dow Jones US Consumer Cyclical Sector Index",
"symbol": "IYC",
"taxableSecurity": {
"id": 15727,
"name": "iShares Dow Jones US Consumer Cyclical Sector Index",
"symbol": "IYC"
},
"taxDeferredSecurity": {
"id": 15727,
"name": "iShares Dow Jones US Consumer Cyclical Sector Index",
"symbol": "IYC"
},
"taxExemptSecurity": {
"id": 15727,
"name": "iShares Dow Jones US Consumer Cyclical Sector Index",
"symbol": "IYC"
},
"minTradeAmount": 100,
"minInitialBuyDollar": 100,
"buyPriority": {
"id": 1,
"displayName": "Do Not Buy",
"code": "DO_NOT_BUY"
},
"sellPriority": {
"id": 1,
"displayName": "Do Not Buy",
"code": "DO_NOT_BUY"
},
"rank" : 0
}
],
"tlh": [
{
"id": 9409,
"name": "Medtronic PLC",
"symbol": "MDT",
"priority": 3
}
]
},
{
"id": 9409,
"name": "Medtronic PLC",
"symbol": "MDT",
"targetPercent": 50,
"lowerModelTolerancePercent": 5,
"upperModelTolerancePercent": 5,
"lowerModelToleranceAmount": 5,
"upperModelToleranceAmount": 5,
"taxableSecurity": {
"id": 8496,
"name": "Medtronic PLC",
"symbol": "MDT"
},
"taxDeferredSecurity": {
"id": 8496,
"name": "Medtronic PLC",
"symbol": "MDT"
},
"taxExemptSecurity": {
"id": 8496,
"name": "Medtronic PLC",
"symbol": "MDT"
},
"minTradeAmount": 100,
"minInitialBuyDollar": 100,
"equivalentType" : 1,
"equivalentTypeDisplayName" : "Category",
"equivalent" : {
<span class="Apple-converted-space">     		"id" : 1
<span class="Apple-converted-space">     		"name" : "large cap category"
},
"equivalentBuyPriority": {
"id": 1,
"displayName": "Do Not Buy",
"code": "DO_NOT_BUY"
},
"equivalentSellPriority": {
"id": 1,
"displayName": "Do Not Buy",
"code": "DO_NOT_BUY"
},
"buyPriority": {
"id": 1,
"displayName": "Do Not Buy",
"code": "DO_NOT_BUY"
},
"sellPriority": {
"id": 1,
"displayName": "Do Not Buy",
"code": "DO_NOT_BUY"
},
"equivalences": [
{
"id": 15727,
"name": "iShares Dow Jones US Consumer Cyclical Sector Index",
"symbol": "IYC",
"taxableSecurity": {
"id": 15727,
"name": "iShares Dow Jones US Consumer Cyclical Sector Index",
"symbol": "IYC"
},
"taxDeferredSecurity": {
"id": 15727,
"name": "iShares Dow Jones US Consumer Cyclical Sector Index",
"symbol": "IYC"
},
"taxExemptSecurity": {
"id": 15727,
"name": "iShares Dow Jones US Consumer Cyclical Sector Index",
"symbol": "IYC"
},
"minTradeAmount": 100,
"minInitialBuyDollar": 100,
"buyPriority": {
"id": 1,
"displayName": "Do Not Buy",
"code": "DO_NOT_BUY"
},
"sellPriority": {
"id": 1,
"displayName": "Do Not Buy",
"code": "DO_NOT_BUY"
},
"rank" : 0
}
],
"tlh": [
{
"id": 331252,
"name": "iShares Tr FTSE NAREIT Mortgage REITs",
"symbol": "REM",
"priority": 1
},
{
"id": 9409,
"name": "Medtronic PLC",
"symbol": "MDT",
"priority": 2
}
]
}
]
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |
| Bad_Request | When missing required parameters. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```

```http
HTTP/1.1 400 Bad_Request
{
"message": "Missing required parameters"
}
```


## Delete SecuritySet ignoring model

This API deletes Security Set (soft delete).

**DELETE** `https://baseurl/v1/security/securityset/:id?modelId={ID}`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/security/securityset/1
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| message | String | Success message. |

```http
HTTP/1.1 200 OK
{
"message": "SecuritySet deleted successfully"
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |
| Unprocessable_Entity | When Security Set does not exist. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```

```http
HTTP/1.1 422 Unprocessable_Entity
{
"message": " Security Set Not Found "
}
```


## Delete SecuritySet

This API deletes Security Set (soft delete).

**DELETE** `https://baseurl/v1/security/securityset/:id`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/security/securityset/1
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| message | String | Success message. |

```http
HTTP/1.1 200 OK
{
"message": "SecuritySet deleted successfully"
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |
| Unprocessable_Entity | When Security Set does not exist. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```

```http
HTTP/1.1 422 Unprocessable_Entity
{
"message": " Security Set Not Found "
}
```


## GetSecurity set Details

This API gets security detail.

**GET** `https://baseurl/v1/security/securityset/details/:id`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/security/securityset/details/:id
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | Security set Id. |
| name | String | Name of Security set. |
| toleranceType | String | Tolerance type can two values ABSOLUTE, BAND. |
| toleranceTypeValue | Number | Tolerance Value. |
| description | String | Description of Security set. |
| isDeleted | Number | Security set exists in system or not. |
| createdOn | Date | Creation Date of security set. |
| createdBy | Number | Full Name of User of who created security set in system. |
| editedOn | Date | Edited Date of security set. |
| editedBy | Number | FullName of User of who edited security set in system. |
| securities | Security[] | Full Name of User of who edited security set in system. |

```http
HTTP/1.1 200 OK
{
"id": 1,
"name": "first",
"description": "my first security set",
"toleranceType" : "ABSOLUTE",
"toleranceTypeValue" : 0,
"createdOn": "2016-08-02T10:14:54.000Z",
"createdBy": "Prime TGI",
"editedOn": "2016-08-10T09:00:18.000Z",
"editedBy": "Prime Prime",
"securities": [
{
"id": 8496,
"name": "Sysco Corporation",
"symbol": "SYY",
"rank" : 1,
"targetPercent": 50,
"lowerModelTolerancePercent": 5,
"upperModelTolerancePercent": 5,
"lowerModelToleranceAmount": 5,
"upperModelToleranceAmount": 5
}
{
"id": 9409,
"name": "Medtronic PLC",
"symbol": "MDT",
"targetPercent": 50,
"lowerModelTolerancePercent": 5,
"upperModelTolerancePercent": 5,
"lowerModelToleranceAmount": 5,
"upperModelToleranceAmount": 5,
}
]
}
]
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get All Detailed Security set

This API gets security detail.

**GET** `https://baseurl/v1/security/securityset/detail`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/security/securityset/detail
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |


## Get All equivalentTypes

This API gets security set equivalentTypes.

**GET** `https://baseurl/v1/security/securityset/equivalentType`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/security/securityset/equivalentType
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

```http
HTTP/1.1 200 OK
[
{
"id": 1,
"name": "Category",
"code": "CATEGORY"
},
{
"id": 2,
"name": "Class",
"code": "CLASS"
},
{
"id": 3,
"name": "SubClass",
"code": "SUBCLASS"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get All securityset Buy priorities

This API gets security set buy priorities list.

**GET** `https://baseurl/v1/security/securityset/buypriority`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/security/securityset/buypriority
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

```http
HTTP/1.1 200 OK
[
{
"id": 1,
"displayName": "Do Not Buy",
"code": "DO_NOT_BUY"
},
{
"id": 2,
"displayName": "Hard To Buy",
"code": "HARD_TO_BUY"
},
{
"id": 3,
"displayName": "Can Buy",
"code": "CAN_BUY"
},
{
"id": 4,
"displayName": "Buy To Target",
"code": "BUY_TO_TARGET"
},
{
"id": 5,
"displayName": "Priority Buy",
"code": "PRIORITY_BUY"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get All securityset Sell priorities

This API gets security set sell priorities list.

**GET** `https://baseurl/v1/security/securityset/sellpriority`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/security/securityset/sellpriority
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

```http
HTTP/1.1 200 OK
[
{
"id": 1,
"name": "Do Not Sell",
"code": "DO_NOT_SELL"
},
{
"id": 2,
"name": "Hard To Sell",
"code": "HARD_TO_SELL"
},
{
"id": 3,
"name": "Sell If No Gain",
"code": "SELL_IF_NO_GAIN"
},
{
"id": 4,
"name": "Can Sell",
"code": "CAN_SELL"
},
{
"id": 5,
"name": "Sell To Target",
"code": "SELL_TO_TARGET"
},
{
"id": 6,
"name": "Priority Sell",
"code": "PRIORITY_SELL"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get All SecuritySets with params

This API gets securityset list.

**GET** `https://baseurl/v1/security/securityset?assetCategoryId=?&amp;assetClassId=?&amp;assetSubClassId=?&amp;all=true`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/security/securityset
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | Security set Id. |
| name | String | Name of Security set. |
| toleranceType | String | Tolerance type can two values ABSOLUTE, BAND. |
| toleranceTypeValue | Number | Tolerance Value. |
| description | String | Description of Security set. |
| isModelAssigned | Number | Tell whether model is assigned to security set. |
| isDeleted | Number | Security set exists in system or not. |
| createdOn | Date | Creation Date of security set. |
| createdBy | Number | Full Name of User of who created security set in system. |
| editedOn | Date | Edited Date of security set. |
| editedBy | Number | Full Name of User of who edited security set in system. |

```http
HTTP/1.1 200 OK
[
{
"id": 1,
"name": "first",
"description": "my first security set",
"isFavorite" : 1,
"toleranceType" : "ABSOLUTE",
"toleranceTypeValue" : 0,
"isModelAssigned": 1,
"isDeleted": 0,
"createdOn": "2016-08-02T10:14:54.000Z",
"createdBy": "Prime TGI",
"editedOn": "2016-08-10T09:00:18.000Z",
"editedBy": "Prime Prime"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get All SecuritySets

This API gets securityset list.

**GET** `https://baseurl/v1/security/securityset`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/security/securityset
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | Security set Id. |
| name | String | Name of Security set. |
| toleranceType | String | Tolerance type can two values ABSOLUTE, BAND. |
| toleranceTypeValue | Number | Tolerance Value. |
| description | String | Description of Security set. |
| isModelAssigned | Number | Tell whether model is assigned to security set. |
| isDeleted | Number | Security set exists in system or not. |
| createdOn | Date | Creation Date of security set. |
| createdBy | Number | Full Name of User of who created security set in system. |
| editedOn | Date | Edited Date of security set. |
| editedBy | Number | Full Name of User of who edited security set in system. |

```http
HTTP/1.1 200 OK
[
{
"id": 1,
"name": "first",
"description": "my first security set",
"isFavorite" : 1,
"toleranceType" : "ABSOLUTE",
"toleranceTypeValue" : 0,
"isModelAssigned": 1,
"isDeleted": 0,
"createdOn": "2016-08-02T10:14:54.000Z",
"createdBy": "Prime TGI",
"editedOn": "2016-08-10T09:00:18.000Z",
"editedBy": "Prime Prime"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get Detailed Security set

This API gets security detail.

**GET** `https://baseurl/v1/security/securityset/:id`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/security/securityset/:id
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | Security set Id. |
| name | String | Name of Security set. |
| toleranceType | String | Tolerance type can two values ABSOLUTE, BAND. |
| toleranceTypeValue | Number | Tolerance Value. |
| description | String | Description of Security set. |
| isDeleted | Number | Security set exists in system or not. |
| createdOn | Date | Creation Date of security set. |
| createdBy | Number | Full Name of User of who created security set in system. |
| editedOn | Date | Edited Date of security set. |
| editedBy | Number | FullName of User of who edited security set in system. |
| securities | Security[] | Full Name of User of who edited security set in system. |

```http
HTTP/1.1 200 OK
{
"id": 1,
"name": "first",
"description": "my first security set",
"toleranceType" : "ABSOLUTE",
"toleranceTypeValue" : 0,
"createdOn": "2016-08-02T10:14:54.000Z",
"createdBy": "Prime TGI",
"editedOn": "2016-08-10T09:00:18.000Z",
"editedBy": "Prime Prime",
"securities": [
{
"id": 8496,
"name": "Sysco Corporation",
"symbol": "SYY",
"rank" : 1,
"targetPercent": 50,
"lowerModelTolerancePercent": 5,
"upperModelTolerancePercent": 5,
"lowerModelToleranceAmount": 5,
"upperModelToleranceAmount": 5,
"taxableSecurity": {
"id": 8496,
"name": "Sysco Corporation",
"symbol": "SYY"
},
"taxDeferredSecurity": {
"id": 8496,
"name": "Sysco Corporation",
"symbol": "SYY"
},
"taxExemptSecurity": {
"id": 8496,
"name": "Sysco Corporation",
"symbol": "SYY"
},
"minTradeAmount": 100,
"minInitialBuyDollar": 100,
<span class="Apple-converted-space"> 		   "equivalentType" : 1,
"equivalentTypeDisplayName" : "Category",
"equivalent" : {
<span class="Apple-converted-space">     		"id" : 1
<span class="Apple-converted-space">     		"name" : "large cap category"
},
"buyPriority": {
"id": 1,
"displayName": "Do Not Buy",
"code": "DO_NOT_BUY"
},
"sellPriority": {
"id": 1,
"displayName": "Do Not Buy",
"code": "DO_NOT_BUY"
},
"equivalences": [
{
"id": 15727,
"name": "iShares Dow Jones US Consumer Cyclical Sector Index",
"symbol": "IYC",
"taxableSecurity": {
"id": 15727,
"name": "iShares Dow Jones US Consumer Cyclical Sector Index",
"symbol": "IYC"
},
"taxDeferredSecurity": {
"id": 15727,
"name": "iShares Dow Jones US Consumer Cyclical Sector Index",
"symbol": "IYC"
},
"taxExemptSecurity": {
"id": 15727,
"name": "iShares Dow Jones US Consumer Cyclical Sector Index",
"symbol": "IYC"
},
"minTradeAmount": 100,
"minInitialBuyDollar": 100,
"buyPriority": {
"id": 1,
"displayName": "Do Not Buy",
"code": "DO_NOT_BUY"
},
"sellPriority": {
"id": 1,
"displayName": "Do Not Buy",
"code": "DO_NOT_BUY"
},
"rank" : 0
}
],
"tlh": [
{
"id": 9409,
"name": "Medtronic PLC",
"symbol": "MDT",
"priority": 3
}
]
},
{
"id": 9409,
"name": "Medtronic PLC",
"symbol": "MDT",
"targetPercent": 50,
"lowerModelTolerancePercent": 5,
"upperModelTolerancePercent": 5,
"lowerModelToleranceAmount": 5,
"upperModelToleranceAmount": 5,
"taxableSecurity": {
"id": 8496,
"name": "Medtronic PLC",
"symbol": "MDT"
},
"taxDeferredSecurity": {
"id": 8496,
"name": "Medtronic PLC",
"symbol": "MDT"
},
"taxExemptSecurity": {
"id": 8496,
"name": "Medtronic PLC",
"symbol": "MDT"
},
"minTradeAmount": 100,
"minInitialBuyDollar": 100,
"equivalentType" : 1,
"equivalentTypeDisplayName" : "Category",
"equivalent" : {
<span class="Apple-converted-space">     		"id" : 1
<span class="Apple-converted-space">     		"name" : "large cap category"
},
"buyPriority": {
"id": 1,
"displayName": "Do Not Buy",
"code": "DO_NOT_BUY"
},
"sellPriority": {
"id": 1,
"displayName": "Do Not Buy",
"code": "DO_NOT_BUY"
},
"equivalences": [
{
"id": 15727,
"name": "iShares Dow Jones US Consumer Cyclical Sector Index",
"symbol": "IYC",
"taxableSecurity": {
"id": 15727,
"name": "iShares Dow Jones US Consumer Cyclical Sector Index",
"symbol": "IYC"
},
"taxDeferredSecurity": {
"id": 15727,
"name": "iShares Dow Jones US Consumer Cyclical Sector Index",
"symbol": "IYC"
},
"taxExemptSecurity": {
"id": 15727,
"name": "iShares Dow Jones US Consumer Cyclical Sector Index",
"symbol": "IYC"
},
"minTradeAmount": 100,
"minInitialBuyDollar": 100,
"buyPriority": {
<span class="Apple-converted-space">   	id : 1
},
"sellPriority": {id : 1},
"rank" : 0
}
],
"tlh": [
{
"id": 331252,
"name": "iShares Tr FTSE NAREIT Mortgage REITs",
"symbol": "REM",
"priority": 1
},
{
"id": 9409,
"name": "Medtronic PLC",
"symbol": "MDT",
"priority": 2
}
]
}
]
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Update Security set

This API Updates Security Set.

**PUT** `https://baseurl/v1/security/securityset/:id`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/security/securityset/1
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| name | String | Name of Security set. |
| description | Number | Description of Security set. |
| toleranceType | String | Tolerance type can two values ABSOLUTE, BAND. |
| toleranceTypeValue | Number | Tolerance Value. |
| securities | Security[] | Full Name of User of who edited security set in system. |

```json
{
"name": "first",
"description": "my first security set",
"toleranceType" : "ABSOLUTE",
"toleranceTypeValue" : 0,
"securities": [
{
"id": 8496,
"targetPercent": 50,
"lowerModelTolerancePercent": 5,
"upperModelTolerancePercent": 5,
"lowerModelToleranceAmount": 5,
"upperModelToleranceAmount": 5,
"rank" :0,
"taxableSecurity": {
"id": 8496
},
"taxDeferredSecurity" :{
"id": 8496
},
"taxExemptSecurity": {
"id": 8496
},
"minTradeAmount": 100,
"minInitialBuyDollar": 101,
"equivalentType" : 1,
"equivalent" : {
<span class="Apple-converted-space"> 	"id" : 1
},
"equivalentBuyPriority": {
id : 1
},
"equivalentSellPriority": {
id : 1
},
"sellPriority": {
<span class="Apple-converted-space"> 		id : 1
<span class="Apple-converted-space">	  },
"buyPriority": {
id : 1
},
"sellPriority": {id : 1},
"equivalences": [
{
"id": 15727,
"taxableSecurity": {
"id": 8496
},
"taxDeferredSecurity" :{
"id": 8496
},
"taxExemptSecurity": {
"id": 8496
},
"minTradeAmount": 100,
"minInitialBuyDollar": 101,
"buyPriority": {
id : 1
},
"sellPriority": {id : 1},
"rank" : 0
}
],
"tlh": [
{
"id": 9409,
"priority": 2
}
]
},
{
"id": 9409,
"targetPercent": 50,
"lowerModelTolerancePercent": 5,
"upperModelTolerancePercent": 5,
"lowerModelToleranceAmount": 5,
"upperModelToleranceAmount": 5,
"taxableSecurity": {
"id": 8496
},
"taxDeferredSecurity" :{
"id": 8496
},
"taxExemptSecurity": {
"id": 8496
},
"minTradeAmount": 100,
"minInitialBuyDollar": 100,
"equivalentType" : 1,
"equivalent" : {
<span class="Apple-converted-space"> 	"id" : 1
},
"equivalentBuyPriority": {
id : 1
},
"equivalentSellPriority": {
id : 1
},
"buyPriority": {
id : 1
},
"sellPriority": {id : 1},
"equivalences": [
{
"id": 15727,
"taxableSecurity": {
"id": 8496
},
"taxDeferredSecurity" :{
"id": 8496
},
"taxExemptSecurity": {
"id": 8496
},
"minTradeAmount": 100,
"minInitialBuyDollar": 100,
"equivalentType" : 1,
"equivalent" : {
<span class="Apple-converted-space"> 	"id" : 1
},
"buyPriority": "HARD_TO_BUY",
"sellPriority": "HARD_TO_SELL",
"rank" : 0
}
],
"tlh": [
{
"id": 9409,
"priority": 1
},
{
"id": 331252,
"priority": 2
}
]
}
]
}
```

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | Security set Id. |
| name | String | Name of Security set. |
| description | Number | Description of Security set. |
| isDeleted | Number | Security set exists in system or not. |
| createdOn | Date | Creation Date of security set. |
| createdBy | Number | Full Name of User of who created security set in system. |
| editedOn | Date | Edited Date of security set. |
| editedBy | Number | FullName of User of who edited security set in system. |
| securities | Security[] | Full Name of User of who edited security set in system. |

```http
HTTP/1.1 200 OK
{
"id": 1,
"name": "first",
"description": "my first security set",
"toleranceType" : "ABSOLUTE",
"toleranceTypeValue" : 0,
"createdOn": "2016-08-02T10:14:54.000Z",
"createdBy": "Prime TGI",
"editedOn": "2016-08-10T09:00:18.000Z",
"editedBy": "Prime Prime",
"securities": [
{
"id": 8496,
"name": "Sysco Corporation",
"symbol": "SYY",
"rank" : 1,
"targetPercent": 50,
"lowerModelTolerancePercent": 5,
"upperModelTolerancePercent": 5,
"lowerModelToleranceAmount": 5,
"upperModelToleranceAmount": 5,
"taxableSecurity": {
"id": 8496,
"name": "Sysco Corporation",
"symbol": "SYY"
},
"taxDeferredSecurity": {
"id": 8496,
"name": "Sysco Corporation",
"symbol": "SYY"
},
"taxExemptSecurity": {
"id": 8496,
"name": "Sysco Corporation",
"symbol": "SYY"
},
"minTradeAmount": 100,
"minInitialBuyDollar": 100,
"equivalentType" : 1,
"equivalentTypeDisplayName" : "Category",
"equivalent" : {
<span class="Apple-converted-space">     		"id" : 1
<span class="Apple-converted-space">     		"name" : "large cap category"
},
"equivalentBuyPriority": {
"id": 1,
"displayName": "Do Not Buy",
"code": "DO_NOT_BUY"
},
"equivalentSellPriority": {
"id": 1,
"displayName": "Do Not Buy",
"code": "DO_NOT_BUY"
},
"buyPriority": {
"id": 1,
"displayName": "Do Not Buy",
"code": "DO_NOT_BUY"
},
"sellPriority": {
"id": 1,
"displayName": "Do Not Buy",
"code": "DO_NOT_BUY"
},
"equivalences": [
{
"id": 15727,
"name": "iShares Dow Jones US Consumer Cyclical Sector Index",
"symbol": "IYC",
"taxableSecurity": {
"id": 15727,
"name": "iShares Dow Jones US Consumer Cyclical Sector Index",
"symbol": "IYC"
},
"taxDeferredSecurity": {
"id": 15727,
"name": "iShares Dow Jones US Consumer Cyclical Sector Index",
"symbol": "IYC"
},
"taxExemptSecurity": {
"id": 15727,
"name": "iShares Dow Jones US Consumer Cyclical Sector Index",
"symbol": "IYC"
},
"minTradeAmount": 100,
"minInitialBuyDollar": 100,
"buyPriority": {
"id": 1,
"displayName": "Do Not Buy",
"code": "DO_NOT_BUY"
},
"sellPriority": {
"id": 1,
"displayName": "Do Not Buy",
"code": "DO_NOT_BUY"
},
"rank" : 0
}
],
"tlh": [
{
"id": 9409,
"name": "Medtronic PLC",
"symbol": "MDT",
"priority": 3
}
]
},
{
"id": 9409,
"name": "Medtronic PLC",
"symbol": "MDT",
"targetPercent": 50,
"lowerModelTolerancePercent": 5,
"upperModelTolerancePercent": 5,
"lowerModelToleranceAmount": 5,
"upperModelToleranceAmount": 5,
"taxableSecurity": {
"id": 8496,
"name": "Medtronic PLC",
"symbol": "MDT"
},
"taxDeferredSecurity": {
"id": 8496,
"name": "Medtronic PLC",
"symbol": "MDT"
},
"taxExemptSecurity": {
"id": 8496,
"name": "Medtronic PLC",
"symbol": "MDT"
},
"minTradeAmount": 100,
"minInitialBuyDollar": 100,
"equivalentType" : 1,
"equivalentTypeDisplayName" : "Category",
"equivalent" : {
<span class="Apple-converted-space">     		"id" : 1
<span class="Apple-converted-space">     		"name" : "large cap category"
},
"equivalentBuyPriority": {
"id": 1,
"displayName": "Do Not Buy",
"code": "DO_NOT_BUY"
},
"equivalentSellPriority": {
"id": 1,
"displayName": "Do Not Buy",
"code": "DO_NOT_BUY"
},
"buyPriority": {
"id": 1,
"displayName": "Do Not Buy",
"code": "DO_NOT_BUY"
},
"sellPriority": {
"id": 1,
"displayName": "Do Not Buy",
"code": "DO_NOT_BUY"
},
"equivalences": [
{
"id": 15727,
"name": "iShares Dow Jones US Consumer Cyclical Sector Index",
"symbol": "IYC",
"taxableSecurity": {
"id": 15727,
"name": "iShares Dow Jones US Consumer Cyclical Sector Index",
"symbol": "IYC"
},
"taxDeferredSecurity": {
"id": 15727,
"name": "iShares Dow Jones US Consumer Cyclical Sector Index",
"symbol": "IYC"
},
"taxExemptSecurity": {
"id": 15727,
"name": "iShares Dow Jones US Consumer Cyclical Sector Index",
"symbol": "IYC"
},
"minTradeAmount": 100,
"minInitialBuyDollar": 100,
"buyPriority": {
"id": 1,
"displayName": "Do Not Buy",
"code": "DO_NOT_BUY"
},
"sellPriority": {
"id": 1,
"displayName": "Do Not Buy",
"code": "DO_NOT_BUY"
},
"rank" : 0
}
],
"tlh": [
{
"id": 331252,
"name": "iShares Tr FTSE NAREIT Mortgage REITs",
"symbol": "REM",
"priority": 1
},
{
"id": 9409,
"name": "Medtronic PLC",
"symbol": "MDT",
"priority": 2
}
]
}
]
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |
| Bad_Request | When missing required parameters. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```

```http
HTTP/1.1 400 Bad_Request
{
"message": "Missing required parameters"
}
```


---

# SleeveStrategies


## Get Portfolio ids by strategy type and ids

This API gets portfolioIds by type.

**POST** `https://baseurl/v1v1/sleeveStrategy/sleeveStrategies/portfolios`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/sleeveStrategy/sleeveStrategies/portfolios
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

```http
HTTP/1.1 200 OK
[1, 2, 3, 4]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get Sleeve Strategy based on type

This API gets sleeve strategy by type.

**POST** `https://baseurl/v1v1/sleeveStrategy/sleeveStrategies/getAssignedStrategies`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/sleeveStrategy/sleeveStrategies/getAssignedStrategies
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | Sleeve strategy id. |
| name | String | Sleeve strategy name. |

```http
HTTP/1.1 200 OK
[
{
<span class="Apple-converted-space"> 		"id": 3,
<span class="Apple-converted-space">  	"name": "Test1"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


---

# SplitBlock


## This api is used for split block

This api will split the blocks into new sub blocks

**POST** `https://baseurl/v1/action/splitBlock`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/tradeorder/blocks/action/splitBlock
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


---

# TOM - Pending


## Count of Pending Trade Order

This will return pending trades order count.

**GET** `https://baseurl/v1/tradeorder/trades/count?isPending=true`

**Permission:** `Count only those order whose status is pending in trades table`

```bash
curl -i http://baseurl/v1/tradeorder/trades/count?isPending=true
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| noOfTrades: | Number | Count of trades. |

```http
HTTP/1.1 200 OK
{
noOfTrades:200
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get All pending trade blocks

This API get all blocks which have at-least one trade with status pending.

**GET** `https://baseurl/v1/tradeorder/blocks?isPending={true/false}`

**Permission:** `Get only those block whose at-least one trade is pending.`

```bash
curl -i http://baseurl/v1/tradeorder/blocks?isPending=true
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | Blocks order Id. |
| action: | String | Action contains either buy or sell. |
| orderQty: | Decimal | Number of shares to be sell or buy |
| cumQty: | Decimal | The total number of shares that have been filled on the block order |
| leavesQty: | Decimal | The number of shares remaining to be filled on the block order |
| estimateAmount: | Decimal | Security Price * Order Qty |
| orderType: | String | Block order Type |
| price: | Decimal | The price used to stage the order. |
| avgPrice: | Decimal | The average execution price per share. |
| custodian: | String | Name of custodian. |
| security_id: | Number | Block related security id. |
| security_name: | String | Security name |
| security_symbol: | String | Secirity symbol |
| security_securityType: | String | Security type name |
| createdBy | String | Full Name of user who created the block order into the system. |
| createdDate | Date | Block creation date into application. |
| maturityDate | Date | Block maturity date. |
| allocationStatus_id | Number | Allocation status id |
| allocationStatus_name | Sring | Allocation status name |
| allocationId | Number | Allocation id |
| execInst | String | Block execution instructions |
| expireTime | Date | Block expiration time |
| fullSettDate | Date | Block full set trade |
| handlInst | String | Block handl instructions |
| isDiscretionary | Boolean | Block is discretionary |
| isAutoAllocate | Boolean | Tells whether the block order will automatically be allocated or not |
| longTermGain | Number | Block long term gain |
| masterAccountNumber | String | custodian master account |
| orderStatus_id | Number | Block order status id |
| orderStatus.name | Number | Block order status name |
| fixVersion | Number | Block fix version |
| settlementType.id | Number | Settlement type id |
| settlementType.name | Number | Settlement type name |
| cfiCode.id | Number | Cfi code id |
| cfiCode.name | Number | Cfi code name |
| positionEffect.id | Number | Position effect id |
| positionEffect.name | Number | Position effect name |
| orderCapacity.id | Number | Order Capacity effect id |
| orderCapacity.name | Number | Order Capacity name |
| clOrderId | Number |
| orderId | String | returned by the executing broker |
| pendingOrderStatus | String | Pending order status. |
| shortTermGain | Number | Block short term gain |
| stopPrice | Decimal | Block stop price |
| strikePrice | Decimal | Block strike price |
| limitPrice | Decimal | Block limitPrice |
| transactionTime | Date | Transation Time |
| isSolicited | Boolean | Block is solicited |
| isNeedAttention | Boolean | Block need attention or not |
| messageSequenceNumber | Number | Block message sequence number |
| lastPrice | Number | The price at which the last lot of the security was executed at |
| lastShare | Number | The number of shares in the last executed lot |
| lastText | String | Last message returned by the executing broker for the block order |
| lastTextType | String | This is used to indicate what type of message returned the last message |
| rejectreason | Sring | The reason why a block was rejected. |
| routing | Sring | Custodian.FixRouting. |
| cusip | Sring | The Cusip of the security being traded. Pulled from Security.Cusip column |
| blockName | Sring | A description of Action, Ticker and Status of the block order. |
| allocationRejectCode | Sring | The reason an allocation was rejected. |
| cancelRejectReason | Sring | The reason that a cancel request of the block order was rejected. |
| editedBy | Sring | Full Name of user who edited the block order into the system. |
| editedDate | Date | Block edit date into application. |
| tradedBy | Sring | User Name of the user who executes the block |
| canEdit | Boolean | Whether user can edit block or not |
| canExecute | Boolean | Whether user can execute block or not |

```http
HTTP/1.1 200 OK
[
{
"id": 1,
"action": "BUY",
"createdBy": "sales.main@orion.com",
"createdDate": "01/03/2017 09:56:53 AM",
"custodian": {
"id": 4,
"name": "Schwab"
},
"security": {
"id": 5661,
"name": "American Intl Group Inc",
"symbol": "AIG",
"securityType": "Equity"
},
"orderStatus": {
"id": 1,
"name": "Not sent"
},
"orderType": {
"id": 1,
"name": "Market"
},
"limitPrice": null,
"stopPrice": null,
"cumQty": null,
"leavesQty": null,
"avgPrice": null,
"masterAccountNumber": "SCH",
"routing": null,
"isAutoAllocate": false,
"allocationRejectCode": null,
"allocationStatus": {
"id": 2,
"name": "Sent"
},
"blockName": "BUY AIG-Not sent",
"cancelRejectReason": null,
"cfiCode": {
"id": null,
"name": null,
"units": null
},
"clOrderId": null,
"cusip": null,
"duration": {
"id": null,
"name": null
},
"executionInst": null,
"expireTime": null,
"fullSettDate": null,
"handlInst": "Automated execution order, private, no Broker intervention",
"lastPrice": null,
"lastShare": null,
"lastText": null,
"lastTextType": "none",
"isDiscretionary": false,
"longTermGain": 1,
"messageSequenceNumber": 0,
"maturityDate": null,
"isNeedAttention": false,
"orderCapacity": {
"id": null
},
"orderId": null,
"pendingOrderStatus": null,
"positionEffect": {
"id": null
},
"settlementType": {
"id": null,
"name": null
},
"shortTermGain": 1,
"isSolicited": false,
"strikePrice": null,
"tradedBy": "sales.main@orion.com",
"transactionTime": null,
"canEdit": false,
"canExecute": false,
"editedBy": "sales.main@orion.com",
"editedDate": "01/03/2017 09:57:00 AM"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get All Pending Trades

This api will return all pending trades. But if blockId exist then its return pending trades specific to block.

**GET** `https://baseurl/v1/tradeorder/trades?isPending={true/false}&amp;blockId={blockId}`

**Permission:** `Get only those trades which are pending (trades.status = 'Pending' and other checks)`

```bash
curl -i http://baseurl/v1/tradeorder/trades?isPending={true/false}
curl -i http://baseurl/v1/tradeorder/trades?isPending={true/false}&blockId={blockId}
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | Trade order Id. |
| isEnabled: | Boolean | It indicates wheter trade order is enable ot not. |
| account_id | Number | Account id |
| account_accountId: | Number | Account id of orion connect |
| account_name: | String | Account name |
| account_number: | String | Account number |
| account_value | Decimal | Account value |
| account.type | Decimal | Account type |
| warningMesage: | String | Text message containing warnings about the trade. |
| action: | String | Action contains either buy or sell. |
| orderQty: | Number | Number of shares to be sell or buy |
| orderPercent: | Decimal | The percent of position being sold or buy |
| cashValuePostTrade: | Decimal | The cash balance remaining in the account after the trade orders |
| estimateAmount: | Decimal | Security Price * Order Qty |
| orderType: | String | Trade order Type |
| price: | Decimal | The price used to stage the order. |
| instanceDescription: | String | Description of trade. |
| tradingInstructions: | String | Instructions of trade. |
| custodian: | String | Name of custodian. |
| security_id: | Number | Trade related security id. |
| security_name: | String | Security name |
| security_symbol: | String | Secirity symbol |
| security_securityType: | String | Security type name |
| portfolio_id: | Number | Portfolio id |
| portfolio_name: | String | Portfolio name |
| isSleevedPortfolio: | Boolean | Portfolio sleeve or not |
| createdBy | String | Full Name of user who created the Trade order into the system. |
| createdDate | Date | Trade order creation date into application. |
| holdUntill | Date | Trade order hold until date. |
| model_id | Number | Model Id. |
| model_name | String | Model name. |
| allocationStatus_id | Number | Allocation status id |
| allocationStatus_name | Sring | Allocation status name |
| approvalStatus_id | Number | ApprovalStatus id |
| allrovalStatus.name | Sring | Approval status name |
| holding_id | Number | Holding id |
| holding_name | Sring | Holding name |
| blockId | Number | Block id |
| cashValue | Decimal | Available cash in the account |
| daysUntilLongTerm | Number | No. of days from Acquired date to current date |
| execInst | String | Trade execution instructions |
| expireTime | Date | Trade expiration time |
| fullSetDate | Date | Trade full set trade |
| gainLossMessage | String | Trade gain loss message |
| handlInst | String | Trade handl instructions |
| hasBlock | Boolean | Trade is block or not |
| instanceId | Number | Trade instance id |
| instanceNotes | String | Trade instance instructions |
| isDiscretionary | Boolean | Trade is discretionary |
| locateReqd | Boolean | Trade is locate required |
| longTermGain | Number | Trade long term gain |
| managementStyle | Number | Trade management style |
| masterAccountNumber | String | custodian master account |
| marketValue | Decimal | Trade market value |
| notes | Number | Trade notes |
| orderStatus_id | Number | Trade order status id |
| orderStatus.name | Number | Trade order status name |
| originalOrderQty | Number | Original quantity of order during trade generation |
| qualified | String | Trade is qualified |
| rebalanceLevel | String | Trade rebalance level |
| reinvestDividends | Boolean | Trade reinvest dividends |
| reinvestLongTermGains | Boolean | Trade long term gain |
| reinvestShortTermGains | Boolean | Trade short term gain |
| rowVersion | Number | Trade row version |
| settlementType.id | Number | Settlement type id |
| settlementType.name | Number | Settlement type name |
| pendingUnits | Number | Trade pending units |
| shortTermGain | Number | Trade short term gain |
| stopPrice | Number | Trade stop price |
| timeInForce | Number | Trade time in force |
| totalGain | Number | Trade total gain |
| tradePercentOfAccount | Number | Trade percent amount |
| transactionId | Number | Transation id |
| washAmount | Decimal | Wash amount |
| washUnits | Number | Wash units |
| assetClassName | String | Security asset class name |
| clientDirect | String | Trade is client direct |
| minimmCashBalance | Decimal | Trade minimy=um balance |
| repNotes | String | Repersentative notes |
| representativeName | String | Repersentative name |
| isSolicited | Boolean | Trade is solicited |
| editedBy | Sring | Full Name of user who edited the Trade order into the system. |
| editedDate | Date | Trade order edit date into application. |
| canEdit | Boolean | Whether user can edit trade or not |
| canExecute | Boolean | Whether user can execute trade or not |
| shortCodeMessages | String | Trade Error messages |
| vspInfo | Boolean | Trade VSP Info |
| vspDate | Date | Trade VSP Date |
| vspPrice | Number | Trade VSP Price |

```http
HTTP/1.1 200 OK
[{
"id": 5,
"isEnabled": 0,
"account": {
"id": 80004,
"accountId": "80004",
"name": "Kane, Jr.Fredric",
"number": "TE1001",
"value" : null,
"type" : null
},
"warningMessage": null,
"action": "BUY",
"orderQty": 6,
"orderPercent": 50,
"cashValuePostTrade": null,
"estimateAmmount": 41304,
"orderType": null,
"price": 61,
"createdBy": "prime@tgi.com",
"createdDate": "2016-09-13T04:33:36.000Z",
"instanceDescription": null,
"tradingInstructions": null,
"custodian": "Prime",
"security": {
"id": 7,
"name": null,
"symbol": null,
"securityType": null
},
"portfolio": {
"id": 15,
"name": "P1001",
"isSleevedPortfolio": true
},
"model": {
"id": 1,
"name": "testModel"
},
"holdUntil": null,
"allocationStatus":{
"id":3,
"name":"Accepted"
},
"approvalStatus":{
"id":3,
"name":"Pending Approval"
},
"holding":{
"id":2,
"units":100
},
"blockId":1,
"cashValue":1000,
"daysUntilLongTerm":20,
"execInst":"None",
"expireTime":null,
"fullSetDate":null,
"gainLossMessage":null,
"handlInst":"private",
"hasBlock":false,
"instanceId":1,
"instanceNotes":null,
"locateReqd":null,
"longTermGain":0,
"managementStyle":"",
"marketValue":0,
"notes":null,
"orderStatus":{
"id":1,
"name":"Filled"
},
"originalOrderQty":20,
"qualified":null,
"rebalanceLevel":"Portfolio",
"reinvestDividends":true,
"reinvestLongTermGains":false,
"reinvestShortTermGains":false,
"rowVersion":2,
"settlementType":{
"id":2,
"name":"cash"
},
"pendingUnits":2,
"shortTermGain":200,
"stopPrice":2000,
"timeInForce":"Day",
"totalGain":400,
"tradePercentOfAccount":20.08,
"transactionId":null,
"washUnits":20,
"assetClassName":"cash",
"clientDirect":false,
"minimmCashBalance":300,
"repNotes":null,
"representativeName":"orion test",
"isAutoAllocate":null,
"editedBy":"prime@tgi.com",
"editedDate":"2016-11-07T03:34:25.000Z",
"washAmount":200,
"canEdit" : true,
"canExecute" : true,
"shortCodeMessages":AccountNeg;ProductZer,
"tradeApprovalLevel": "Trade Approval 1",
"isTradeable": null,
"vspDate": null,
"vspPrice": null,
"vspInfo": 0
}]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get fee details of block

This API get all fees.

**GET** `https://baseurl/v1/tradeorder/blocks/unallocated/{blockId}/fees`

**Permission:** `Get fees of all the trades with specified BlockId`

```bash
curl -i http://baseurl/v1/tradeorder/blocks/unallocated/10/fees
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | Blocks order Id. |
| accountNumber | String | Account Number of the orders associated with the block. |
| registrationName | String | Registration name of the orders associated with the block. |
| accountType | String | Account Type of the orders associated with the block. |
| orderQty | Number | Order Quantity |
| regulatory | Number | Regulatory Value |
| tax | Number | Tax value |
| localCommission | String | Local commisison |
| exchange | String | Exchange |
| stamp | Date | Stamp |
| levy | Date | Levy value. |
| other | Number | Other value. |
| commission | Sring | Commisison value. |
| allocationId | Number | Allocation id |

```http
HTTP/1.1 200 OK
[
{
"id": 1,
"accountNumber": "sample string 2",
"registrationName": "sample string 3",
"accountType": "sample string 4",
"orderQty": 5.1,
"regulatory": 1.1,
"tax": 1.1,
"localCommission": 1.1,
"exchange": 1.1,
"stamp": 1.1,
"levy": 1.1,
"other": 1.1,
"commission": 1.1,
},
{
"id": 1,
"accountNumber": "sample string 2",
"registrationName": "sample string 3",
"accountType": "sample string 4",
"orderQty": 5.1,
"regulatory": 1.1,
"tax": 1.1,
"localCommission": 1.1,
"exchange": 1.1,
"stamp": 1.1,
"levy": 1.1,
"other": 1.1,
"commission": 1.1,
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get fix logs of block

This API get fix messages.

**GET** `https://baseurl/v1/tradeorder/blocks/unallocated/{blockId}/fixlogs`

**Permission:** `Get fix messages`

```bash
curl -i http://baseurl/v1/tradeorder/blocks/unallocated/1/fixlogs
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | Blocks order log id. |
| fixBlockOrderId | Number | Trade block id |
| msgType | Number | Message type id |
| logType | Number | logType id |
| createdDate | Date | Date of creation of log |
| blockName | String | name of block |
| details_tagId | Number | Fix message id |
| details_fixName | String | name of fix |
| details_value | String | value |
| details_logText | String | Logtext of block |

```http
HTTP/1.1 200 OK
[{
"id": 1,
"fixBlockOrderId": 2,
"msgType": 2,
"logType": 4,
"createdDate": "2017-01-03T00:22:32.8969903-06:00",
"blockName": "sample string 6",
"details": [
{
"tagId": 1,
"fixName": "sample string 2",
"value": "sample string 3"
},
{
"tagId": 1,
"fixName": "sample string 2",
"value": "sample string 3"
}
],
"logText": "sample string 7"
},
{
"id": 1,
"fixBlockOrderId": 2,
"msgType": "sample string 3",
"logType": 4,
"createdDate": "2017-01-03T00:22:32.8969903-06:00",
"blockName": "sample string 6",
"details": [
{
"tagId": 1,
"fixName": "sample string 2",
"value": "sample string 3"
},
{
"tagId": 1,
"fixName": "sample string 2",
"value": "sample string 3"
}
],
"logText": "sample string 7"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Reject Trade Orders

This API set the trade order status as rejected.

**PUT** `https://baseurl/v1/tradeorder/trades/action/setRejected`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/tradeorder/trades/action/setRejected
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| approvalStatusId | number | : pass approvalStatus id in url |
| tradeIds | Number | :List of Trade order ids. |

```json
{
"tradeIds": [
11,
12
]
}
```

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| message | String | Success message. |

```http
HTTP/1.1 200 OK
[11,12]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```


---

# TradeTool-Global Trade


## De-serialize Global Trade

This API De-serialize global trade.

**POST** `https://baseurl/v1/tradetool/globaltrades/action/deserialize`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/tradetool/globaltrades/action/deserialize
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| accountIds | Array | The valid accountIds. |
| portfolioIds | Array | The valid portfolioIds. |
| modelIds | Array | The valid modelIds. |
| isViewOnly | Boolean | Pass true/false (For Enabling or disabling trades) |
| isExcelImport | Boolean | Is excel import. |
| tradeGroupIds | Array | The valid modelIds. |
| security | JSON | Security detail. |
| sellSecurityId | Number | The valid sellSecurityId. |
| buySecurityId | Number | The valid buySecurityId. |
| percent | Number | The percent. |
| notes | String | Notes. |

```json
{
"accountIds": [
87096,
87035,
87036
],
"portfolioIds": [
11217205,
2,
3
],
"modelIds": [
20,
41
],
"tradeGroupIds": [
21,
23
],
"isViewOnly": false,
"isExcelImport": true,
"security": [
{
"sellSecurityId": 43165,
"buySecurityId": 43166,
"percent": 70
},
{
"sellSecurityId": 43167,
"buySecurityId": 43168,
"percent": 300
}
],
"notes": "Hello"
}
```

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| accountList | JSON | Account detail. |
| -id | Number | Account id |
| -name | String | Account name. |
| accountNumber | String | Account number. |
| portfolioList | JSON | Portfolio detail. |
| --id | Number | Portfolio id |
| --name | String | Portfolio name. |
| modelList | JSON | Model detail. |
| ---id | Number | Model id |
| ---name | String | Model name. |
| tradeGroupIds | JSON | Trade Group detail. |
| ----id | Number | Trade Group id |
| ----name | String | Trade Group name. |
| isViewOnly | Boolean | Pass true/false (For Enabling or disabling trades) |
| isExcelImport | Boolean | Is excel import. |
| securityList | JSON | Security detail. |
| sellSecurityId | Number | Sell Security symbol. |
| buySecurityId | Number | Buy Security symbol. |
| percent | Number | The percent. |
| notes | String | Notes. |

```http
HTTP/1.1 201 OK
{
"accountList": [
{
"id": 87035,
"name": "Martin Steve",
"accountNumber": "LA02-ELPMAS"
},
{
"id": 87036,
"name": "Martin Steve",
"accountNumber": "L522-ELPMAS"
},
{
"id": 87096,
"name": "Fallon Nancy",
"accountNumber": "L592-ELPMAS"
}
],
"portfolioList": [
{
"id": 11217205,
"name": "Martin, Steve"
}
],
"modelList": [
{
"id": 20,
"name": "Rebalancer Test model 1"
},
{
"id": 41,
"name": "Aggressive 80/20"
}
],
"tradeList": [
{
"id": 21,
"name": "Accounts Standard query"
},
{
"id": 23,
"name": "Portfolio Advance query"
}
],
"isViewOnly": false,
"isExcelImport": true,
"securityList": [
{
"sellSecuritySymbol": "APA",
"buySecuritySymbol": "GLD Jan 18 2014 155.0 Call",
"percent": 70
},
{
"sellSecuritySymbol": "ODP",
"buySecuritySymbol": "TLT 110122C00093000",
"percent": 300
}
],
"notes": "Hello"
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |
| Bad_Request | When without request data. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```

```http
HTTP/1.1 400 Bad_Request
{
"message": "Bad Request: Verify request data"
}
```


## Generate Global Trade

This API generate global trade.

**POST** `https://baseurl/v1/tradetool/globaltrades/action/generateTrade`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/tradetool/globaltrades/action/generateTrade
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| accountIds | Array | The valid accountIds. |
| portfolioIds | Array | The valid portfolioIds. |
| modelIds | Array | The valid modelIds. |
| isViewOnly | Boolean | Pass true/false (For Enabling or disabling trades) |
| isExcelImport | Boolean | Is excel import. |
| tradeGroupIds | Array | The valid modelIds. |
| sellSecurityId | Number | The valid sellSecurityId. |
| buySecurityId | Number | The valid buySecurityId. |
| percent | Number | The percent. |
| notes | String | Notes. |

```json
{
"accountIds": [
1,
3,
4
],
"portfolioIds": [
1,
2,
3
],
"modelIds": [
442
],
"tradeGroupIds": [
1111,
3333
],
"isViewOnly": true,
"isExcelImport": true,
"security": [
{
"sellSecurityId": 14616,
"buySecurityId": 14612,
"percent": 70
},
{
"sellSecurityId": 14616,
"buySecurityId": 14612,
"percent": 30
}
],
"notes": "Hello"
}
```

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| instanceId | Number | Generate Trade instanceId. |
| tradeAmount | Number | Trade amount. |
| tradeCost | Number | Total trade amount. |
| orderQty | Number | Total Trade Qty. |
| trades | Array | Trade list. |
| -id | Number | Trade id. |
| -tradeAmount | Number | The Trade amount |
| -securityId | Number | Security Id. |
| -actionId | Number | The Trade Action id. |
| -orderQty | Number | Order Qty |
| -tradeCost | Number | Trade Cost. |
| -isEnabled | Boolean | The trade status |
| -holdUntil | Date | Hold Until date |
| -orderPercent | Number | The orderPercent |
| -price | Number | Security Price |
| -transactionFee | Number | TransactionFee |
| -redemptionFee | Number | Redemption Fee. |
| -cashValuePostTrade | Number | Cash Value Post Trade. |
| -securitySetIds | Array | The security Set Ids |
| -isAssigned | Boolean | The security i sAssigned |
| -messages | Array | The Trade messages if any. |
| -taxLots | Array | Taxlot info. |
| --id | Number | The taxlot id |
| --rank | Number | The taxlot rank. |
| --taxLotQty | Number | The taxlot Qty. |
| --taxLotAmount | Number | The taxlot amount. |
| --taxlotTypeId | Number | The taxlot Type Id(1 for Original 2 for dummy taxlot). |
| issues | Array | If any issues. |

```http
HTTP/1.1 201 OK
{
"instanceId": 1302,
"tradeAmount": 2008260.3,
"tradeCost": 1044480.55,
"orderQty": 0,
"trades": [
{
"id": 3825,
"tradeAmount": 0,
"tradeCost": 0,
"orderQty": 0,
"actionId": 2,
"accountId": 82700,
"accountName": "Lindahl Carl",
"securityId": 279071,
"securityName": "JP Morgan Intrepid European A",
"cashValuePostTrade": 25.23,
"isEnabled": null,
"holdUntil": null,
"orderPercent": null,
"redemptionFee": 0,
"transactionFee": 0,
"price"2
"securitySetIds": [
6,
5
],
"isAssigned": true,
"messages": [
{
"id": 51,
"severity": "Error",
"shortCode": "ShortTermLoss",
"message": "Do not trade due to short term loss"
},
{
"id": 14,
"severity": "Warning",
"shortCode": "Possible Duplicate",
"message": "Possible duplicate order - id 3338 created Wed Feb 08 2017 00:01:45 GMT+0530 (India Standard Time)"
}
],
"taxLots": []
},
{
"id": 8113,
"tradeAmount": 0,
"tradeCost": 0,
"orderQty": 0,
"actionId": 2,
"accountId": 82700,
"accountName": "Lindahl Carl",
"securityId": 279071,
"securityName": "JP Morgan Intrepid European A",
"cashValuePostTrade": 25.23,
"isEnabled": null,
"holdUntil": null,
"orderPercent": 3,
"redemptionFee": 0,
"transactionCost": 0,
"securitySetIds": [],
"isAssigned": false,
"price"2
"messages": [
{
"id": 46,
"severity": "Error",
"shortCode": "TransactionCostLimit",
"message": "Transaction cost is more than the limit set"
}
],
"taxLots": [
{
"id": 309090,
"rank": 1,
"taxLotQty": 99,
"taxLotAmount": 6090.48,
"taxlotTypeId": 1
}
]
}
],
"issues": []
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |
| Bad_Request | When without request data. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```

```http
HTTP/1.1 400 Bad_Request
{
"message": "Bad Request: Verify request data"
}
```


---

# TradeTool-Mass liquidation Tool


## Generate liquidate Trade

This API generate liquidate trade.

**POST** `https://baseurl/v1/tradetool/liquidate/generateTrade`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/tradetool/liquidate/generateTrade
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| JWTToken | String | The JWT auth token. |

```json
{
"Authorization": Session SESSION_TOKEN,
"Content-Type": application/json
}
```

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| portfolioIds | Array | The valid portfolioIds. |
| accountIds | Array | The valid accountIds. |
| tradeGroupIds | Array | The valid tradeGroupIds. |
| tradeToolSelection | Number | The valid tradeToolSelection. |
| reason | String | Reason. |
| isExcelImport | Boolean | Is excel import. |
| isViewOnly | Boolean | Pass true/false (For Enabling or disabling trades) |
| sleeveAccountMethod | String | The valid sleeve Account Method. |

```json
{
"portfolioIds": [
111,
1112
],
"accountIds": null,
"tradeGroupIds": null,
"tradeToolSelection": 2,
"reason": "example",
"isExcelImport": false,
"isViewOnly": false,
"sleeveAccountMethod": "example"
}
```

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| message | String | The Trade messages if any. |
| instanceId | Number | Generate Trade instanceId. |

```http
HTTP/1.1 201 OK
{
"message": "Mass Liquidation request has been submitted and progress notifications will be sent.",
"instanceId": 1111
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |
| Bad_Request | When without request data. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```

```http
HTTP/1.1 400 Bad_Request
{
"message": "Bad Request: Verify request data"
}
```


---

# TradeTool-Ticker Swap


## De-serialize Ticker Swap

This API De-serialize Ticker Swap.

**POST** `https://baseurl/v1/tradetool/tickerswap/action/deserialize`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/tradetool/tickerswap/action/deserialize
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| accountIds | Array | The valid accountIds. |
| portfolioIds | Array | The valid portfolioIds. |
| modelIds | Array | The valid modelIds. |
| isViewOnly | Boolean | Pass true/false (For Enabling or disabling trades) |
| isExcelImport | Boolean | Is excel import. |
| tradeGroupIds | Array | The valid modelIds. |
| security | JSON | Security detail. |
| sellSecurityId | Number | The valid sellSecurityId. |
| buySecurityId | Number | The valid buySecurityId. |
| percent | Number | The percent. |
| swapOptions | JSON | Swap Options. |
| term | Number | Term |
| gainLoss | Number | Gain Loss. |
| value | Number | Value. |
| valueType | String | Value Type. |
| includeTaxDeferredExempt | String | Include Tax Deferred Exempt Accounts Accounts |
| reason | String | Trading Notes |

```json
{
"accountIds": [
87096,
87035,
87036
],
"portfolioIds": [
11217205,
2,
3
],
"modelIds": [
20,
41
],
"tradeGroupIds": [
21,
23
],
"isViewOnly": false,
"isExcelImport": true,
"security": [
{
"sellSecurityId": 43165,
"buySecurityId": 43166,
"percent": 70
},
{
"sellSecurityId": 43167,
"buySecurityId": 43168,
"percent": 300
}
],
"swapOptions": {
"term": 1,
"gainLoss": 1,
"value": 50,
"valueType": 0,
"includeTaxDeferredExemptAccounts": false,
"reason": "Booking Profit and investing in under performed securities"
}
}
```

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| accountList | JSON | Account detail. |
| -id | Number | Account id |
| -name | String | Account name. |
| accountNumber | String | Account number. |
| portfolioList | JSON | Portfolio detail. |
| --id | Number | Portfolio id |
| --name | String | Portfolio name. |
| modelList | JSON | Model detail. |
| ---id | Number | Model id |
| ---name | String | Model name. |
| tradeGropuList | JSON | Trade Group detail. |
| ----id | Number | Trade Group id |
| ----name | String | Trade Group name. |
| isViewOnly | Boolean | Pass true/false (For Enabling or disabling trades) |
| isExcelImport | Boolean | Is excel import. |
| tradeGroupIds | Array | The valid modelIds. |
| tickerList | JSON | Ticker detail. |
| sellSecuritySymbol | Number | Sell Security Symbol. |
| buySecuritySymbol | Number | Buy Security symbol. |
| percent | Number | The percent. |
| swapOptions | JSON | Swap Options. |
| term | Number | Term |
| gainLoss | Number | Gain Loss. |
| value | Number | Value. |
| valueType | String | Value Type. |
| includeTaxDeferredExempt | String | Include Tax Deferred Exempt Accounts. Accounts |
| reason | String | Trading Notes. |

```http
HTTP/1.1 201 OK
{
"accountList": [
{
"id": 87035,
"name": "Martin Steve",
"accountNumber": "LA02-ELPMAS"
},
{
"id": 87036,
"name": "Martin Steve",
"accountNumber": "L522-ELPMAS"
},
{
"id": 87096,
"name": "Fallon Nancy",
"accountNumber": "L592-ELPMAS"
}
],
"portfolioList": [
{
"id": 11217205,
"name": "Martin, Steve"
}
],
"modelList": [
{
"id": 20,
"name": "Rebalancer Test model 1"
},
{
"id": 41,
"name": "Aggressive 80/20"
}
],
"tradeGropuList": [
{
"id": 21,
"name": "Accounts Standard query"
},
{
"id": 23,
"name": "Portfolio Advance query"
}
],
"isViewOnly": false,
"isExcelImport": true,
"tickerList": [
{
"sellSecuritySymbol": "APA",
"buySecuritySymbol": "GLD Jan 18 2014 155.0 Call",
"percent": 70
},
{
"sellSecuritySymbol": "ODP",
"buySecuritySymbol": "TLT 110122C00093000",
"percent": 300
}
],
"swapOptions": {
"term": 1,
"gainLoss": 1,
"valueType": 0,
"value": 50,
"includeTaxDeferredExemptAccounts": false,
"reason": "Booking Profit and investing in under performed securities"
}
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |
| Bad_Request | When without request data. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```

```http
HTTP/1.1 400 Bad_Request
{
"message": "Bad Request: Verify request data"
}
```


---

# TradeTool-TradeToTarget


## Generate trade

This API generate trade to target.

**POST** `https://baseurl/v1/tradetool/tradetotarget/action/generateTrade`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/tradetool/tradetotarget/action/generateTrade
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| accountIds | Array | Account Ids for Trades . |
| modelIds | Array | Model Ids for Trades . |
| tradeGroupIds | Array | Trade Group Ids . |
| isViewOnly | Boolean | Pass true/false (For Enabling or disabling trades). |
| isExcelImport | Boolean | Is excel import. |
| security | JSON | Security . |
| preferences | JSON | Preferences . |

```json
{
"accountIds": [1],
"modelIds": [],,
"tradeGroupIds": [],
"isViewOnly":true,
"isExcelImport":true,
"security":{
"securityId":14616,
"targetPercent":12,
"side":1,
"isFullTrade":false,
"modelTypeId":null,
"reason":"To buy"
},
"preferences":{
"minimumTradePercent":33,
"minimumTradeDollar":35,
"allowWashSalesId":88,
"allowShortTermGainsId":89
}
}
```

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| instanceId | Number | Generate Trade instanceId. |
| tradeAmount | Number | Trade amount. |
| tradeCost | Number | Total trade amount. |
| orderQty | Number | Total Trade Qty. |
| trades | Array | Trade list. |
| -id | Number | Trade id. |
| -tradeAmount | Number | The Trade amount |
| -securityId | Number | Security Id. |
| -actionId | Number | The Trade Action id. |
| -orderQty | Number | Order Qty |
| -tradeCost | Number | Trade Transaction fee. |
| -isEnabled | Boolean | The trade status |
| -holdUntil | Date | Hold Until date |
| -orderPercent | Number | The orderPercent |
| -transactionFee | Number | TransactionFee |
| -redemptionFee | Number | Redemption Fee. |
| -cashValuePostTrade | Number | Cash Value Post Trade. |
| -securitySetIds | Array | The security Set Ids |
| -isAssigned | Boolean | The security i sAssigned |
| -messages | Array | The Trade messages if any. |
| -taxLots | Array | Taxlot info. |
| --id | Number | The taxlot id |
| --rank | Number | The taxlot rank. |
| --taxLotQty | Number | The taxlot Qty. |
| --taxLotAmount | Number | The taxlot amount. |
| --taxlotTypeId | Number | The taxlot Type Id(1 for Original 2 for dummy taxlot). |
| issues | Array | If any issues. |

```http
HTTP/1.1 201 OK
{
"instanceId": 1302,
"tradeAmount": 2008260.3,
"tradeCost": 1044480.55,
"orderQty": 0,
"trades": [
{
"id": 3825,
"tradeAmount": 0,
"tradeCost": 0,
"orderQty": 0,
"actionId": 2,
"accountId": 82700,
"accountName": "Lindahl Carl",
"securityId": 279071,
"securityName": "JP Morgan Intrepid European A",
"cashValuePostTrade": 25.23,
"isEnabled": null,
"holdUntil": null,
"orderPercent": null,
"redemptionFee": 0,
"transactionCost": 0,
"securitySetIds": [
6,
5
],
"isAssigned": true,
"messages": [
{
"id": 51,
"severity": "Error",
"shortCode": "ShortTermLoss",
"message": "Do not trade due to short term loss"
},
{
"id": 14,
"severity": "Warning",
"shortCode": "Possible Duplicate",
"message": "Possible duplicate order - id 3338 created Wed Feb 08 2017 00:01:45 GMT+0530 (India Standard Time)"
}
],
"taxLots": []
},
{
"id": 8113,
"tradeAmount": 0,
"tradeCost": 0,
"orderQty": 0,
"actionId": 2,
"accountId": 82700,
"accountName": "Lindahl Carl",
"securityId": 279071,
"securityName": "JP Morgan Intrepid European A",
"cashValuePostTrade": 25.23,
"isEnabled": null,
"holdUntil": null,
"orderPercent": 3,
"redemptionFee": 0,
"transactionCost": 0,
"securitySetIds": [],
"isAssigned": false,
"messages": [
{
"id": 46,
"severity": "Error",
"shortCode": "TransactionCostLimit",
"message": "Transaction cost is more than the limit set"
}
],
"taxLots": [
{
"id": 309090,
"rank": 1,
"taxLotQty": 99,
"taxLotAmount": 6090.48,
"taxlotTypeId": 1
}
]
}
],
"issues": []
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |
| Bad_Request | When without request data. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```

```http
HTTP/1.1 400 Bad_Request
{
"message": "Bad Request: Verify request data"
}
```


## Get All Portfolios for given Model with account count

This API gets portfolio's for models with account count.

**GET** `https://baseurl/v1/modeling/models/:id/portfolios?includeaccountcount=true`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/modeling/models/:id/portfolios?includeaccountcount=true
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The PortfolioId |
| name | String | Name of Portfolio |
| substitutedModelId | Number | Substituted model id |
| status | String | Status of model-portfolio relation |
| accountCount | Number | Number of account with portfolio |

```http
HTTP/1.1 200 OK
[
{
"id": 11211238,
"name": "Demo Portfolio 1212",
"substitutedModelId": null,
"status": "APPROVED",
"accountCount": 2
},
{
"id": 11211241,
"name": "P1001",
"substitutedModelId": null,
"status": "APPROVED",
"accountCount": 0
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get allow short term gains list

This API get allow short term gains list

**GET** `https://baseurl/v1/tradetool/allowshorttermgains`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/tradetool/allowshorttermgains
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | Theid |
| name | String | The allow short term gains name |
| value | String | The value of allow short term gains |

```http
HTTP/1.1 200 OK
[
{
"id": 1,
"name": "Allow",
"value": "Allow"
},
{
"id": 2,
"name": "Full Position Disallow",
"value": "Full Position Disallow"
},
{
"id": 3,
"name": "TaxLot Disallow",
"value": "TaxLot Disallow"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |
| Bad_Request | When without request data. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```

```http
HTTP/1.1 400 Bad_Request
{
"message": "Bad Request: Verify request data"
}
```


## Get allow wash sales list

This API get allow wash sales list

**GET** `https://baseurl/v1/tradetool/allowwashsales`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/tradetool/allowwashsales
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | Theid |
| name | String | The allow wash sales name |
| value | boolean | The allow wash sales value |

```http
HTTP/1.1 200 OK
[
{
"id": 1,
"name": "Yes",
"value": true
},
{
"id": 2,
"name": "No",
"value": false
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |
| Bad_Request | When without request data. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```

```http
HTTP/1.1 400 Bad_Request
{
"message": "Bad Request: Verify request data"
}
```


## Get trade side list

This API get trade side list

**GET** `https://baseurl/v1/tradetool/tradeside`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/tradetool/tradeside
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | Theid |
| name | String | The trade side name |

```http
HTTP/1.1 200 OK
[
{
"id": 1,
"name": "Buy"
},
{
"id": 2,
"name": "Sell"
},
{
"id": 3,
"name": "Buy/Sell"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |
| Bad_Request | When without request data. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```

```http
HTTP/1.1 400 Bad_Request
{
"message": "Bad Request: Verify request data"
}
```


---

# TradeTool-Trade to Target


## De-serialize Trade to Target

This API De-Serialize Trade to Target.

**POST** `https://baseurl/v1/tradetool/tradetotarget/action/deserialize`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/tradetool/tradetotarget/action/deserialize
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| accountIds | Array | The valid accountIds. |
| modelIds | Array | The valid modelIds. |
| isViewOnly | Boolean | Pass true/false (For Enabling or disabling trades) |
| isExcelImport | Boolean | Is excel import. |
| security | JSON | Security Detail. |
| securityId | Number | Security Id. |
| targetPercent | Number | Target Percent. |
| side | String | Side Detail. |
| isFullTrade | Boolean | Is Full Trade. |
| reason | String | Reason. |
| preferences | JSON | Preferences Detail. |
| minimumTradePercent | Number | Minimum Trade Percent. |
| minimumTradeDollar | Number | Minimum Trade Dollar. |
| allowWashSalesId | Number | Allow Wash Sales Id. |
| allowShortTermGainsId | Number | Allow Short Term Gains Id. |

```json
{
"accountIds": [
87096,
87035,
87036
],
"modelIds": [
20,
41
],
"isViewOnly": false,
"isExcelImport": true,
"security": {
"securityId": 44162,
"targetPercent": 12,
"side": 1,
"isFullTrade": false,
"modelTypeId": 1,
"reason": "To buy"
},
"preferences": {
"minimumTradePercent": 33,
"minimumTradeDollar": 35,
"allowWashSalesId": 88,
"allowShortTermGainsId": 89
}
}
```

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| accountList | JSON | Account detail. |
| -id | Number | Account id |
| -name | String | Account name. |
| accountNumber | String | Account number. |
| modelList | JSON | Model detail. |
| ---id | Number | Model id |
| isViewOnly | Boolean | Pass true/false (For Enabling or disabling trades) |
| isExcelImport | Boolean | Is excel import. |
| tradeGroupIds | Array | The valid modelIds. |
| securityDetail | JSON | Security detail. |
| id | Number | Security id. |
| name | Number | Security name. |
| symbol | Number | Security symbol. |
| targetPercent | Number | Target Percent. |
| side | String | Side Detail. |
| isFullTrade | Boolean | Is Full Trade. |
| reason | String | Reason. |
| preferences | JSON | Preferences Detail. |
| minimumTradePercent | Number | Minimum Trade Percent. |
| minimumTradeDollar | Number | Minimum Trade Dollar. |
| allowWashSalesId | Number | Allow Wash Sales Id. |
| allowShortTermGainsId | Number | Allow Short Term Gains Id. |

```http
HTTP/1.1 201 OK
{
"accountList": [
{
"id": 87035,
"name": "Martin Steve",
"accountNumber": "LA02-ELPMAS"
},
{
"id": 87036,
"name": "Martin Steve",
"accountNumber": "L522-ELPMAS"
},
{
"id": 87096,
"name": "Fallon Nancy",
"accountNumber": "L592-ELPMAS"
}
],
"modelList": [
{
"id": 20,
"name": "Rebalancer Test model 1"
},
{
"id": 41,
"name": "Aggressive 80/20"
}
],
"isViewOnly": false,
"isExcelImport": true,
"securityDetail": {
"id": 44162,
"name": "Custodial Cash",
"symbol": "CUSTODIAL_CASH",
"targetPercent": 12,
"side": 1,
"isFullTrade": false,
"modelTypeId": 1,
"reason": "To buy"
},
"preferencesDetail": {
"minimumTradePercent": 33,
"minimumTradeDollar": 35,
"allowWashSalesId": 88,
"allowShortTermGainsId": 89
}
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |
| Bad_Request | When without request data. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```

```http
HTTP/1.1 400 Bad_Request
{
"message": "Bad Request: Verify request data"
}
```


---

# TradeTool


## Cash Needs Trade Tool

This API will rebalance the CashNeeds Portfolios.

**POST** `https://baseurl/v1/tradetool/cashneeds/action/generatetrade`

**Permission:** `appuser`

```bash
curl -ihttp://baseurl/v1/tradetool/cashneeds/action/generatetrade
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| API | Number | will return trade instanceId against request and list of portfolio id which were fail to generate trade. |

```http
HTTP/1.1 200 OK
{
"issues": [{
"portfolioId": 3,
"instanceId": 1105,
"numberOfTradesGenerated": null,
"rebalancerLogFilePath": "https://orion-eclipse-lambda-audit-file.s3.amazonaws.com/QA/FIRM_14/INS_1105/FRM14_INS1105_POR3_TS1487588693198.txt",
"message": "[REBAL] :No Primary Team Assigned to this portfolio "
}, {
"portfolioId": 275,
"message": "Portfolio does not exist"
}, {
"portfolioId": 9,
"message": "Portfolio does not exist"
}],
"success": [],
"instanceId": 1105
}
```

```http
HTTP/1.1 200 OK
{
"instanceId": 43,
"issues": [],
"success": [
{
"instanceId": 43,
"numberOfTradesGenerated": 2,
"rebalancerLogFilePath": "https://orion-eclipse-lambda-audit-file.s3.amazonaws.com/DEV/FIRM_21/INS_43/FRM21_INS43_POR105_TS1486107217986.txt",
"message": "[REBAL] : Rebalancer ran successfully."
}
]
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |
| Bad_Request | When without request data. |

```json
HTTP / 1.1 401 Unauthorized {
"message": "Invalid Authorization Header"
}
```

```json
HTTP / 1.1 400 Bad_Request {
"message": "Bad Request: Verify request data"
}
```


## Generate Auto rebalancer Trade

This api will accept the auto rebalance type to generate trades.

**POST** `https://baseurl/v1/tradetool/rebalancer/action/autoRebalance`

**Permission:** `appuser`

```bash
curl -ihttp://baseurl/v1/tradetool/rebalancer/action/autoRebalance
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

```json
{
"type": "Community Model",
"id": 3
}
```

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| API | String | will return success message. |

```json
{
"message": "Auto Rebalance request has been submitted and progress notifications will be sent."
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |

```json
HTTP / 1.1 401 Unauthorized {
"message": "Invalid Authorization Header"
}
```


## Generate Raise Cash Trade

This api will generate raise cash trades.

**POST** `https://baseurl/v1/tradetool/raisecash/action/generatetrade`

**Permission:** `appuser`

```bash
curl -ihttp://baseurl/v1/tradetool/raisecash/action/generatetrade
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

```json
{
"selectedMethodId": -1,
"raiseFullAmount": null,
"filterType": "Accounts",
"accounts": [
{
"id": 103348,
"amount": 199
},
{
"id": 103349,
"amount": 299
}
],
"sleevedPortfolios": null,
"emphasiedAccounts": null,
"reason": null,
"sleeveAccountMethod": null,
"isViewOnly": false,
"isExcelImport": false,
"isSetAsideCash": false,
"journalAllExcessCashNeeded": false,
"runFromTactical": false,
"sleeveContributionOrDistributionMethod": null,
"liquidateEquivalents": false,
"liquidateGroupEquivalents": false,
"tradeTolerancePercent": null,
"rebalanceTarget": null,
"maxShortTermGainAmountType": "$",
"maxShortTermGainAmount": null,
"maxGainAmount": null,
"maxGainAmountType": "$",
"maximumCapitalGainsAllowed": null,
"includeYTDGainLoss": null,
"raiseCashIncludeTargetCash": null,
"tradeToolSelection": 2,
"tradeInstanceSubType": 12,
"tradeInstanceType": 2,
"liquidateUnassignedSecurities": true
}
```

```json
{
"selectedMethodId": -1,
"raiseFullAmount": null,
"filterType": "SleevePortfolio",
"accounts": null,
"sleevedPortfolios": [
{
"id": 45954,
"amount": 111
},
{
"id": 45974,
"amount": 222
}
],
"emphasiedAccounts": null,
"reason": null,
"sleeveAccountMethod": "IndividualSleeves",
"isViewOnly": false,
"isExcelImport": false,
"isSetAsideCash": false,
"journalAllExcessCashNeeded": false,
"runFromTactical": false,
"sleeveContributionOrDistributionMethod": null,
"liquidateEquivalents": false,
"liquidateGroupEquivalents": false,
"tradeTolerancePercent": null,
"rebalanceTarget": null,
"maxGainAmount": null,
"maxGainAmountType": "$",
"maxShortTermGainAmountType": "$",
"maxShortTermGainAmount": null,
"maximumCapitalGainsAllowed": null,
"includeYTDGainLoss": null,
"raiseCashIncludeTargetCash": null,
"tradeToolSelection": 5,
"tradeInstanceSubType": 12,
"tradeInstanceType": 2,
"liquidateUnassignedSecurities": true
}
```

```json
{
"selectedMethodId": 69,
"raiseFullAmount": null,
"filterType": "Accounts",
"accounts": null,
"sleevedPortfolios": null,
"emphasiedAccounts": [
{
"id": 103384,
"node": {
"level": 1,
"id": 24635,
"amount": 111
}
},
{
"id": 103385,
"node": {
"level": 1,
"id": 24635,
"amount": 222
}
}
],
"reason": null,
"sleeveAccountMethod": null,
"isViewOnly": false,
"isExcelImport": false,
"isSetAsideCash": false,
"journalAllExcessCashNeeded": false,
"runFromTactical": false,
"sleeveContributionOrDistributionMethod": null,
"liquidateEquivalents": false,
"liquidateGroupEquivalents": false,
"tradeTolerancePercent": null,
"rebalanceTarget": null,
"maxShortTermGainAmountType": "$",
"maxShortTermGainAmount": null,
"maxGainAmount": null,
"maxGainAmountType": "$",
"maximumCapitalGainsAllowed": null,
"includeYTDGainLoss": null,
"raiseCashIncludeTargetCash": null,
"tradeToolSelection": 2,
"tradeInstanceSubType": 12,
"tradeInstanceType": 2,
"liquidateUnassignedSecurities": true
}
```

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| API | String | will return success message. |

```http
HTTP/1.1 200 OK
{
"instanceId": 9279,
"tradeAmount": 0,
"tradeCost": 0,
"orderQty": 0,
"trades": [
{
"id": 1280299,
"tradeAmount": 0,
"tradeCost": 0,
"orderQty": 0,
"actionId": 2,
"accountId": 103348,
"accountName": "Testing 100, Trade Ex",
"securityId": 38,
"securityName": "Custodial Cash",
"cashValuePostTrade": 200000.000003,
"isEnabled": 0,
"holdUntil": null,
"orderPercent": null,
"price": 1,
"redemptionFee": 0,
"transactionFee": 0,
"securitySymbol": "CUSTODIAL_CASH",
"partialShares": 0,
"isFixedIncomeTrade": 0,
"securitySetIds": [
1,
12,
15,
25
],
"isAssigned": true,
"primarySecurityIds": [
38,
0,
18699
],
"messages": [
{
"id": 3,
"severity": "Warning",
"shortCode": "Cash",
"arguments": null,
"message": "Cash has an overage for the remaining sell amount, no trade needed."
}
],
"taxLots": []
},
{
"id": 1280298,
"tradeAmount": 0,
"tradeCost": 0,
"orderQty": 0,
"actionId": 2,
"accountId": 103349,
"accountName": "Testing 101, Trade Ex",
"securityId": 38,
"securityName": "Custodial Cash",
"cashValuePostTrade": 200000.000003,
"isEnabled": 0,
"holdUntil": null,
"orderPercent": null,
"price": 1,
"redemptionFee": 0,
"transactionFee": 0,
"securitySymbol": "CUSTODIAL_CASH",
"partialShares": 0,
"isFixedIncomeTrade": 0,
"securitySetIds": [
1,
12,
15,
25
],
"isAssigned": true,
"primarySecurityIds": [
38,
0,
18699
],
"messages": [
{
"id": 3,
"severity": "Warning",
"shortCode": "Cash",
"arguments": null,
"message": "Cash has an overage for the remaining sell amount, no trade needed."
}
],
"taxLots": []
}
],
"issues": []
}
```

```json
{
"message": "Raise Cash request has been submitted and progress notifications will be sent.",
"instanceId": 9273
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```


## Generate rebalancer Trade

This api will accept set of portfolios/sleeve Accounts/Models/Portfolio Trade group ids to generate trades.

**POST** `https://baseurl/v1/tradetool/rebalancer/action/generatetrade`

**Permission:** `appuser`

```bash
curl -ihttp://baseurl/v1/tradetool/rebalancer/action/generatetrade
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

```json
{
"portfolioIds": < Null / List of portfolios to rebalance > ,
"modelIds": < Null / list of models to rebalance > ,
"sleeveIds": < Null / list of sleeve 's ids>,
"portfolioTradeGroupIds": < Portfolio 's Trade group ids >,
"minimumTradeAmount": {
"type": < '$' / '%' > ,
"amount": < amount to rebalance >
},
"allowWashSale": < null / Value from API(true / false / 0 / 1) > ,
"allowShortTermGain": < null/allow/full position disallow/taxlot disallow >,
,
"priorityRanking": < null / {
"id": 38,
"name": "OUT_OF_TOLERANCE",
"order": 1
},
{
"id": 39,
"name": "LOCATION_OPTIMIZATION",
"order": 2
} > ,
"rounding": < Boolean(false
for None) and(true
for Lowest Price) true / false / 1 / 0 > ,
"calculateAtRegistrationLevel": < Boolean(true / false / 1 / 0) > ,
"isViewOnly": true/false| optional,
"reason": "Generate Spend cash",
"isExcelImport": true/false,
"tacticalRebalanceDoNotSellUnAssignedSecurities": <null/ Boolean(true / false) >,
"tacticalRebalanceDoNotRebalanceCash": <null/ Boolean(true / false),
"tacticalRebalanceCashProtection": "Protect Full Account Target",
"tacticalRebalanceSecurities": [
"A",
"AAPL",
"IBM"
],
"modelTypeIds": [
89,
45,
32
]
}
OR
{
"minimumTradeAmount": {
"type": "$",
"amount": null
},
"portfolioIds": [
103,
3
],
"calculateAtRegistrationLevel": false,
"allowWashSale": null,
"allowShortTermGain": null,
"rounding": true,
"priorityRanking": null,
"isExcelImport": true/false
}
```

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| API | String | will return success message. |

```json
{
"portfolios": [
{
"id": "3",
"response": {
"success": false,
"message": "[REBAL] :No Primary Team Assigned to this portfolio ",
"data": "https://orion-eclipse-lambda-audit-file.s3.amazonaws.com/QA/FIRM_14/INS_1090/FRM14_INS1090_POR3_TS1487587274940.txt",
"portfolioId": 3,
"tradeInfo": null,
"firmId": 14,
"tradeInstanceId": 1090,
"rebalancerLogFilePath": "https://orion-eclipse-lambda-audit-file.s3.amazonaws.com/QA/FIRM_14/INS_1090/FRM14_INS1090_POR3_TS1487587274940.txt",
"accountId": null,
"modelDetailId": null
},
"status": 500
},
{
"id": "103",
"response": {
"success": false,
"message": "[REBAL] :No Primary Team Assigned to this portfolio ",
"data": "https://orion-eclipse-lambda-audit-file.s3.amazonaws.com/QA/FIRM_14/INS_1090/FRM14_INS1090_POR103_TS1487587274925.txt",
"portfolioId": 103,
"tradeInfo": null,
"firmId": 14,
"tradeInstanceId": 1090,
"rebalancerLogFilePath": "https://orion-eclipse-lambda-audit-file.s3.amazonaws.com/QA/FIRM_14/INS_1090/FRM14_INS1090_POR103_TS1487587274925.txt",
"accountId": null,
"modelDetailId": null
},
"status": 500
}
],
"models": [],
"instanceId": 1090
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |

```json
HTTP / 1.1 401 Unauthorized {
"message": "Invalid Authorization Header"
}
```


## Generate Spend Cash Trade

This api will accept set of portfolios to generate spend cash trade.

**POST** `https://baseurl/v1/tradetool/spendcash/action/generatetrade`

**Permission:** `appuser`

```bash
curl -ihttp://baseurl/v1/tradetool/spendcash/action/generatetrade
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

```json
{
"message": "Invalid Authorization Header"
}
```

```json
{
"selectedMethodId": 44,
"spendFullAmount": true,
"filterType": "SleevePortfolio",
"accounts": null,
"sleevedPortfolios": [
{
"id": 106,
"amount": 121
},
{
"id": 40,
"amount": 222
}
],
"emphasiedAccounts": null,
"reason": null,
"isExcelImport": true/false
}
```

```json
{
"selectedMethodId": 43,
"spendFullAmount": true,
"filterType": ("Accounts" / "TradeGroup"),
"accounts": null,
"sleevedPortfolios": null,
"emphasiedAccounts": [
{
"id": 84505,
"node": {
"level": 123,
"id": 12,
"amount": 100
}
},
{
"id": 84506,
"node": {
"level": 123,
"id": 16,
"amount": 100
}
}
],
"reason": null,
"isExcelImport": true/false
}
```

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| API | String | will return success message. |

```http
HTTP/1.1 200 OK
{
"issues": [
{
"portfolioId": 80,
"instanceId": 1106,
"numberOfTradesGenerated": null,
"rebalancerLogFilePath": "https://orion-eclipse-lambda-audit-file.s3.amazonaws.com/QA/FIRM_14/INS_1106/FRM14_INS1106_POR80_TS1487588823939.txt",
"message": "[REBAL] :No Primary Team Assigned to this portfolio "
},
{
"portfolioId": 39,
"instanceId": 1106,
"numberOfTradesGenerated": null,
"rebalancerLogFilePath": "https://orion-eclipse-lambda-audit-file.s3.amazonaws.com/QA/FIRM_14/INS_1106/FRM14_INS1106_POR39_TS1487588824879.txt",
"message": "[REBAL] :No Primary Team Assigned to this portfolio "
}
],
"success": [],
"instanceId": 1106
}
```

```json
{
"issues": [],
"success": [
{
"instanceId": 2178,
"numberOfTradesGenerated": 1,
"rebalancerLogFilePath": "https://orion-eclipse-lambda-audit-file.s3.amazonaws.com/DEV/FIRM_11/INS_2178/FRM11_INS2178_POR539_TS1485945244908.txt",
"message": "[REBAL] : Rebalancer ran successfully."
}
],
"instanceId": 2178
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |

```json
HTTP / 1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```


## Generate Trade Instance Id

This API will retrun/generate new instance id for requested application id.

**POST** `https://baseurl/v1/tradetool/tradeInstance/action/generateinstance`

**Permission:** `appuser`

```bash
curl -ihttp://baseurl/v1/tradetool/tradeInstance/action/generateinstance
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

```json
{
"appId": 7,
"reason": "Testing purpose."
}
```

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| API | Number | will return trade instanceId against request. |

```json
{
"tradeInstanceId": 35
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |
| Bad_Request | When without request data. |
| Not | Found When App id not exist. |

```json
HTTP / 1.1 401 Unauthorized {
"message": "Invalid Authorization Header"
}
```

```json
HTTP / 1.1 400 Bad_Request {
"message": "Bad Request: Verify request data"
}
```

```json
HTTP / 1.1 404 Not Found {
"message": "Data not found"
}
```


## Get priority rankings lists

This api will provide a list of priorityrankings.

**GET** `https://baseurl/v1/tradetool/priorityrankings`

**Permission:** `appuser`

```bash
curl -ihttp://baseurl/v1/tradetool/priorityrankings
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | Theid |
| name | String | The priority ranking name |
| order | Number | The order of priority ranking |

```json
[
{
"id": 1,
"name": "Location Optimization",
"order": 1
},
{
"id": 2,
"name": "Out Of Tolerance",
"order": 2
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |

```json
HTTP / 1.1 401 Unauthorized {
"message": "Invalid Authorization Header"
}
```


## Get Raise Cash Trade Methods

This api will provide a list of available Raise Cash calculation method and on selected method.

**GET** `https://baseurl/v1/tradetool/raisecash/calculation_methods`

**Permission:** `appuser`

```bash
curl -ihttp://baseurl/v1/tradetool/raisecash/calculation_methods
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| methods | List | List of raise cash methods. |
| selectedMethodId | Number | Id of selected raise cash methods. |

```json
[
{
"id": -1,
"name": "Use Default (Selected by Default)"
},
{
"id": 66,
"name": "Pro-Rata"
},
{
"id": 67,
"name": "Sell Rebalance"
},
{
"id": 68,
"name": "Sell Rebalance Oversell"
},
{
"id": 69,
"name": "Sell Rebalance with Emphasis"
},
{
"id": 70,
"name": "Sell with full rebalance"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |

```json
HTTP / 1.1 401 Unauthorized {
'message': 'Invalid Authorization Header'
}
```


## Get security account count.

This API get security account count.

**POST** `https://baseurl/v1/security/securities/{:id}/count`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/security/securities/6480/count
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| count | Number | Security account count. |

```http
HTTP/1.1 200 OK
{
"count": 1
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```


## Get Spend Cash Trade Methods

This api will provide a list of available Spend Cash calculation method and on selected method.

**GET** `https://baseurl/v1/tradetool/spendcash/calculation_methods`

**Permission:** `appuser`

```bash
curl -ihttp://baseurl/v1/tradetool/spendcash/calculation_methods
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| methods | List | List of spend cash methods. |
| selectedMethodId | Number | Id of selected Sepend cash methods. |

```json
[
{
"id": -1,
"name": "Use Default (Selected by Default)"
},
{
"id": 40,
"name": "Pro-Rata"
},
{
"id": 41,
"name": "Buy Rebalance"
},
{
"id": 42,
"name": "Buy Rebalance OverBuy"
},
{
"id": 43,
"name": "Buy Rebalance with Emphasis"
},
{
"id": 44,
"name": "Buy with full rebalance"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |

```json
HTTP / 1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```


## GetTactical Rebalance Cash Protection lists

This api will provide a list of Tactical Rebalance Cash Protection options.

**GET** `https://baseurl/v1/tradetool/tacticalRebalanceCashProtection`

**Permission:** `appuser`

```bash
curl -ihttp://baseurl/v1/tradetool/tacticalRebalanceCashProtection
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | Theid |
| name | String | The Tactical Rebalance Cash Protection name |
| order | Number | The order of priority ranking |

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |

```json
HTTP / 1.1 401 Unauthorized {
"message": "Invalid Authorization Header"
}
```


## Prorated Cash Trade Tool

This API will used to generate trades for Prorated Cash.

**POST** `https://baseurl/v1/tradetool/proratedcash/action/generatetrade`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/tradetool/proratedcash/action/generatetrade
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

```json
{
"action": 1,
"portfolioIds": [
1,
2,
5
],
"modelIds": null,
"sleeveAccountIds": [
12
],
"tradeGroupIds": null,
"reason": "reason to Raise or Spend cash"
}
```

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| API | json | will return trade instanceId against request and list of failed ids depends on trade request type. |

```json
{
"type": "SleevePortfolio",
"instanceId": 119,
"portfolios": [
{
"id": 1,
"name": "Smith & Company"
},
{
"id": 5,
"name": "James and Garry"
}
],
"models": null,
"groups": null,
"sleevePortfolios": [
{
"id": 12,
"name": "Sleeve Portfolio 1",
"accounts": [
{
"id": 1,
"name": "Smith and Jessus Account",
"accountNo": 1234
},
{
"id": 1,
"name": "Smith & Company",
"accountNo": 132323
}
]
}
]
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |
| Bad_Request | When without request data. |

```json
HTTP / 1.1 401 Unauthorized {
"message": "Invalid Authorization Header"
}
```

```json
HTTP / 1.1 400 Bad_Request {
"message": "Bad Request: Verify request data"
}
```


## Upload single file for sleeve

This API uploadsingle XLS OR XLSX Or CSV file and file have only one header at a time { Portfolio Id, Account Id Or Account Number }

**POST** `https://baseurl/v1/tradetool/uploadfile?isSleeve={true/false}`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/tradetool/uploadfile?isSleeve=true
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| document | File | Select XLS/XLSX/CSV file here. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| recordType | String | The recordType name |
| id | Number | Theid |
| name | String | Name of Account or Portfolio |
| accountId | Number | The accountId |
| accountNumber | String | The accountNumber |
| isValid | Boolean | Account Id or Account Number Or Portfolio Id is valid or not |

```http
HTTP/1.1 200 OK
{
"recordType": "portfolio",
"records": [
{
"id": 1,
"name": "Demo Portfolio Kate",
"accountId": null,
"accountNumber": null,
"isValid": true
},
{
"id": 3,
"name": "Test Portfolio 3",
"accountId": null,
"accountNumber": null,
"isValid": true
}
]
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |
| Bad_Request | When without request data. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```

```http
HTTP/1.1 400 Bad_Request
{
"message": "Bad Request: Verify request data"
}
```


## Upload single file

This API uploadsingle XLS OR XLSX Or CSV file and file have only one header at a time { Portfolio Id, Account Id Or Account Number }

**POST** `https://baseurl/v1/tradetool/uploadfile`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/tradetool/uploadfile
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| document | File | Select XLS/XLSX/CSV file here. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| recordType | String | The recordType name |
| id | Number | Theid |
| name | String | Name of Account or Portfolio |
| accountId | Number | The accountId |
| accountNumber | String | The accountNumber |
| isValid | Boolean | Account Id or Account Number Or Portfolio Id is valid or not |

```http
HTTP/1.1 200 OK
{
"recordType": "portfolio",
"records": [
{
"id": 1,
"name": "Demo Portfolio Kate",
"accountId": null,
"accountNumber": null,
"isValid": true
},
{
"id": 3,
"name": "Test Portfolio 3",
"accountId": null,
"accountNumber": null,
"isValid": true
}
]
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |
| Bad_Request | When without request data. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```

```http
HTTP/1.1 400 Bad_Request
{
"message": "Bad Request: Verify request data"
}
```


---

# TradeTool - TLH


## certain percentage of security

This API will returns gain/loss accrued on selling certain percentage of secuity .

**POST** `https://baseurl/v1/tradetool/taxLossHarvesting/action/checkGainLoss Returns total gain/loss accrued by user on selling`

**Permission:** `appuser`

```bash
curl -ihttp://baseurl/v1/tradetool/taxLossHarvesting/action/checkGainLoss
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| accountId | Integer | account id |
| securityId | Integer | security id of selling security |
| percentage | decimal | percentage of selling security |

```json
{
"accountId": 123,
"securityId": 45612,
"percentage": 50,
}
```

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| API | Number | will return params drop down details for gain loss |

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |
| Bad_Request | When without request data. |

```json
HTTP / 1.1 401 Unauthorized {
"message": "Invalid Authorization Header"
}
```

```json
HTTP / 1.1 400 Bad_Request {
"message": "Bad Request: Verify request data"
}
```

```http
HTTP/1.1 500 INTERNAL_SERVER_ERROR
{
"message": "INTERNAL_SERVER_ERROR."
}
```


## Create Trade in TLH on TLH notifications

This API will create trades on TLH notification.

**POST** `https://baseurl/v1/tradetool/taxLossHarvesting/action/createTLHTrade`

**Permission:** `appuser`

```bash
curl -ihttp://baseurl/v1/tradetool/taxLossHarvesting/action/createTLHTrade
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| portfolioIds | Array | Portfolio Ids is for whose TLH trades to create |
| accountId | Int | AccountId for whose TLH trades to create |
| securityId | Int | Security for whose TLH trades to create |

```json
{
"portfolioIds": [
1,
2,
3,
4,
5,
6,
7,
8,
9
]
}
```

```json
{
"accountId" : 14,
"securityId": 376 |optional
}
```

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| API | Number | will return TLH trades in portfolios selected |

```http
HTTP/1.1 200 OK
[
{
"accountName": "Regression Testing *DO NOT DEMO* Cost Basis",
"accountNumber": "LEDARTIREMADT",
"symbol": "ODMAX",
"securityId": 5687,
"securityName": "Oppenheimer Developing Markets A",
"sellPrice": 32.33,
"costPrice": 72.33,
"totalGLAmount": -40000,
"tlhSellingPercent": 100,
"accountId": 987,
"portfolioId": 558,
"tlhSecurityId": null,
"tlhSecurityName": null,
"modelId": 17
}
]
```

```http
HTTP/1.1 200 OK
{
"trades":[
{
"accountId": "477_179",
"portfolioId": 304,
"modelId": 17,
"accountNumber": "L50A-ELPMAS",
"accountName": "Jay John and Sarah",
"securityId": 376,
"securityName": "iShares S&P Europe 350 Index",
"costPrice": 41.38724,
"totalGLAmount": -3146.98,
"tlhSellingPercent": 175.47715,
"modelElementId": 282,
"securitySetId": 1,
"sell_price": 40.35,
"priority": "1,2,3",
"tlhSecurityId": "98,579,687",
"tlhSecuritySymbol": "CSRA,CAT,ABBV",
"tlhSecurityName": "CSRA Inc,Caterpillar Inc,Abbvie Inc"
}
]
}
```

```http
HTTP/1.1 200 OK
{
"trades": [
{
"accountId": "477_179",
"portfolioId": 304,
"modelId": 17,
"accountNumber": "L50A-ELPMAS",
"accountName": "Jay John and Sarah",
"securityId": 376,
"securityName": "iShares S&P Europe 350 Index",
"costPrice": 41.38724,
"totalGLAmount": -3146.98,
"tlhSellingPercent": 175.47715,
"modelElementId": 282,
"securitySetId": 1,
"sell_price": 40.35,
"priority": "1,2,3",
"tlhSecurityId": "98,579,687",
"tlhSecuritySymbol": "CSRA,CAT,ABBV",
"tlhSecurityName": "CSRA Inc,Caterpillar Inc,Abbvie Inc"
}
]
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |
| Bad_Request | When without request data. |

```json
HTTP / 1.1 401 Unauthorized {
"message": "Invalid Authorization Header"
}
```

```json
HTTP / 1.1 400 Bad_Request {
"message": "Bad Request: Verify request data"
}
```

```http
HTTP/1.1 500 INTERNAL_SERVER_ERROR
{
"message": "INTERNAL_SERVER_ERROR."
}
```


## Create Trade in TLH on user conditions

This API will create trades on user conditions.

**POST** `https://baseurl/v1/tradetool/taxLossHarvesting/action/createTrade`

**Permission:** `appuser`

```bash
curl -ihttp://baseurl/v1/tradetool/taxLossHarvesting/action/createTrade
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| taxableAccountsOnly | Boolean | To include taxable accounts or not. Default - TRUE |
| gainLoss | Integer | Profit/Loss to consider. Options(1: Loss, 2: Gain) |
| term | Integer | Term to consider. Options (1: "Both", 2: "Short Term", 3: "Long Term") |
| sign | Integer | Sign selected. Options (1: '&lt;', 2: '&gt;', 3: '=') |
| amount | Decimal | Amount Specified to filter trades |

```json
{
"taxableAccountsOnly": false,
"gainLoss": 1,
"term": 1,
"sign": 1,
"amount": 123.23
}
```

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| API | Number | will return trades which fulfill conditions specified by user |

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |
| Bad_Request | When without request data. |

```json
HTTP / 1.1 401 Unauthorized {
"message": "Invalid Authorization Header"
}
```

```json
HTTP / 1.1 400 Bad_Request {
"message": "Bad Request: Verify request data"
}
```

```http
HTTP/1.1 500 INTERNAL_SERVER_ERROR
{
"message": "INTERNAL_SERVER_ERROR."
}
```


## Get Tax Harvesting Securities

This api will be used to get Security List.

**POST** `https://baseurl/v1/tradetool/taxLossHarvesting/securities`

**Permission:** `appUser`

```bash
curl -ihttp://baseurl/v1/tradetool/taxLossHarvesting/securities
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| ids | Number | Portfolio or account ids |
| type | string | Type of ids |

```json
{
"ids": [
7,
33,
22
],
"type": "account"
}
```

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | Security Id. |
| name | String | Security Name. |
| symbol | String | Security Symbol |
| securityTypeId | Number | Security Type Id |
| label | String | Combination of name and symbol to display |

```http
HTTP/1.1 200 OK
[
{
id: 642
label: "SPDR Energy Select Sector ETF (XLE)"
name: "SPDR Energy Select Sector ETF"
securityTypeId: 5
symbol: "XLE"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Returns Buy prefered Securities

This API will returns validated securities of accounts .

**POST** `https://baseurl/v1/tradetool/taxLossHarvesting/action/validateBuyPreferredTHSecurities`

**Permission:** `appuser`

```bash
curl -ihttp://baseurl/v1/tradetool/taxLossHarvesting/action/validateBuyPreferredTHSecurities
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| accountId | Integer | account id |
| securityId | Integer | security id of selling security |
| percentage | decimal | percentage of selling security |

```json
{
"trades": [
{
"GLPercent": 0,
"LTGLAmount": 0,
"STGLAmount": 1304.24,
"accountId": 392,
"accountName": "Sleeves Howard",
"accountNumber": "627-Samp1_Federated",
"accountType": "TAXABLE",
"accountValue": 40667.82,
"cashValue": 829.69,
"costPrice": 76.72,
"currentPercent": 3.21,
"currentShares": 17,
"currentValue$": 1304.24,
"custodian": "Fidelity",
"managementStyle": null,
"modelId": null,
"portfolioId": 1579,
"portfolioRealizedYTDGL$": 0,
"securityId": 115,
"securityName": "Exxon Mobil Corporation",
"sellPrice": 76.72,
"shares": 17,
"symbol": "XOM",
"tlhSecurityId": null,
"tlhSecurityName": null,
"tlhSecuritySymbol": null,
"tlhSellingPercent": 100,
"totalGLAmount": 1304.24,
"tradeAmount": 1304.24
}
]
}
```

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| API | Number | will return params for valid trades |

```json
{
"trades": [
{
"GLPercent": 0,
"LTGLAmount": 0,
"STGLAmount": 1304.24,
"accountId": 392,
"accountName": "Sleeves Howard",
"accountNumber": "627-Samp1_Federated",
"accountType": "TAXABLE",
"accountValue": 40667.82,
"cashValue": 829.69,
"costPrice": 76.72,
"currentPercent": 3.21,
"currentShares": 17,
"currentValue$": 1304.24,
"custodian": "Fidelity",
"managementStyle": null,
"modelId": null,
"portfolioId": 1579,
"portfolioRealizedYTDGL$": 0,
"securityId": 115,
"securityName": "Exxon Mobil Corporation",
"sellPrice": 76.72,
"shares": 17,
"symbol": "XOM",
"tlhSecurityId": 614,
"tlhSecurityName": "Sentinel Short Maturity Govt",
"tlhSecuritySymbol": "SSIGX",
"tlhSellingPercent": 100,
"totalGLAmount": 1304.24,
"tradeAmount": 1304.24,
"equivalenceSecurityId": 875,
"priority": 1
}
]
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |
| Bad_Request | When without request data. |

```json
HTTP / 1.1 401 Unauthorized {
"message": "Invalid Authorization Header"
}
```

```json
HTTP / 1.1 400 Bad_Request {
"message": "Bad Request: Verify request data"
}
```

```http
HTTP/1.1 500 INTERNAL_SERVER_ERROR
{
"message": "INTERNAL_SERVER_ERROR."
}
```


## Returns validated securities

This API will returns validated securities of accounts .

**POST** `https://baseurl/v1/tradetool/taxLossHarvesting/action/validateTLHSecurities`

**Permission:** `appuser`

```bash
curl -ihttp://baseurl/v1/tradetool/taxLossHarvesting/action/validateTLHSecurities
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| accountId | Integer | account id |
| securityId | Integer | security id of selling security |
| percentage | decimal | percentage of selling security |

```json
{
"isTaxHarvesting":false,
"trades": [
{
"accountId": 504,
"sellTickerId": 30,
"sellTickerName": "NOV",
"percent": 25.82,
"buyTickerId": 10,
"buyTickerName": "Columbia Small Cap Growth I Z"
},
{
"accountId": 504,
"sellTickerId": 10,
"sellTickerName": "SE",
"percent": 100,
"buyTickerId": 20,
"buyTickerName": "Fidelity Transportation",
},
{
"accountId": 505,
"sellTickerId": 495,
"sellTickerName": "BBBY",
"percent": 37.04,
"buyTickerId": 20,
"buyTickerName": "3M Company"
},
{
"accountId": 504,
"sellTickerId": 20,
"sellTickerName": "APA",
"percent": 47.63,
"buyTickerId": 875,
"buyTickerName": "3M Company"
}
]
"filter":{
"taxableAccountsOnly":true,
"tlh":true,
"amount":null,
"gainLoss":null,
"sign":null,
"term":null
}
}
```

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| API | Number | will return params for valid trades |

```json
{
"trades": [
{
"accountId": 504,
"sellTickerId": 30,
"sellTickerName": "NOV",
"percent": 25.82,
"buyTickerId": 10,
"buyTickerName": "Columbia Small Cap Growth I Z",
"isValidTrade": 0,
"erroMessage": "Selected BUY Security is being sold under same account"
},
{
"accountId": 504,
"sellTickerId": 10,
"sellTickerName": "SE",
"percent": 100,
"buyTickerId": 20,
"buyTickerName": "Fidelity Transportation",
"isValidTrade": 0,
"erroMessage": "Selected BUY Security is being sold under same account"
},
{
"accountId": 505,
"sellTickerId": 495,
"sellTickerName": "BBBY",
"percent": 37.04,
"buyTickerId": 20,
"buyTickerName": "3M Company",
"isValidTrade": 1
},
{
"accountId": 504,
"sellTickerId": 20,
"sellTickerName": "APA",
"percent": 47.63,
"buyTickerId": 875,
"buyTickerName": "3M Company",
"isValidTrade": 0,
"errorMessage": "BUY Security will cause Wash Sales"
}
]
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |
| Bad_Request | When without request data. |

```json
HTTP / 1.1 401 Unauthorized {
"message": "Invalid Authorization Header"
}
```

```json
HTTP / 1.1 400 Bad_Request {
"message": "Bad Request: Verify request data"
}
```

```http
HTTP/1.1 500 INTERNAL_SERVER_ERROR
{
"message": "INTERNAL_SERVER_ERROR."
}
```


## Searching TLH securities

This API will serach TLH security of selling secuity.

**POST** `https://baseurl/v1/tradetool/taxLossHarvesting/action/searchTLHsecurity`

**Permission:** `appuser`

```bash
curl -ihttp://baseurl/v1/tradetool/taxLossHarvesting/action/searchTLHsecurity
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| accountId | Integer | account id |
| securityId | Integer | security id of selling security |

```json
{
"accountId": 123,
"securityId": 45612
}
```

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| Securities | Array | will return all alternate securities for TLH opportunity |

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |
| Bad_Request | When without request data. |

```json
HTTP / 1.1 401 Unauthorized {
"message": "Invalid Authorization Header"
}
```

```json
HTTP / 1.1 400 Bad_Request {
"message": "Bad Request: Verify request data"
}
```

```http
HTTP/1.1 500 INTERNAL_SERVER_ERROR
{
"message": "INTERNAL_SERVER_ERROR."
}
```


## TLH Generate Trade

This API will generate trades as per user input.

**POST** `https://baseurl/v1/tradetool/taxLossHarvesting/action/generateTrade`

**Permission:** `appuser`

```bash
curl -ihttp://baseurl/v1/tradetool/taxLossHarvesting/action/generateTrade
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| trades | Object | Array of trades selected for swap |
| accountId | Integer | Account id of trade |
| sellTickerId | Integer | Ticker id to be sold in trade |
| sellTickerName | String | Name of ticker to be sold in trade |
| percent | Decimal | Percent of Ticker to be sold |
| buyTickerId | Integer | Ticker id to be bought in trade |
| buyTickerName | String | Name of ticker to be bought in trade |
| Filter | Object | Filtering trades as per user choice |
| taxableAccountsOnly | Boolean | To include taxable accounts or not. Default - TRUE |
| gainLoss | Integer | Profit/Loss to consider. Options(1: Loss, 2: Gain) |
| term | Integer | Term to consider. Options (1: "Both", 2: "Short Term", 3: "Long Term") |
| sign | Integer | Sign selected. Options (1: '&lt;', 2: '&gt;', 3: '=') |
| amount | Decimal | Amount Specified to filter trades |
| note | String | Instance Note |
| description | String | Instanct Description of these trades |
| tlh | Boolean | Whether trades are TLH or not |
| isViewOnly | Boolean | Trades are view only or not |
| isTaxHarvesting | Boolean | Flag will be true for tax harvesting otherwise false |

```json
{trades: [
{
"accountId": 1,
"sellTickerId": 25,
"sellTickerName": "AAPL",
"percent": 20,
"buyTickerId": 42,
"buyTickerName": "MSFT"
},
{
"accountId": 1,
"sellTickerId": 35,
"sellTickerName": "AAPL",
"percent": 20,
"buyTickerId": 45,
"buyTickerName": "MSFT"
},
{
"accountId": 1,
"sellTickerId": 85,
"sellTickerName": "AAPL",
"percent": 20,
"buyTickerId": 92,
"buyTickerName": "MSFT"
}
],
filter:
{
"taxableAccountsOnly": false,
"gainLoss": 1,
"term": 1,
"sign": 1,
"amount": 123.23,
"note": "TLH trades generating",
"description": "Going for GAIN harvesting",
"tlh": false,
"isViewOnly": false
} ,
"isTaxHarvesting": true
}
```

```json
{trades: [
{
"accountId": 1,
"sellTickerId": 25,
"sellTickerName": "AAPL",
"percent": 20,
"buyTickerId": 42,
"buyTickerName": "MSFT"
},
{
"accountId": 1,
"sellTickerId": 35,
"sellTickerName": "AAPL",
"percent": 20,
"buyTickerId": 45,
"buyTickerName": "MSFT"
},
{
"accountId": 1,
"sellTickerId": 85,
"sellTickerName": "AAPL",
"percent": 20,
"buyTickerId": 92,
"buyTickerName": "MSFT"
}
],
filter:
{
"taxableAccountsOnly": null,
"gainLoss": null,
"term": null,
"sign": null,
"amount": null,
"note": null,
"description": null,
"tlh": true,
"isViewOnly": false
}
}
```

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| API | Number | will return trades with are successfully executed |

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |
| Bad_Request | When without request data. |

```json
HTTP / 1.1 401 Unauthorized {
"message": "Invalid Authorization Header"
}
```

```json
HTTP / 1.1 400 Bad_Request {
"message": "Bad Request: Verify request data"
}
```

```http
HTTP/1.1 500 INTERNAL_SERVER_ERROR
{
"message": "INTERNAL_SERVER_ERROR."
}
```


## TLH Selection Filter Gain Loss Drop Down

This API will give drop down of gain loss params.

**GET** `https://baseurl/v1/tradetool/taxLossHarvesting/gainloss/options`

**Permission:** `appuser`

```bash
curl -ihttp://baseurl/v1/tradetool/taxLossHarvesting/gainloss/options
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| API | Number | will return params drop down details for gain loss |

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |
| Bad_Request | When without request data. |

```json
HTTP / 1.1 401 Unauthorized {
"message": "Invalid Authorization Header"
}
```

```json
HTTP / 1.1 400 Bad_Request {
"message": "Bad Request: Verify request data"
}
```

```http
HTTP/1.1 500 INTERNAL_SERVER_ERROR
{
"message": "INTERNAL_SERVER_ERROR."
}
```


## TLH Selection Filter Sign Drop Down

This API will give drop down of sign params.

**GET** `https://baseurl/v1/tradetool/taxLossHarvesting/sign/options`

**Permission:** `appuser`

```bash
curl -ihttp://baseurl/v1/tradetool/taxLossHarvesting/sign/options
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| API | Number | will return params drop down details for gain loss |

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |
| Bad_Request | When without request data. |

```json
HTTP / 1.1 401 Unauthorized {
"message": "Invalid Authorization Header"
}
```

```json
HTTP / 1.1 400 Bad_Request {
"message": "Bad Request: Verify request data"
}
```

```http
HTTP/1.1 500 INTERNAL_SERVER_ERROR
{
"message": "INTERNAL_SERVER_ERROR."
}
```


## TLH Selection Filter Term Drop Down

This API will give drop down of term params.

**GET** `https://baseurl/v1/tradetool/taxLossHarvesting/term/options`

**Permission:** `appuser`

```bash
curl -ihttp://baseurl/v1/tradetool/taxLossHarvesting/term/options
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| API | Number | will return params drop down details for gain loss |

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |
| Bad_Request | When without request data. |

```json
HTTP / 1.1 401 Unauthorized {
"message": "Invalid Authorization Header"
}
```

```json
HTTP / 1.1 400 Bad_Request {
"message": "Bad Request: Verify request data"
}
```

```http
HTTP/1.1 500 INTERNAL_SERVER_ERROR
{
"message": "INTERNAL_SERVER_ERROR."
}
```


---

# Trade Files


## Deletes Trade File.

This API deletes Trade File.

**DELETE** `https://baseurl/v1/tradeorder/tradefiles/:id`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/tradeorder/tradefiles/3
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| message | Number | Success message. |

```http
HTTP/1.1 200 OK
{
"message": "Trade File deleted successfully"
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |
| Not_Found | When Trade File does not exist. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```

```http
HTTP/1.1 404 Not_Found
{
"message": "Trade File does not exist"
}
```


## Get Trade File Count of current date

This API gets Trade File Count for the current date.

**GET** `https://baseurl/v1/tradeorder/tradefiles/count`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/tradeorder/tradefiles/count
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| count | Number | Trade Files Count for current date. |

```http
HTTP/1.1 200 OK
{
"count": 0
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```


## Get Trade File List of date

This API gets Trade File List for the given date.

**GET** `https://baseurl/v1/tradeorder/tradefiles?fromDate=MM/DD/YYYY`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/tradeorder/tradefiles?fromDate=11/17/2016
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The Trade File id. |
| name | String | Name of the Trade File. |
| format | String | Format of the Trade File. |
| path | String | Path of the Trade File. |
| status | Boolean | Status of the Trade File (1/0) [Sent/Not Sent]. |
| URL | String | URL to download the Trade File. |
| isDeleted | Boolean | Trade File exist or not into the system. |
| createdOn | Date | Trade File creation date into application. |
| createdBy | String | Full Name of user who created the Trade File into the system. |
| editedOn | Date | Trade File edited date into application. |
| editedBy | String | Full Name of user who edited the Trade File details into the system. |

```http
HTTP/1.1 200 OK
[
{
"id": 3,
"name": "schwab_block_20161117_033632",
"format": "block",
"path": "",
"status": 0,
"URL":"https://PATH/TO/FILE",
"isDeleted": 0,
"createdOn": "2016-11-17T10:18:16.000Z",
"createdBy": "prime@tgi.com",
"editedOn": "2016-11-17T10:18:23.000Z",
"editedBy": "prime@tgi.com"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |
| Bad_Request | When without request data. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```

```http
HTTP/1.1 400 Bad_Request
{
"message": "Please Enter a valid date format(MM/DD/YYYY)"
}
```


## Update Trade File status to sent and send file

This API updates Trade File status to sent and uploads tda sftp file.

**PUT** `https://baseurl/v1/tradeorder/tradefiles/:id/action/tdadirect`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/tradeorder/tradefiles/1/action/sent
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The Trade File id. |
| name | String | Name of the Trade File. |
| format | String | Format of the Trade File. |
| path | String | Path of the Trade File. |
| status | Boolean | Status of the Trade File (1/0) [Sent/Not Sent]. |
| URL | String | URL to download the Trade File. |
| isDeleted | Boolean | Trade File exist or not into the system. |
| createdOn | Date | Trade File creation date into application. |
| createdBy | String | Full Name of user who created the Trade File into the system. |
| editedOn | Date | Trade File edited date into application. |
| editedBy | String | Full Name of user who edited the Trade File details into the system. |

```http
HTTP/1.1 200 OK
{
"id": 3,
"name": "schwab_block_20161117_033632",
"format": "block",
"path": "",
"status": 1,
"URL":"https://PATH/TO/FILE",
"isDeleted": 0,
"createdOn": "2016-11-17T10:18:16.000Z",
"createdBy": "prime@tgi.com",
"editedOn": "2016-11-17T10:18:23.000Z",
"editedBy": "prime@tgi.com"
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |
| Not_Found | When Trade File does not exist. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```

```http
HTTP/1.1 404 Not_Found
{
"message": "Trade File does not exist"
}
```


## Update Trade File status to sent

This API updates Trade File status to sent.

**PUT** `https://baseurl/v1/tradeorder/tradefiles/:id/action/sent`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/tradeorder/tradefiles/1/action/sent
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The Trade File id. |
| name | String | Name of the Trade File. |
| format | String | Format of the Trade File. |
| path | String | Path of the Trade File. |
| status | Boolean | Status of the Trade File (1/0) [Sent/Not Sent]. |
| URL | String | URL to download the Trade File. |
| isDeleted | Boolean | Trade File exist or not into the system. |
| createdOn | Date | Trade File creation date into application. |
| createdBy | String | Full Name of user who created the Trade File into the system. |
| editedOn | Date | Trade File edited date into application. |
| editedBy | String | Full Name of user who edited the Trade File details into the system. |

```http
HTTP/1.1 200 OK
{
"id": 3,
"name": "schwab_block_20161117_033632",
"format": "block",
"path": "",
"status": 1,
"URL":"https://PATH/TO/FILE",
"isDeleted": 0,
"createdOn": "2016-11-17T10:18:16.000Z",
"createdBy": "prime@tgi.com",
"editedOn": "2016-11-17T10:18:23.000Z",
"editedBy": "prime@tgi.com"
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |
| Not_Found | When Trade File does not exist. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```

```http
HTTP/1.1 404 Not_Found
{
"message": "Trade File does not exist"
}
```


---

# Trade Instances


## Delete instance api

This API deletes trade instances

**DELETE** `https://baseurl/v1/tradeorder/instances/`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/tradeorder/instances/
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| instanceId | Array | List of instance id's to be deleted |

```json
{
"instanceId": [
896,
1193
]
}
```

```http
HTTP/1.1 200 OK
{
"message": "Instances deleted successfully"
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## get all instances with portfolioid

This API will search instances for portolioid and filter by date

**GET** `https://baseurl/v1/tradeorder/instances/portfolio/:portfolioId/search?startDate={date}&amp;endDate={date}`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/tradeOrder/instances/portfolio/123/search?startDate=2017-01-01&endDate=2017-02-01
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| startDate | Date | Start date from which instances are required in yyyy-mm-dd |
| endDate | Date | End date till which instances are required in yyyy-mm-dd |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | String | The instance Id. |
| requestType | String | TradingApp used to create instance. |
| isEnabled | Boolean | Is enabled status of the instance. |
| notes | String | Notes of the instance. |
| errorMessage | String | Error message . |
| orderCount | Date | Total order count of the trades. |
| executeStatus | String | Value of the executed state. |
| closedOrderCount | Number | Total closed order count. |
| entity | String | Entity value. |
| openOrderCount | Number | Total open order count |
| errorStatus | Boolean | true if error and false if there is no error. |

```http
HTTP/1.1 200 OK
[
{
"id": 1,
"requestType":SpendCash,
"caption": "",
"isEnabled": 1,
"notes": "",
"errorMessage": 0,
"orderCount": 0,
"executeStatus": "",
"closedOrderCount": 0,
"openOrderCount": 0,
"entity": "",
"errorStatus": false,
},
{
"id": 12,
"requestType": "SpendCash",
"caption": null,
"isEnabled": 1,
"notes": null,
"errorMessage": 0,
"orderCount": 0,
"executeStatus": null,
"closedOrderCount": 0,
"openOrderCount": 0,
"entity": null,
"errorStatus": false,
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## get all instances

This API get all instances

**GET** `https://baseurl/v1/tradeorder/instances?startDate={date}&amp;endDate={date}`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/tradeOrder/instances?startDate=2017-01-01&endDate=2017-02-01
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| startDate | Date | Start date from which instances are required in yyyy-mm-dd |
| endDate | Date | End date till which instances are required in yyyy-mm-dd |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | String | The instance Id. |
| requestType | String | TradingApp used to create instance. |
| isEnabled | Boolean | Is enabled status of the instance. |
| notes | String | Notes of the instance. |
| errorMessage | String | Error message . |
| orderCount | Date | Total order count of the trades. |
| executeStatus | String | Value of the executed state. |
| closedOrderCount | Number | Total closed order count. |
| entity | String | Entity value. |
| openOrderCount | Number | Total open order count |
| errorStatus | Boolean | true if error and false if there is no error. |

```http
HTTP/1.1 200 OK
[
{
"id": 1,
"requestType":SpendCash,
"caption": "",
"isEnabled": 1,
"notes": "",
"errorMessage": 0,
"orderCount": 0,
"executeStatus": "",
"closedOrderCount": 0,
"openOrderCount": 0,
"entity": "",
"errorStatus": false,
},
{
"id": 12,
"requestType": "SpendCash",
"caption": null,
"isEnabled": 1,
"notes": null,
"errorMessage": 0,
"orderCount": 0,
"executeStatus": null,
"closedOrderCount": 0,
"openOrderCount": 0,
"entity": null,
"errorStatus": false,
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get assignedUrl of a particular tradeLog

This API gets assigned URL of an tradeLog

**GET** `https://baseurl/v1/tradeorder/instances/tradeLogs/:id`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/tradeOrder/instances/tradeLogs/105
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| id | Number | tradeLog Id |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| portfolioId | Number | Portfolio of the trade instance |
| id | Number | tradelog id |
| portfolioName: | String | Portfolio name. |
| accountId: | Number | Account id of the portfolio. |
| path: | String | Log file path. |

```http
HTTP/1.1 200 OK
{
"portfolioId": 3,
"id":501,
"portfolioName": "Belushi, James",
"accountId": 1,
"path": ""
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## get instance detail

This API get single instance

**POST** `https://baseurl/v1/tradeorder/instances/mark?isEnabled={false/true}`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/tradeorder/instances/mark?isEnabled=true
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| instanceId | Array | List of instance id's to be marked enabled or disabled |

```json
{
"instanceId": [
12,
13,
14
]
}
```

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | String | The instance Id. |
| requestType | String | TradingApp used to create instance. |
| isEnabled | Boolean | Is enabled status of the instance. |
| notes | String | Notes of the instance. |
| errorMessage | String | Error message . |
| orderCount | Date | Total order count of the trades. |
| executeStatus | String | Value of the executed state. |
| closedOrderCount | Number | Total closed order count. |
| entity | String | Entity value. |
| openOrderCount | Number | Total open order count |

```http
HTTP/1.1 200 OK
[
{
"id": 12,
"requestType": "Rebalance",
"caption": null,
"isEnabled": 1,
"notes": null,
"errorMessage": 0,
"orderCount": 0,
"executeStatus": null,
"closedOrderCount": 0,
"openOrderCount": 0,
"entity": null
},
{
"id": 13,
"requestType": "Rebalance",
"caption": null,
"isEnabled": 1,
"notes": null,
"errorMessage": 0,
"orderCount": 0,
"executeStatus": null,
"closedOrderCount": 0,
"openOrderCount": 0,
"entity": null
},
{
"id": 14,
"requestType": "Rebalance",
"caption": null,
"isEnabled": 1,
"notes": null,
"errorMessage": 0,
"orderCount": 0,
"executeStatus": null,
"closedOrderCount": 0,
"openOrderCount": 0,
"entity": null
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## get instance detail

This API get single instance

**GET** `https://baseurl/v1/tradeorder/instances`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/tradeOrder/instances/1
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | String | The instance Id. |
| requestType | String | TradingApp used to create instance. |
| isEnabled | Boolean | Is enabled status of the instance. |
| notes | String | Notes of the instance. |
| errorMessage | String | Error message . |
| orderCount | Date | Total order count of the trades. |
| executeStatus | String | Value of the executed state. |
| closedOrderCount | Number | Total closed order count. |
| entity | String | Entity value. |
| openOrderCount | Number | Total open order count |

```http
HTTP/1.1 200 OK
{
"id": 1,
"requestType":SpendCash,
"caption": "",
"isEnabled": 1,
"notes": "",
"errorMessage": 0,
"orderCount": 0,
"executeStatus": "",
"closedOrderCount": 0,
"openOrderCount": 0,
"entity": "",
"errorStatus": false,
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get list of trades(open or closed or all) of an instance

This API gets trade details( open or closed or all) by instance id.

**GET** `https://baseurl/v1/tradeorder/instances/:instanceId/trades?status={open/closed}`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/tradeOrder/instances/896/trades?status=open
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| orders_id | Number | Blocks order Id. |
| orders_isEnabled | Boolean | Is Enabled value of trade |
| orders_action: | String | Action contains either buy or sell. |
| orders_orderQty: | Decimal | Number of shares to be sell or buy |
| orders_orderType: | String | Block order Type |
| orders_originalOrderQty | String | Original order quantity |
| orders_sweepCash | Number | Sweep cash value |
| orders_shareOwned | Number | Share Owned value |
| orders_warningMessage | String | Warning message |
| orders_price: | Decimal | The price used to stage the order. |
| orders_custodian: | String | Name of custodian. |
| orders_security_id: | Number | Block related security id. |
| orders_security_name: | String | Security name |
| orders_security_symbol: | String | Secirity symbol |
| orders_security_securityType: | String | Security type name |
| orders_account_id: | Number | Block related security id. |
| orders_account_name: | String | account name |
| orders_account_number: | String | account symbol |
| orders_account_type: | String | account type name |
| orders_portfolio_id: | Number | Portfolio id. |
| orders_portfolio_name: | String | Porttfolio name |
| orders_createdBy | String | Full Name of user who created the block order into the system. |
| orders_createdDate | Date | Block creation date into application. |
| orders_orderStatus_id | Number | Block order status id |
| orders_orderStatus.name | Number | Block order status name |
| orders_orderAmount | Number | Order amount value |
| orders_orderPercent | Number | Order percent value |
| orders_estimateAmount | Number | Estimated amount |
| orders_instanceDescription | Number | instance description |
| orders_tradingInstructions | Number | trading description |

```http
HTTP/1.1 200 OK
[{
"id": 5,
"isEnabled": 0,
"account": {
"id": 80004,
"accountId": "80004",
"name": "Kane, Jr.Fredric",
"number": "TE1001",
"value" : null,
"type" : null
},
"warningMessage": null,
"action": "BUY",
"orderQty": 6,
"orderPercent": 50,
"cashValuePostTrade": null,
"estimateAmmount": 41304,
"orderType": null,
"price": 61,
"createdBy": "prime@tgi.com",
"createdDate": "2016-09-13T04:33:36.000Z",
"custodian": "Prime",
"security": {
"id": 7,
"name": null,
"symbol": null,
"securityType": null
},
"portfolio": {
"id": 15,
"name": "P1001",
"isSleevedPortfolio":true
},
"model": {
"id": 1,
"name": "testModel"
},
"holdUntil": null,
allocationStatus":{
"id":3,
"name":"Accepted"
},
"approvalStatus":{
"id":3,
"name":"Pending Approval"
},
"holding":{
"id":2,
"units":100
},
"blockId":1,
"cashValue":1000,
"daysUntilLongTerm":20,
"execInst":"None",
"expireTime":null,
"fullSetDate":null,
"gainLossMessage":null,
"handlInst":"private",
"hasBlock":false,
"instanceId":1,
"instanceNotes":null,
"isDiscretionary":false,
"locateReqd":null,
"longTermGain":0,
"managementStyle":"",
"marketValue":0,
"notes":null,
"orderStatus":{
"id":1,
"name":"Filled"
},
"originalOrderQty":20,
"qualified":null,
"rebalanceLevel":{
"id":1,
"name":"level1"
},
"reinvestDividends":true,
"reinvestLongTermGains":false,
"reinvestShortTermGains":false,
"rowVersion":2,
"settlementType":{
"id":2,
"name":"cash"
},
"pendingUnits":2,
"shortTermGain":200,
"stopPrice":2000,
"timeInForce":"Day",
"totalGain":400,
"tradePercentOfAccount":20.08,
"transactionId":null,
"washUnits":20,
"assetClassName":"cash",
"clientDirect":false,
"minimmCashBalance":300,
"repNotes":null,
"representativeName":"orion test",
"isAutoAllocate":null,
"editedBy":"prime@tgi.com",
"editedDate":"2016-11-07T03:34:25.000Z",
"washAmount":200,
"editedBy": "prime@tgi.com",
"editedDate": "2016-09-13T04:33:36.000Z",
"isSolicited": false,
"canEdit" : true,
"canExecute" : true,
"currentModelName": "Community Model 1",
"duration": {
"id": 1,
"name": "Day"
}
}]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get trade logs by portfolio id

This API gets trade logs for a portfolio

**GET** `https://baseurl/v1/tradeorder/instances/tradeLogs/:portfolioId/instances?startDate={dateTime}&amp;endDate={dateTime}`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/tradeOrder/instances/tradeLogs/:portfolioId/instances?startDate={dateTime}&endDate={dateTime}
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | tradeLog Id |
| createdDate | DateTime | datetime of trade log creation (UTC) |
| tradeInstanceId | Number | tradeInstance Id |
| description | String | trade instance description |
| accountId | Number | account Id |
| accountName | String | account name |
| portfolioId | Number | portfolio Id |
| portfolioName | String | portfolio name |
| path | String | trade log filename |
| error | String | error message from trade log, if any |
| tradingAppID | Number | trading application used to create orders |
| applicationName | String | trading application name used to create orders |
| tradeToolSelectionId | Number | account or portfolio selection method used to create orders |
| tradeToolSelectionName | String | account or portofolio selection method name used to create orders |
| tradeInstanceTypeId | Number | trade instance type |
| tradeInstanceTypeName | String | trade instance type name |
| tradeInstanceSubTypeId | Number | trade instance sub-type |
| tradeInstanceSubTypeName | String | trade instance sub-type name |

```http
HTTP/1.1 200 OK
[
{
"id": 111,
"createdDate": "2024-04-29T19:12:13.000Z",
"tradeInstanceId": 222,
"description": "Rebalancer",
"accountId": null,
"accountName": null,
"portfolioId": 333,
"portfolioName": "My Portfolio",
"path": "tradelog/file/name.extension"
"error": "",
"tradingAppID": 1,
"applicationName": "Manual Rebalance",
"tradeToolSelectionId": 1,
"tradeToolSelectionName": "Portfolio",
"tradeInstanceTypeId": 6,
"tradeInstanceTypeName": "Rebalance",
"tradeInstanceSubTypeId": 20,
"tradeInstanceSubTypeName": "Journal Cash and Holdings"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get trade logs by trade instance id

This API gets trade logs for a trade instance

**GET** `https://baseurl/v1/tradeorder/instances/:instanceId/tradeLogs`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/tradeOrder/instances/1/tradeLogs
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | tradeLog Id |
| createdDate | DateTime | datetime of trade log creation (UTC) |
| tradeInstanceId | Number | tradeInstance Id |
| description | String | trade instance description |
| accountId | Number | account Id |
| accountName | String | account name |
| portfolioId | Number | portfolio Id |
| portfolioName | String | portfolio name |
| error | String | error message from trade log, if any |
| tradingAppID | Number | trading application used to create orders |
| applicationName | String | trading application name used to create orders |
| tradeToolSelectionId | Number | account or portfolio selection method used to create orders |
| tradeToolSelectionName | String | account or portofolio selection method name used to create orders |
| tradeInstanceTypeId | Number | trade instance type |
| tradeInstanceTypeName | String | trade instance type name |
| tradeInstanceSubTypeId | Number | trade instance sub-type |
| tradeInstanceSubTypeName | String | trade instance sub-type name |

```http
HTTP/1.1 200 OK
[
{
"id": 111,
"createdDate": "2024-04-29T19:12:13.000Z",
"tradeInstanceId": 222,
"description": "Rebalancer",
"accountId": null,
"accountName": null,
"portfolioId": 333,
"portfolioName": "My Portfolio",
"error": "",
"tradingAppID": 1,
"applicationName": "Manual Rebalance",
"tradeToolSelectionId": 1,
"tradeToolSelectionName": "Portfolio",
"tradeInstanceTypeId": 6,
"tradeInstanceTypeName": "Rebalance",
"tradeInstanceSubTypeId": 20,
"tradeInstanceSubTypeName": "Journal Cash and Holdings"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get trade parameters of an instance

This API gets trade parameters of an instance

**GET** `https://baseurl/v1/tradeorder/instances/:instanceId/tradeParameter`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/tradeorder/instances/345/tradeParameter
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| tradeTool | String | Name of the trade tool. |
| portfolioId | Number | Portfolio of the trade instance |
| portfolioName: | String | Portfolio name. |
| modelId: | Number | Model id of the instance. |
| modelName: | String | Model name. |
| tradingNotes | String | Trading notes of the instance |

```http
HTTP/1.1 200 OK
For Global Trades:
{
"accountList": [
{
"id": 87035,
"name": "Martin Steve",
"accountNumber": "LA02-ELPMAS"
},
{
"id": 87036,
"name": "Martin Steve",
"accountNumber": "L522-ELPMAS"
},
{
"id": 87096,
"name": "Fallon Nancy",
"accountNumber": "L592-ELPMAS"
}
],
"portfolioList": [
{
"id": 11217205,
"name": "Martin, Steve"
}
],
"modelList": [
{
"id": 20,
"name": "Rebalancer Test model 1"
},
{
"id": 41,
"name": "Aggressive 80/20"
}
],
"tradeGroupList": [
{
"id": 21,
"name": "Accounts Standard query"
},
{
"id": 23,
"name": "Portfolio Advance query"
}
],
"isViewOnly": false,
"isExcelImport": true,
"securityList": [
{
"sellSecuritySymbol": "APA",
"buySecuritySymbol": "GLD Jan 18 2014 155.0 Call",
"percent": 70
},
{
"sellSecuritySymbol": "ODP",
"buySecuritySymbol": "TLT 110122C00093000",
"percent": 300
}
],
"notes": "Hello"
}
```

```http
HTTP/1.1 200 OK
For trade To target
{
"accountList": [
{
"id": 87105,
"name": "Ameritrade Ted and Mary",
"accountNumber": "L040000959"
}
],
"modelList": [],
"isViewOnly": true,
"isExcelImport": true,
"securityDetail": {
"id": 43846,
"name": "Abbvie Inc",
"symbol": "Abbvie Inc",
"targetPercent": 6,
"side": 1,
"isFullTrade": false,
"modelTypeId": null,
"reason": "To buy"
},
"preferencesDetail": {
"minimumTradePercent": null,
"minimumTradeDollar": null,
"allowWashSalesId": null,
"allowShortTermGainsId": null
}
}
```

```http
HTTP/1.1 200 OK
For ticker swap:
{
"accountList": [
{
"id": 87035,
"name": "Martin Steve",
"accountNumber": "LA02-ELPMAS"
},
{
"id": 87036,
"name": "Martin Steve",
"accountNumber": "L522-ELPMAS"
},
{
"id": 87096,
"name": "Fallon Nancy",
"accountNumber": "L592-ELPMAS"
}
],
"portfolioList": [
{
"id": 11217205,
"name": "Martin, Steve"
}
],
"modelList": [
{
"id": 20,
"name": "Rebalancer Test model 1"
},
{
"id": 41,
"name": "Aggressive 80/20"
}
],
"tradeGroupList": [
{
"id": 21,
"name": "Accounts Standard query"
},
{
"id": 23,
"name": "Portfolio Advance query"
}
],
"isViewOnly": false,
"isExcelImport": true,
"tickerList": [
{
"sellSecuritySymbol": "APA",
"buySecuritySymbol": "GLD Jan 18 2014 155.0 Call",
"percent": 70
},
{
"sellSecuritySymbol": "ODP",
"buySecuritySymbol": "TLT 110122C00093000",
"percent": 300
}
],
"swapOptions": {
"term": 1,
"gainLoss": 1,
"valueType": 0,
"value": 50,
"includeTaxDeferredExemptAccounts": false,
"reason": "Booking Profit and investing in under performed securities"
}
}
```

```http
HTTP/1.1 200 OK
FOR TLH:
{
"tradeList": [
{
"accountId": 86982,
"accountName": "Sleeves Howard",
"sellTickerId": 44162,
"sellTickerName": "CUSTODIAL_CASH",
"buyTickerId": 44162,
"buyTickerName": "CUSTODIAL_CASH",
"percent": 100,
"accountNumber": "LApmaS-7C6"
},
{
"accountId": 86982,
"accountName": "Sleeves Howard",
"sellTickerId": 44162,
"sellTickerName": "CUSTODIAL_CASH",
"buyTickerId": 44162,
"buyTickerName": "CUSTODIAL_CASH",
"percent": 100,
"accountNumber": "LApmaS-7C6"
},
{
"accountId": null,
"accountName": null,
"sellTickerId": null,
"sellTickerName": null,
"buyTickerId": null,
"buyTickerName": null,
"percent": 3000
}
],
"filter": {
"taxableAccountsOnly": 1,
"gainLoss": 2,
"term": 3,
"sign": 4,
"amount": 5,
"note": 6
}
}
```

```http
HTTP/1.1 200 OK
FOr CashNeeds
{
"tradeTool": "Cash Needs",
"reason": "test",
"portfolios": [
{
"id": 11217163,
"name": "Cash, Johnny and June"
}
]
}
```

```http
HTTP/1.1 200 OK
For RaiseCash
{
"tradeTool": "Raise Cash",
"cashTarget": null,
"raiseFullAmount": null,
"raiseCashMethod": "Sell Rebalance",
"isViewOnly": false,
"reason": null,
"isExcelImport": false,
"calculateAtSleevedPortfolio": "no",
"accounts": [
{
"id": 87078,
"name": "Arnold Peggy",
"accountNumber": "L0CC-ELPMAS",
"amount": 250
}
]
}
```

```http
HTTP/1.1 200 OK
For Spend Cash:
{
"tradeTool": "Spend Cash",
"spendCashMethod": "Buy Rebalance with Emphasis",
"reason": null,
"isExcelImport": false,
"calculateAtSleevedPortfolio": "no",
"emphasisOn": [
{
"id": 87038,
"name": "Knox Lucy",
"accountNumber": "LA0C-ELPMAS",
"nodeId": 3785,
"level": 0,
"amount": 185
}
]
}
```

```http
HTTP/1.1 200 OK
For Rebalance
{
"tradeTool": "Rebalancer",
"minimumTradeAmountType": "$",
"minimumTradeAmount": 2,
"allowWashSale": null,
"allowShortTermGain": null,
"isExcelImport": false,
"calculateAtSleevedPortfolio": "no",
"portfolios": [
{
"id": 11217281,
"name": "audit export test"
}
]
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


---

# Unallocated Blocks


## Add new trade

This API Add new trade

**POST** `https://baseurl/v1/tradeorder/blocks/unallocated/{blockId}/newAllocation`

**Permission:** `Add new trade`

```bash
curl -i http://baseurl/v1/tradeorder/blocks/unallocated/2/newAllocation
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| accoutId | Number | Account of the trade |
| actionId | Number | Trade action id |
| securityId | Number | Security Id |
| quantity | Number | Quantity of trade |

```json
{
"trades": [
{
"accountId": 961,
"actionId": 1,
"securityId": 5687,
"quantity": 0
}
]
}
```

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | Blocks order Id. |
| isEnabled | Boolean | Is Enabled value of trade |
| action: | String | Action contains either buy or sell. |
| orderQty: | Decimal | Number of shares to be sell or buy |
| orderType: | String | Block order Type |
| originalOrderQty | String | Original order quantity |
| sweepCash | Number | Sweep cash value |
| shareOwned | Number | Share Owned value |
| warningMessage | String | Warning message |
| price: | Decimal | The price used to stage the order. |
| custodian: | String | Name of custodian. |
| security_id: | Number | Block related security id. |
| security_name: | String | Security name |
| security_symbol: | String | Secirity symbol |
| security_securityType: | String | Security type name |
| account_id: | Number | Block related security id. |
| account_name: | String | account name |
| account_number: | String | account symbol |
| account_type: | String | account type name |
| portfolio_id: | Number | Portfolio id. |
| portfolio_name: | String | Porttfolio name |
| createdBy | String | Full Name of user who created the block order into the system. |
| createdDate | Date | Block creation date into application. |
| orderStatus_id | Number | Block order status id |
| orderStatus.name | Number | Block order status name |
| orderAmount | Number | Order amount value |
| orderPercent | Number | Order percent value |
| estimateAmount | Number | Estimated amount |
| instanceDescription | Number | instance description |
| tradingInstructions | Number | trading description |

```http
HTTP/1.1 200 OK
[
{
"id": 1057,
"isEnabled": 1,
"account": {
"id": 989,
"name": "Regression Testing *DO NOT DEMO* Cost Basis",
"number": "LGNIHSREP",
"type": "401K"
},
"originalOrderQty": 0,
"sweepCash": 155243.58,
"shareOwned": null,
"action": "SELL",
"orderQty": 20,
"orderAmount": 0,
"orderPercent": 0,
"estimateAmount": 0,
"orderType": null,
"price": null,
"createdBy": null,
"createdDate": "2016-12-30T07:18:07.000Z",
"custodian": "Pershing",
"security": {
"id": 6548,
"name": "Vipshop Hldgs Ltd Sr Conv Nt 1.50% 3/15/2019",
"symbol": "92763WAA1",
"securityType": "Bond"
},
"portfolio": {
"id": 560,
"name": "Klarke, Unique"
}
},
{
"id": 1058,
"isEnabled": 1,
"account": {
"id": 989,
"name": "Regression Testing *DO NOT DEMO* Cost Basis",
"number": "LGNIHSREP",
"type": "401K"
},
"originalOrderQty": 0,
"sweepCash": 155243.58,
"shareOwned": null,
"action": "SELL",
"orderQty": 30,
"orderAmount": 0,
"orderPercent": 0,
"estimateAmount": 0,
"orderType": null,
"price": null,
"createdBy": null,
"createdDate": "2016-12-30T07:18:07.000Z",
"custodian": "Pershing",
"security": {
"id": 6541,
"name": "Cash Amer Intl Inc Sr Nt 5.75% 5/15/2018",
"symbol": "14754DAG5",
"securityType": "Bond"
},
"portfolio": {
"id": 560,
"name": "Klarke, Unique"
}
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Add new trades through import

This API Add new trades through import.

**POST** `https://baseurl/v1/tradeorder/blocks/unallocated/:blockId/newAllocation/import`

**Permission:** `Add new trades through import`

```bash
curl -i http://baseurl/v1/tradeorder/blocks/unallocated/2/newAllocation/import
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| blockId | Number | Block ID. |

### Multipart/Form-Data

| Field | Type | Description |
|-------|------|-------------|
| trades | File | Name of file. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| error | String | Description about error. |
| isValid | Boolean | Trade is valid or not |
| actionId | String | Action id contains either buy or sell. |
| securityId: | Number | Block related security id. |
| accountId: | Number | Block related security id. |
| orderQty | Number | Order amount value |

```http
HTTP/1.1 200 OK
[
{
"accountId": 85923,
"securityId": 5638,
"orderQty": 0,
"actionId": 1,
"isValid": false,
"error": "Error- The Account does not exist, or you do not have rights to the specified account"
},
{
"accountId": 85924,
"securityId": 5638,
"orderQty": 0,
"actionId": 1,
"isValid": false,
"error": "Error- The Account does not exist, or you do not have rights to the specified account"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Allocate All unallocated blocks

This API Allocate All Unallocated blocks

**POST** `https://baseurl/v1/tradeorder/blocks/unallocated/action/allocateAll?markComplete=true`

**Permission:** `Allocate all unallocated blocks list`

```bash
curl -i http://baseurl/v1/tradeorder/blocks/unallocated/action/allocateAll?markComplete=true
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | Blocks order Id. |
| action: | String | Action contains either buy or sell. |
| needsAttention | String | needsAttention value |
| orderQty: | Decimal | Number of shares to be sell or buy |
| cumQty: | Decimal | The total number of shares that have been filled on the block order |
| leavesQty: | Decimal | The number of shares remaining to be filled on the block order |
| estimateAmount: | Decimal | Security Price * Order Qty |
| orderType: | String | Block order Type |
| price: | Decimal | The price used to stage the order. |
| avgPrice: | Decimal | The average execution price per share. |
| custodian: | String | Name of custodian. |
| security_id: | Number | Block related security id. |
| security_name: | String | Security name |
| security_symbol: | String | Secirity symbol |
| security_securityType: | String | Security type name |
| createdBy | String | Full Name of user who created the block order into the system. |
| createdDate | Date | Block creation date into application. |
| maturityDate | Date | Block maturity date. |
| allocationStatus_id | Number | Allocation status id |
| allocationStatus_name | Sring | Allocation status name |
| allocationId | Number | Allocation id |
| execInst | String | Block execution instructions |
| expireTime | Date | Block expiration time |
| fullSettDate | Date | Block full set trade |
| handlInst | String | Block handl instructions |
| isDiscretionary | Boolean | Block is discretionary |
| isAutoAllocate | Boolean | Tells whether the block order will automatically be allocated or not |
| longTermGain | Number | Block long term gain |
| masterAccountNumber | String | custodian master account |
| orderStatus_id | Number | Block order status id |
| orderStatus.name | Number | Block order status name |
| fixVersion | Number | Block fix version |
| settlementType.id | Number | Settlement type id |
| settlementType.name | Number | Settlement type name |
| cfiCode.id | Number | Cfi code id |
| cfiCode.name | Number | Cfi code name |
| positionEffect.id | Number | Position effect id |
| positionEffect.name | Number | Position effect name |
| orderCapacity.id | Number | Order Capacity effect id |
| orderCapacity.name | Number | Order Capacity name |
| clOrderId | Number |
| orderId | String | returned by the executing broker |
| pendingOrderStatus | String | Pending order status. |
| shortTermGain | Number | Block short term gain |
| stopPrice | Decimal | Block stop price |
| strikePrice | Decimal | Block strike price |
| limitPrice | Decimal | Block limitPrice |
| transactionTime | Date | Transation Time |
| isSolicited | Boolean | Block is solicited |
| isNeedAttention | Boolean | Block need attention or not |
| messageSequenceNumber | Number | Block message sequence number |
| lastPrice | Number | The price at which the last lot of the security was executed at |
| lastShare | Number | The number of shares in the last executed lot |
| lastText | String | Last message returned by the executing broker for the block order |
| lastTextType | String | This is used to indicate what type of message returned the last message |
| rejectreason | Sring | The reason why a block was rejected. |
| routing | Sring | Custodian.FixRouting. |
| cusip | Sring | The Cusip of the security being traded. Pulled from Security.Cusip column |
| blockName | Sring | A description of Action, Ticker and Status of the block order. |
| allocationRejectCode | Sring | The reason an allocation was rejected. |
| cancelRejectReason | Sring | The reason that a cancel request of the block order was rejected. |
| editedBy | Sring | Full Name of user who edited the block order into the system. |
| editedDate | Date | Block edit date into application. |
| tradedBy | Sring | User Name of the user who executes the block |

```http
HTTP/1.1 200 OK
[
{
"id": 2,
"action": "BUY",
"orderQty": 6,
"estimateAmount": 972,
"createdBy": "sales.main@orion.com",
"createdDate": "01/03/2017 09:56:53 AM",
"custodian": {
"id": 1,
"name": "Prime"
},
"security": {
"id": 5638,
"name": "iShares Core S&P Mid-Cap",
"symbol": "IJH",
"securityType": "Equity"
},
"orderStatus": {
"id": 4,
"name": "Filled"
},
"orderType": {
"id": 1,
"name": "Market"
},
"limitPrice": 8,
"stopPrice": 7,
"cumQty": null,
"leavesQty": null,
"avgPrice": null,
"rejectReason": null,
"masterAccountNumber": "123456",
"routing": null,
"isAutoAllocate": false,
"allocationRejectCode": null,
"allocationStatus": {
"id": 2,
"name": "Sent"
},
"blockName": "BUY IJH-Filled",
"cancelRejectReason": null,
"cfiCode": {
"id": 1,
"name": null,
"units": "Blank"
},
"clOrderId": null,
"cusip": null,
"duration": {
"id": 1,
"name": "Day"
},
"executionInst": null,
"expireTime": null,
"fixVersion": null,
"fullSettDate": null,
"handlInst": "Automated execution order, private, no Broker intervention",
"lastPrice": null,
"lastShare": null,
"lastText": null,
"lastTextType": "none",
"isDiscretionary": false,
"longTermGain": 1,
"messageSequenceNumber": 0,
"maturityDate": null,
"isNeedAttention": false,
"orderCapacity": {
"id": 2
},
"orderId": null,
"pendingOrderStatus": null,
"positionEffect": {
"id": 1
},
"settlementType": {
"id": 1,
"name": "Regular"
},
"shortTermGain": 1,
"isSolicited": true,
"strikePrice": 1,
"tradedBy": "sales.main@orion.com",
"transactionTime": null,
"canEdit": false,
"canExecute": false,
"editedBy": "sales.main@orion.com",
"editedDate": "01/04/2017 04:29:51 PM"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Allocate Block Orders

This API Allocate Block Order

**PUT** `https://baseurl/v1/tradeorder/blocks/unallocated/:blockId/trades/action/allocate?markComplete=true`

**Permission:** `Allocate Block Order`

```bash
curl -i http://baseurl/v1/tradeorder/blocks/unallocated/2/trades/action/allocate
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| id | Number | Blocks order Id. |
| orderQty: | Number | Number of shares to be sell or buy |

```json
{
"orders": [
{
"id": 1057,
"orderQty": 20
},
{
"id": 1058,
"orderQty": 20
}
]
}
```

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | Blocks order Id. |
| action: | String | Action contains either buy or sell. |
| needsAttention | String | needsAttention value |
| orderQty: | Decimal | Number of shares to be sell or buy |
| cumQty: | Decimal | The total number of shares that have been filled on the block order |
| leavesQty: | Decimal | The number of shares remaining to be filled on the block order |
| estimateAmount: | Decimal | Security Price * Order Qty |
| orderType: | String | Block order Type |
| price: | Decimal | The price used to stage the order. |
| avgPrice: | Decimal | The average execution price per share. |
| custodian: | String | Name of custodian. |
| security_id: | Number | Block related security id. |
| security_name: | String | Security name |
| security_symbol: | String | Secirity symbol |
| security_securityType: | String | Security type name |
| createdBy | String | Full Name of user who created the block order into the system. |
| createdDate | Date | Block creation date into application. |
| maturityDate | Date | Block maturity date. |
| allocationStatus_id | Number | Allocation status id |
| allocationStatus_name | Sring | Allocation status name |
| allocationId | Number | Allocation id |
| execInst | String | Block execution instructions |
| expireTime | Date | Block expiration time |
| fullSettDate | Date | Block full set trade |
| handlInst | String | Block handl instructions |
| isDiscretionary | Boolean | Block is discretionary |
| isAutoAllocate | Boolean | Tells whether the block order will automatically be allocated or not |
| longTermGain | Number | Block long term gain |
| masterAccountNumber | String | custodian master account |
| orderStatus_id | Number | Block order status id |
| orderStatus.name | Number | Block order status name |
| fixVersion | Number | Block fix version |
| settlementType.id | Number | Settlement type id |
| settlementType.name | Number | Settlement type name |
| cfiCode.id | Number | Cfi code id |
| cfiCode.name | Number | Cfi code name |
| positionEffect.id | Number | Position effect id |
| positionEffect.name | Number | Position effect name |
| orderCapacity.id | Number | Order Capacity effect id |
| orderCapacity.name | Number | Order Capacity name |
| clOrderId | Number |
| orderId | String | returned by the executing broker |
| pendingOrderStatus | String | Pending order status. |
| shortTermGain | Number | Block short term gain |
| stopPrice | Decimal | Block stop price |
| strikePrice | Decimal | Block strike price |
| limitPrice | Decimal | Block limitPrice |
| transactionTime | Date | Transation Time |
| isSolicited | Boolean | Block is solicited |
| isNeedAttention | Boolean | Block need attention or not |
| messageSequenceNumber | Number | Block message sequence number |
| lastPrice | Number | The price at which the last lot of the security was executed at |
| lastShare | Number | The number of shares in the last executed lot |
| lastText | String | Last message returned by the executing broker for the block order |
| lastTextType | String | This is used to indicate what type of message returned the last message |
| rejectreason | Sring | The reason why a block was rejected. |
| routing | Sring | Custodian.FixRouting. |
| cusip | Sring | The Cusip of the security being traded. Pulled from Security.Cusip column |
| blockName | Sring | A description of Action, Ticker and Status of the block order. |
| allocationRejectCode | Sring | The reason an allocation was rejected. |
| cancelRejectReason | Sring | The reason that a cancel request of the block order was rejected. |
| editedBy | Sring | Full Name of user who edited the block order into the system. |
| editedDate | Date | Block edit date into application. |
| tradedBy | Sring | User Name of the user who executes the block |

```http
HTTP/1.1 200 OK
[
{
"id": 2,
"action": "BUY",
"orderQty": 6,
"estimateAmount": 972,
"createdBy": "sales.main@orion.com",
"createdDate": "01/03/2017 09:56:53 AM",
"custodian": {
"id": 1,
"name": "Prime"
},
"security": {
"id": 5638,
"name": "iShares Core S&P Mid-Cap",
"symbol": "IJH",
"securityType": "Equity"
},
"orderStatus": {
"id": 4,
"name": "Filled"
},
"orderType": {
"id": 1,
"name": "Market"
},
"limitPrice": 8,
"stopPrice": 7,
"cumQty": null,
"leavesQty": null,
"avgPrice": null,
"rejectReason": null,
"masterAccountNumber": "123456",
"routing": null,
"isAutoAllocate": false,
"allocationRejectCode": null,
"allocationStatus": {
"id": 2,
"name": "Sent"
},
"blockName": "BUY IJH-Filled",
"cancelRejectReason": null,
"cfiCode": {
"id": 1,
"name": null,
"units": "Blank"
},
"clOrderId": null,
"cusip": null,
"duration": {
"id": 1,
"name": "Day"
},
"executionInst": null,
"expireTime": null,
"fixVersion": null,
"fullSettDate": null,
"handlInst": "Automated execution order, private, no Broker intervention",
"lastPrice": null,
"lastShare": null,
"lastText": null,
"lastTextType": "none",
"isDiscretionary": false,
"longTermGain": 1,
"messageSequenceNumber": 0,
"maturityDate": null,
"isNeedAttention": false,
"orderCapacity": {
"id": 2
},
"orderId": null,
"pendingOrderStatus": null,
"positionEffect": {
"id": 1
},
"settlementType": {
"id": 1,
"name": "Regular"
},
"shortTermGain": 1,
"isSolicited": true,
"strikePrice": 1,
"tradedBy": "sales.main@orion.com",
"transactionTime": null,
"canEdit": false,
"canExecute": false,
"editedBy": "sales.main@orion.com",
"editedDate": "01/04/2017 04:29:51 PM"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Allocate Multiple Block trades

This API Allocates Multiple Block orders

**PUT** `https://baseurl/v1/tradeorder/blocks/unallocated/trades/action/allocate`

**Permission:** `AllocateMultipleBlockTrades`

```bash
curl -i http://baseurl/v1/tradeorder/blocks/unallocated/trades/action/allocate?markComplete={true/false}
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| JWTToken | String | The JWT auth token. |
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| id | Number | Block Id. |
| order_id | Number | Blocks order Id. |
| orderQty: | Number | Number of shares to be sell or buy |

```json
{
"updatedBlocks": [
{
"id": 13,
"orders": [
{
"id": 13331,
"orderQty": 100
}
]
},
{
"id": 39,
"orders": [
{
"id": 13332,
"orderQty": 0
}
]
}
]
}
```

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | Blocks order Id. |
| action: | String | Action contains either buy or sell. |
| needsAttention | String | needsAttention value |
| orderQty: | Decimal | Number of shares to be sell or buy |
| cumQty: | Decimal | The total number of shares that have been filled on the block order |
| leavesQty: | Decimal | The number of shares remaining to be filled on the block order |
| estimateAmount: | Decimal | Security Price * Order Qty |
| orderType: | String | Block order Type |
| price: | Decimal | The price used to stage the order. |
| avgPrice: | Decimal | The average execution price per share. |
| custodian: | String | Name of custodian. |
| security_id: | Number | Block related security id. |
| security_name: | String | Security name |
| security_symbol: | String | Secirity symbol |
| security_securityType: | String | Security type name |
| createdBy | String | Full Name of user who created the block order into the system. |
| createdDate | Date | Block creation date into application. |
| maturityDate | Date | Block maturity date. |
| allocationStatus_id | Number | Allocation status id |
| allocationStatus_name | Sring | Allocation status name |
| allocationId | Number | Allocation id |
| execInst | String | Block execution instructions |
| expireTime | Date | Block expiration time |
| fullSettDate | Date | Block full set trade |
| handlInst | String | Block handl instructions |
| isDiscretionary | Boolean | Block is discretionary |
| isAutoAllocate | Boolean | Tells whether the block order will automatically be allocated or not |
| longTermGain | Number | Block long term gain |
| masterAccountNumber | String | custodian master account |
| orderStatus_id | Number | Block order status id |
| orderStatus.name | Number | Block order status name |
| fixVersion | Number | Block fix version |
| settlementType.id | Number | Settlement type id |
| settlementType.name | Number | Settlement type name |
| cfiCode.id | Number | Cfi code id |
| cfiCode.name | Number | Cfi code name |
| positionEffect.id | Number | Position effect id |
| positionEffect.name | Number | Position effect name |
| orderCapacity.id | Number | Order Capacity effect id |
| orderCapacity.name | Number | Order Capacity name |
| clOrderId | Number |
| orderId | String | returned by the executing broker |
| pendingOrderStatus | String | Pending order status. |
| shortTermGain | Number | Block short term gain |
| stopPrice | Decimal | Block stop price |
| strikePrice | Decimal | Block strike price |
| limitPrice | Decimal | Block limitPrice |
| transactionTime | Date | Transation Time |
| isSolicited | Boolean | Block is solicited |
| isNeedAttention | Boolean | Block need attention or not |
| messageSequenceNumber | Number | Block message sequence number |
| lastPrice | Number | The price at which the last lot of the security was executed at |
| lastShare | Number | The number of shares in the last executed lot |
| lastText | String | Last message returned by the executing broker for the block order |
| lastTextType | String | This is used to indicate what type of message returned the last message |
| rejectreason | Sring | The reason why a block was rejected. |
| routing | Sring | Custodian.FixRouting. |
| cusip | Sring | The Cusip of the security being traded. Pulled from Security.Cusip column |
| blockName | Sring | A description of Action, Ticker and Status of the block order. |
| allocationRejectCode | Sring | The reason an allocation was rejected. |
| cancelRejectReason | Sring | The reason that a cancel request of the block order was rejected. |
| editedBy | Sring | Full Name of user who edited the block order into the system. |
| editedDate | Date | Block edit date into application. |
| tradedBy | Sring | User Name of the user who executes the block |

```http
HTTP/1.1 200 OK
[
{
"block": {
"id": 13,
"action": {
"name": "SELL",
"id": 2
},
"orderQty": 0,
"security": {
"id": 44087,
"name": "Boeing Co",
"symbol": "BA",
"securityType": "Equity"
},
"estimateAmount": 0,
"limitPrice": 0,
"stopPrice": 0,
"cumQty": 0,
"leavesQty": 0,
"avgPrice": 0,
"allocationAmount": 0,
"allocationQuantity": 100
},
"orders": [
{
"id": 13331,
"isEnabled": 1,
"account": {
"id": 87077,
"name": "Brett Leslie",
"number": "L0C2-ELPMAS",
"type": "IND"
},
"originalOrderQty": 0,
"sweepCash": 0,
"shareOwned": null,
"action": null,
"orderQty": 100,
"orderAmount": 0,
"orderPercent": 40,
"estimateAmount": 0,
"orderType": null,
"price": null,
"createdBy": "Prime",
"createdDate": "2017-01-25T06:56:52.000Z",
"custodian": "Fidelity",
"security": {
"id": 44087,
"name": "Boeing Co",
"symbol": "BA",
"securityType": "Equity"
},
"portfolio": {
"id": 11217157,
"name": "Ameritrade, Ted and Mary"
}
}
],
"similarBlocks": []
},
{
"block": {
"id": 39,
"action": {
"name": "BUY",
"id": 1
},
"orderQty": 0,
"security": {
"id": 44034,
"name": "3M Company",
"symbol": "MMM",
"securityType": "CASH"
},
"estimateAmount": 0,
"limitPrice": 0,
"stopPrice": 0,
"cumQty": 0,
"leavesQty": 0,
"avgPrice": 0,
"allocationAmount": 0,
"allocationQuantity": 100
},
"orders": [
{
"id": 13332,
"isEnabled": 1,
"account": {
"id": 87077,
"name": "Brett Leslie",
"number": "L0C2-ELPMAS",
"type": "IND"
},
"originalOrderQty": 0,
"sweepCash": 0,
"shareOwned": null,
"action": null,
"orderQty": 100,
"orderAmount": 0,
"orderPercent": 40,
"estimateAmount": 0,
"orderType": null,
"price": null,
"createdBy": "Prime",
"createdDate": "2017-01-25T06:56:52.000Z",
"custodian": "Fidelity",
"security": {
"id": 44034,
"name": "3M Company",
"symbol": "MMM",
"securityType": "CASH"
},
"portfolio": {
"id": 11217157,
"name": "Ameritrade, Ted and Mary"
}
}
],
"similarBlocks": [
32,
11
]
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Allocate unallocated blocks

This API Allocate Unallocated blocks

**POST** `https://baseurl/v1/tradeorder/blocks/unallocated/action/allocate?markComplete=true`

**Permission:** `Allocate unallocated blocks list`

```bash
curl -i http://baseurl/v1/tradeorder/blocks/unallocated/action/allocate
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| id | Array | Array of block ids |

```json
{
"id": [
1,
2
]
}
```

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | Blocks order Id. |
| action: | String | Action contains either buy or sell. |
| needsAttention | String | needsAttention value |
| orderQty: | Decimal | Number of shares to be sell or buy |
| cumQty: | Decimal | The total number of shares that have been filled on the block order |
| leavesQty: | Decimal | The number of shares remaining to be filled on the block order |
| estimateAmount: | Decimal | Security Price * Order Qty |
| orderType: | String | Block order Type |
| price: | Decimal | The price used to stage the order. |
| avgPrice: | Decimal | The average execution price per share. |
| custodian: | String | Name of custodian. |
| security_id: | Number | Block related security id. |
| security_name: | String | Security name |
| security_symbol: | String | Secirity symbol |
| security_securityType: | String | Security type name |
| createdBy | String | Full Name of user who created the block order into the system. |
| createdDate | Date | Block creation date into application. |
| maturityDate | Date | Block maturity date. |
| allocationStatus_id | Number | Allocation status id |
| allocationStatus_name | Sring | Allocation status name |
| allocationId | Number | Allocation id |
| execInst | String | Block execution instructions |
| expireTime | Date | Block expiration time |
| fullSettDate | Date | Block full set trade |
| handlInst | String | Block handl instructions |
| isDiscretionary | Boolean | Block is discretionary |
| isAutoAllocate | Boolean | Tells whether the block order will automatically be allocated or not |
| longTermGain | Number | Block long term gain |
| masterAccountNumber | String | custodian master account |
| orderStatus_id | Number | Block order status id |
| orderStatus.name | Number | Block order status name |
| fixVersion | Number | Block fix version |
| settlementType.id | Number | Settlement type id |
| settlementType.name | Number | Settlement type name |
| cfiCode.id | Number | Cfi code id |
| cfiCode.name | Number | Cfi code name |
| positionEffect.id | Number | Position effect id |
| positionEffect.name | Number | Position effect name |
| orderCapacity.id | Number | Order Capacity effect id |
| orderCapacity.name | Number | Order Capacity name |
| clOrderId | Number |
| orderId | String | returned by the executing broker |
| pendingOrderStatus | String | Pending order status. |
| shortTermGain | Number | Block short term gain |
| stopPrice | Decimal | Block stop price |
| strikePrice | Decimal | Block strike price |
| limitPrice | Decimal | Block limitPrice |
| transactionTime | Date | Transation Time |
| isSolicited | Boolean | Block is solicited |
| isNeedAttention | Boolean | Block need attention or not |
| messageSequenceNumber | Number | Block message sequence number |
| lastPrice | Number | The price at which the last lot of the security was executed at |
| lastShare | Number | The number of shares in the last executed lot |
| lastText | String | Last message returned by the executing broker for the block order |
| lastTextType | String | This is used to indicate what type of message returned the last message |
| rejectreason | Sring | The reason why a block was rejected. |
| routing | Sring | Custodian.FixRouting. |
| cusip | Sring | The Cusip of the security being traded. Pulled from Security.Cusip column |
| blockName | Sring | A description of Action, Ticker and Status of the block order. |
| allocationRejectCode | Sring | The reason an allocation was rejected. |
| cancelRejectReason | Sring | The reason that a cancel request of the block order was rejected. |
| editedBy | Sring | Full Name of user who edited the block order into the system. |
| editedDate | Date | Block edit date into application. |
| tradedBy | Sring | User Name of the user who executes the block |

```http
HTTP/1.1 200 OK
[
{
"id": 2,
"action": "BUY",
"orderQty": 6,
"estimateAmount": 972,
"createdBy": "sales.main@orion.com",
"createdDate": "01/03/2017 09:56:53 AM",
"custodian": {
"id": 1,
"name": "Prime"
},
"security": {
"id": 5638,
"name": "iShares Core S&P Mid-Cap",
"symbol": "IJH",
"securityType": "Equity"
},
"orderStatus": {
"id": 4,
"name": "Filled"
},
"orderType": {
"id": 1,
"name": "Market"
},
"limitPrice": 8,
"stopPrice": 7,
"cumQty": null,
"leavesQty": null,
"avgPrice": null,
"rejectReason": null,
"masterAccountNumber": "123456",
"routing": null,
"isAutoAllocate": false,
"allocationRejectCode": null,
"allocationStatus": {
"id": 2,
"name": "Sent"
},
"blockName": "BUY IJH-Filled",
"cancelRejectReason": null,
"cfiCode": {
"id": 1,
"name": null,
"units": "Blank"
},
"clOrderId": null,
"cusip": null,
"duration": {
"id": 1,
"name": "Day"
},
"executionInst": null,
"expireTime": null,
"fixVersion": null,
"fullSettDate": null,
"handlInst": "Automated execution order, private, no Broker intervention",
"lastPrice": null,
"lastShare": null,
"lastText": null,
"lastTextType": "none",
"isDiscretionary": false,
"longTermGain": 1,
"messageSequenceNumber": 0,
"maturityDate": null,
"isNeedAttention": false,
"orderCapacity": {
"id": 2
},
"orderId": null,
"pendingOrderStatus": null,
"positionEffect": {
"id": 1
},
"settlementType": {
"id": 1,
"name": "Regular"
},
"shortTermGain": 1,
"isSolicited": true,
"strikePrice": 1,
"tradedBy": "sales.main@orion.com",
"transactionTime": null,
"canEdit": false,
"canExecute": false,
"editedBy": "sales.main@orion.com",
"editedDate": "01/04/2017 04:29:51 PM"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Check block validity for action

This API Check block validity for action

**POST** `https://baseurl/v1tradeorder/blocks/unallocated/validate?type={quickAllocate/markComplete/tradeFile}`

**Permission:** `Check block validity for action`

```bash
curl -i http://baseurl/v1/tradeorder/blocks/unallocated/validate?type=markComplete
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| id | Array | Array of block ids to check |

```json
{
"id": [
1,
2,
3,
4,
5,
6
]
}
```

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| notEligible | Array | Not eligible block Id for action |

```http
HTTP/1.1 200 OK
{
"notEligible": [
2,
4
]
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get All unallocated blocks count

This API get all unallocated block list.

**GET** `https://baseurl/v1/tradeorder/blocks/unallocated/count`

**Permission:** `Get unallocated blocks count`

```bash
curl -i http://baseurl/v1/tradeorder/blocks/unallocated/count
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| unallocatedBlocks | Number | Unallocated blocks count |

```http
HTTP/1.1 200 OK
{
"unallocatedBlocks": 0
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get All unallocated blocks

This API get all unallocated block list.

**GET** `https://baseurl/v1/tradeorder/blocks/unallocated`

**Permission:** `Get unallocated blocks list`

```bash
curl -i http://baseurl/v1/tradeorder/blocks/unallocated
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | Blocks order Id. |
| action: | String | Action contains either buy or sell. |
| needsAttention | String | needsAttention value |
| orderQty: | Decimal | Number of shares to be sell or buy |
| cumQty: | Decimal | The total number of shares that have been filled on the block order |
| leavesQty: | Decimal | The number of shares remaining to be filled on the block order |
| estimateAmount: | Decimal | Security Price * Order Qty |
| orderType: | String | Block order Type |
| price: | Decimal | The price used to stage the order. |
| avgPrice: | Decimal | The average execution price per share. |
| custodian: | String | Name of custodian. |
| security_id: | Number | Block related security id. |
| security_name: | String | Security name |
| security_symbol: | String | Secirity symbol |
| security_securityType: | String | Security type name |
| createdBy | String | Full Name of user who created the block order into the system. |
| createdDate | Date | Block creation date into application. |
| maturityDate | Date | Block maturity date. |
| allocationStatus_id | Number | Allocation status id |
| allocationStatus_name | Sring | Allocation status name |
| allocationId | Number | Allocation id |
| execInst | String | Block execution instructions |
| expireTime | Date | Block expiration time |
| fullSettDate | Date | Block full set trade |
| handlInst | String | Block handl instructions |
| isDiscretionary | Boolean | Block is discretionary |
| isAutoAllocate | Boolean | Tells whether the block order will automatically be allocated or not |
| longTermGain | Number | Block long term gain |
| masterAccountNumber | String | custodian master account |
| orderStatus_id | Number | Block order status id |
| orderStatus.name | Number | Block order status name |
| fixVersion | Number | Block fix version |
| settlementType.id | Number | Settlement type id |
| settlementType.name | Number | Settlement type name |
| cfiCode.id | Number | Cfi code id |
| cfiCode.name | Number | Cfi code name |
| positionEffect.id | Number | Position effect id |
| positionEffect.name | Number | Position effect name |
| orderCapacity.id | Number | Order Capacity effect id |
| orderCapacity.name | Number | Order Capacity name |
| clOrderId | Number |
| orderId | String | returned by the executing broker |
| pendingOrderStatus | String | Pending order status. |
| shortTermGain | Number | Block short term gain |
| stopPrice | Decimal | Block stop price |
| strikePrice | Decimal | Block strike price |
| limitPrice | Decimal | Block limitPrice |
| transactionTime | Date | Transation Time |
| isSolicited | Boolean | Block is solicited |
| isNeedAttention | Boolean | Block need attention or not |
| messageSequenceNumber | Number | Block message sequence number |
| lastPrice | Number | The price at which the last lot of the security was executed at |
| lastShare | Number | The number of shares in the last executed lot |
| lastText | String | Last message returned by the executing broker for the block order |
| lastTextType | String | This is used to indicate what type of message returned the last message |
| rejectreason | Sring | The reason why a block was rejected. |
| routing | Sring | Custodian.FixRouting. |
| cusip | Sring | The Cusip of the security being traded. Pulled from Security.Cusip column |
| blockName | Sring | A description of Action, Ticker and Status of the block order. |
| allocationRejectCode | Sring | The reason an allocation was rejected. |
| cancelRejectReason | Sring | The reason that a cancel request of the block order was rejected. |
| editedBy | Sring | Full Name of user who edited the block order into the system. |
| editedDate | Date | Block edit date into application. |
| tradedBy | Sring | User Name of the user who executes the block |

```http
HTTP/1.1 200 OK
[
{
"id": 53796,
"needsAttention": "success",
"action": "Sell",
"orderQty": 682.0,
"allocationStatus": "Sent",
"ticker": "TWTR",
"security":"",
"estAmount":0.00,
"orderStatus": "Filled",
"orderType": "Market",
"limitPrice": 0.0,
"cumQty": 682.0,
"leavesQty": 0.0,
"avgPrice": 80.66,
"blockRejReason":"",
"createdBy":"",
"createdDate":"",
"custodianId": 10,
"routing":"",
"autoAllocate": true,
"custodianName": "TD Ameritrade",
"allocationRejCode": "",
"allocationId": "968089",
"blockName": "Sell TWTR - Filled",
"cancelRejReason":"",
"cfiCode": "",
"clOrdId": "509.53796.0",
"cusip":"",
"duration": "Day",
"editedBy": "FIX_Trading",
"editedDate": "2017-01-02T02:09:47.92-06:00",
"execInst": "None",
"expireTime": null,
"fixVersion": "FIX.4.4",
"fullSettlementDate": null,
"gainLossNotCalced":0,
"handlInst": "Automated execution order, private, no Broker intervention",
"lastPrice": null,
"lastShares": 682.0,
"lastText": "Fill Execution",
"lastTextType": 1,
"locateReqd": false,
"longTermGain": null,
"masterAccountNumber": "123456789",
"maturityDate": null,
"msgSequenceNumber": 0,
"orderCapacity": "",
"orderId": "order-33829171635414003",
"pendingOrderStatus":"",
"positionEffect": "",
"securityId":"",
"securityType":"",
"settlementTyp": "Regular",
"shortTermGain": null,
"solicited": false,
"stopPrice": 0.0,
"strikePrice": 0.0000,
"tradedBy": "primetgi",
"transactTime": "2017-01-02T02:09:42-06:00"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get fee details of block

This API get all fees.

**GET** `https://baseurl/v1/tradeorder/blocks/unallocated/{blockId}/fees`

**Permission:** `Get fees of all the trades with specified BlockId`

```bash
curl -i http://baseurl/v1/tradeorder/blocks/unallocated/10/fees
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | Blocks order Id. |
| accountNumber | String | Account Number of the orders associated with the block. |
| registrationName | String | Registration name of the orders associated with the block. |
| accountType | String | Account Type of the orders associated with the block. |
| orderQty | Number | Order Quantity |
| regulatory | Number | Regulatory Value |
| tax | Number | Tax value |
| localCommission | String | Local commisison |
| exchange | String | Exchange |
| stamp | Date | Stamp |
| levy | Date | Levy value. |
| other | Number | Other value. |
| commission | Sring | Commisison value. |
| allocationId | Number | Allocation id |

```http
HTTP/1.1 200 OK
[
{
"id": 1,
"accountNumber": "sample string 2",
"registrationName": "sample string 3",
"accountType": "sample string 4",
"orderQty": 5.1,
"regulatory": 1.1,
"tax": 1.1,
"localCommission": 1.1,
"exchange": 1.1,
"stamp": 1.1,
"levy": 1.1,
"other": 1.1,
"commission": 1.1,
},
{
"id": 1,
"accountNumber": "sample string 2",
"registrationName": "sample string 3",
"accountType": "sample string 4",
"orderQty": 5.1,
"regulatory": 1.1,
"tax": 1.1,
"localCommission": 1.1,
"exchange": 1.1,
"stamp": 1.1,
"levy": 1.1,
"other": 1.1,
"commission": 1.1,
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get fix logs of block

This API get fix messages.

**GET** `https://baseurl/v1/tradeorder/blocks/unallocated/{blockId}/fixlogs`

**Permission:** `Get fix messages`

```bash
curl -i http://baseurl/v1/tradeorder/blocks/unallocated/1/fixlogs
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | Blocks order log id. |
| fixBlockOrderId | Number | Trade block id |
| msgType | Number | Message type id |
| logType | Number | logType id |
| createdDate | Date | Date of creation of log |
| blockName | String | name of block |
| details_tagId | Number | Fix message id |
| details_fixName | String | name of fix |
| details_value | String | value |
| details_logText | String | Logtext of block |

```http
HTTP/1.1 200 OK
[{
"id": 1,
"fixBlockOrderId": 2,
"msgType": 2,
"logType": 4,
"createdDate": "2017-01-03T00:22:32.8969903-06:00",
"blockName": "sample string 6",
"details": [
{
"tagId": 1,
"fixName": "sample string 2",
"value": "sample string 3"
},
{
"tagId": 1,
"fixName": "sample string 2",
"value": "sample string 3"
}
],
"logText": "sample string 7"
},
{
"id": 1,
"fixBlockOrderId": 2,
"msgType": "sample string 3",
"logType": 4,
"createdDate": "2017-01-03T00:22:32.8969903-06:00",
"blockName": "sample string 6",
"details": [
{
"tagId": 1,
"fixName": "sample string 2",
"value": "sample string 3"
},
{
"tagId": 1,
"fixName": "sample string 2",
"value": "sample string 3"
}
],
"logText": "sample string 7"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get list of trades of block

This API gets trade details byblock id.

**GET** `https://baseurl/v1/tradeorder/blocks/unallocated/{blockId}/trades`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/tradeorder/blocks/unallocated/1/trades
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| block_estimateAmount | Number | value of block estimated amount |
| block_limitPrice | Number | value of limited price |
| block_stopPrice | Number | stop price value |
| block_cumQty | Number | cum Qty value |
| block_leavesQty | Number | leave quantity |
| block_avgPrice | Number | average price |
| block_id | Number | Block id |
| block_action | String | Action value of block |
| block_orderQty | Number | Order quantity of block |
| block_security_id: | Number | Block related security id. |
| block_security_name: | String | Security name |
| block_security_symbol: | String | Security symbol |
| block_security_securityType: | String | Security type name |
| block_allocationAmount | Number | Total allocation amount of all underlying trades |
| block_allocationQuantity | Number | Total allocation quantity of all underlying trades |
| orders_id | Number | Blocks order Id. |
| orders_isEnabled | Boolean | Is Enabled value of trade |
| orders_action: | String | Action contains either buy or sell. |
| orders_orderQty: | Decimal | Number of shares to be sell or buy |
| orders_orderType: | String | Block order Type |
| orders_originalOrderQty | String | Original order quantity |
| orders_sweepCash | Number | Sweep cash value |
| orders_shareOwned | Number | Share Owned value |
| orders_warningMessage | String | Warning message |
| orders_price: | Decimal | The price used to stage the order. |
| orders_custodian: | String | Name of custodian. |
| orders_security_id: | Number | Block related security id. |
| orders_security_name: | String | Security name |
| orders_security_symbol: | String | Security symbol |
| orders_security_securityType: | String | Security type name |
| orders_account_id: | Number | Block related security id. |
| orders_account_name: | String | account name |
| orders_account_number: | String | account symbol |
| orders_account_type: | String | account type name |
| orders_portfolio_id: | Number | Portfolio id. |
| orders_portfolio_name: | String | Porttfolio name |
| orders_createdBy | String | Full Name of user who created the block order into the system. |
| orders_createdDate | Date | Block creation date into application. |
| orders_orderStatus_id | Number | Block order status id |
| orders_orderStatus.name | Number | Block order status name |
| orders_orderAmount | Number | Order amount value |
| orders_orderPercent | Number | Order percent value |
| orders_estimateAmount | Number | Estimated amount |
| orders_instanceDescription | Number | instance description |
| orders_tradingInstructions | Number | trading description |
| similarBlocks | Array | List of all similar blocks |

```http
HTTP/1.1 200 OK
{
"block": {
"id": 1,
"action": "BUY",
"orderQty": 6,
"security": {
"id": 5661,
"name": "American Intl Group Inc",
"symbol": "AIG",
"securityType": "Equity"
},
"estimateAmount": 12,
"limitPrice": 8,
"stopPrice": 7,
"cumQty": 0,
"leavesQty": 0,
"avgPrice": 0
},
"orders": [
{
"id": 895,
"isEnabled": null,
"account": {
"id": 949,
"name": "Jefferson Thomas and Martha",
"number": "L60A-ELPMAS",
"type": "JNT"
},
"originalOrderQty": 0,
"sweepCash": 0,
"shareOwned": null,
"warningMessage": null,
"action": null,
"orderQty": 0,
"orderAmount": 0,
"orderPercent": 1,
"cashValuePostTrade": 18627.7,
"estimateAmount": 0,
"orderType": 1,
"price": null,
"createdBy": "Sales",
"createdDate": "2016-12-30T10:21:09.000Z",
"instanceDescription": null,
"tradingInstructions": null,
"custodian": "Schwab",
"security": {
"id": 5661,
"name": "American Intl Group Inc",
"symbol": "AIG",
"securityType": "Equity"
},
"portfolio": {
"id": 548,
"name": "Group A"
}
},
{
"id": 1434,
"isEnabled": null,
"account": {
"id": 1021,
"name": "Franklin Benjamin",
"number": "L04A-ELPMAS",
"type": "IND"
},
"originalOrderQty": 451,
"sweepCash": 0,
"shareOwned": null,
"warningMessage": null,
"action": null,
"orderQty": 450.7,
"orderAmount": 0,
"orderPercent": 124.51,
"cashValuePostTrade": -8081.01,
"estimateAmount": 0,
"orderType": 1,
"price": null,
"createdBy": "Sales",
"createdDate": "2017-01-02T13:13:15.000Z",
"instanceDescription": null,
"tradingInstructions": null,
"custodian": "TD Ameritrade",
"security": {
"id": 5937,
"name": "DFA Five Year Global Fixed Income",
"symbol": "DFGBX",
"securityType": "Mutual Fund"
},
"portfolio": {
"id": 592,
"name": "Group A"
}
}
],
"similarBlocks": []
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Save Block orders

This API Save Block orders

**PUT** `https://baseurl/v1/tradeorder/blocks/unallocated/:blockId/trades/action/save`

**Permission:** `Save Block orders`

```bash
curl -i http://baseurl/v1/tradeorder/blocks/unallocated/2/trades/action/save
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| id | Number | Blocks order Id. |
| orderQty: | Number | Number of shares to be sell or buy |

```json
{
"orders": [
{
"id": 1057,
"orderQty": 20
},
{
"id": 1058,
"orderQty": 20
}
]
}
```

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | Blocks order Id. |
| action: | String | Action contains either buy or sell. |
| needsAttention | String | needsAttention value |
| orderQty: | Decimal | Number of shares to be sell or buy |
| cumQty: | Decimal | The total number of shares that have been filled on the block order |
| leavesQty: | Decimal | The number of shares remaining to be filled on the block order |
| estimateAmount: | Decimal | Security Price * Order Qty |
| orderType: | String | Block order Type |
| price: | Decimal | The price used to stage the order. |
| avgPrice: | Decimal | The average execution price per share. |
| custodian: | String | Name of custodian. |
| security_id: | Number | Block related security id. |
| security_name: | String | Security name |
| security_symbol: | String | Secirity symbol |
| security_securityType: | String | Security type name |
| createdBy | String | Full Name of user who created the block order into the system. |
| createdDate | Date | Block creation date into application. |
| maturityDate | Date | Block maturity date. |
| allocationStatus_id | Number | Allocation status id |
| allocationStatus_name | Sring | Allocation status name |
| allocationId | Number | Allocation id |
| execInst | String | Block execution instructions |
| expireTime | Date | Block expiration time |
| fullSettDate | Date | Block full set trade |
| handlInst | String | Block handl instructions |
| isDiscretionary | Boolean | Block is discretionary |
| isAutoAllocate | Boolean | Tells whether the block order will automatically be allocated or not |
| longTermGain | Number | Block long term gain |
| masterAccountNumber | String | custodian master account |
| orderStatus_id | Number | Block order status id |
| orderStatus.name | Number | Block order status name |
| fixVersion | Number | Block fix version |
| settlementType.id | Number | Settlement type id |
| settlementType.name | Number | Settlement type name |
| cfiCode.id | Number | Cfi code id |
| cfiCode.name | Number | Cfi code name |
| positionEffect.id | Number | Position effect id |
| positionEffect.name | Number | Position effect name |
| orderCapacity.id | Number | Order Capacity effect id |
| orderCapacity.name | Number | Order Capacity name |
| clOrderId | Number |
| orderId | String | returned by the executing broker |
| pendingOrderStatus | String | Pending order status. |
| shortTermGain | Number | Block short term gain |
| stopPrice | Decimal | Block stop price |
| strikePrice | Decimal | Block strike price |
| limitPrice | Decimal | Block limitPrice |
| transactionTime | Date | Transation Time |
| isSolicited | Boolean | Block is solicited |
| isNeedAttention | Boolean | Block need attention or not |
| messageSequenceNumber | Number | Block message sequence number |
| lastPrice | Number | The price at which the last lot of the security was executed at |
| lastShare | Number | The number of shares in the last executed lot |
| lastText | String | Last message returned by the executing broker for the block order |
| lastTextType | String | This is used to indicate what type of message returned the last message |
| rejectreason | Sring | The reason why a block was rejected. |
| routing | Sring | Custodian.FixRouting. |
| cusip | Sring | The Cusip of the security being traded. Pulled from Security.Cusip column |
| blockName | Sring | A description of Action, Ticker and Status of the block order. |
| allocationRejectCode | Sring | The reason an allocation was rejected. |
| cancelRejectReason | Sring | The reason that a cancel request of the block order was rejected. |
| editedBy | Sring | Full Name of user who edited the block order into the system. |
| editedDate | Date | Block edit date into application. |
| tradedBy | Sring | User Name of the user who executes the block |

```http
HTTP/1.1 200 OK
[
{
"id": 2,
"action": "BUY",
"orderQty": 6,
"estimateAmount": 972,
"createdBy": "sales.main@orion.com",
"createdDate": "01/03/2017 09:56:53 AM",
"custodian": {
"id": 1,
"name": "Prime"
},
"security": {
"id": 5638,
"name": "iShares Core S&P Mid-Cap",
"symbol": "IJH",
"securityType": "Equity"
},
"orderStatus": {
"id": 4,
"name": "Filled"
},
"orderType": {
"id": 1,
"name": "Market"
},
"limitPrice": 8,
"stopPrice": 7,
"cumQty": null,
"leavesQty": null,
"avgPrice": null,
"rejectReason": null,
"masterAccountNumber": "123456",
"routing": null,
"isAutoAllocate": false,
"allocationRejectCode": null,
"allocationStatus": {
"id": 2,
"name": "Sent"
},
"blockName": "BUY IJH-Filled",
"cancelRejectReason": null,
"cfiCode": {
"id": 1,
"name": null,
"units": "Blank"
},
"clOrderId": null,
"cusip": null,
"duration": {
"id": 1,
"name": "Day"
},
"executionInst": null,
"expireTime": null,
"fixVersion": null,
"fullSettDate": null,
"handlInst": "Automated execution order, private, no Broker intervention",
"lastPrice": null,
"lastShare": null,
"lastText": null,
"lastTextType": "none",
"isDiscretionary": false,
"longTermGain": 1,
"messageSequenceNumber": 0,
"maturityDate": null,
"isNeedAttention": false,
"orderCapacity": {
"id": 2
},
"orderId": null,
"pendingOrderStatus": null,
"positionEffect": {
"id": 1
},
"settlementType": {
"id": 1,
"name": "Regular"
},
"shortTermGain": 1,
"isSolicited": true,
"strikePrice": 1,
"tradedBy": "sales.main@orion.com",
"transactionTime": null,
"canEdit": false,
"canExecute": false,
"editedBy": "sales.main@orion.com",
"editedDate": "01/04/2017 04:29:51 PM"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Save Multiple Block orders

This API Save Block orders

**PUT** `https://baseurl/v1/tradeorder/blocks/unallocated/trades/action/save`

**Permission:** `SaveMultipleBlockOrders`

```bash
curl -i http://baseurl/v1/tradeorder/blocks/unallocated/trades/action/save
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| JWTToken | String | The JWT auth token. |
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| id | Number | Block Id. |
| order_id | Number | Blocks order Id. |
| orderQty: | Number | Number of shares to be sell or buy |

```json
{
"updatedBlocks": [
{
"id": 13,
"orders": [
{
"id": 13331,
"orderQty": 100
}
]
},
{
"id": 39,
"orders": [
{
"id": 13332,
"orderQty": 100
}
]
}
]
}
```

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | Blocks order Id. |
| action: | String | Action contains either buy or sell. |
| needsAttention | String | needsAttention value |
| orderQty: | Decimal | Number of shares to be sell or buy |
| cumQty: | Decimal | The total number of shares that have been filled on the block order |
| leavesQty: | Decimal | The number of shares remaining to be filled on the block order |
| estimateAmount: | Decimal | Security Price * Order Qty |
| orderType: | String | Block order Type |
| price: | Decimal | The price used to stage the order. |
| avgPrice: | Decimal | The average execution price per share. |
| custodian: | String | Name of custodian. |
| security_id: | Number | Block related security id. |
| security_name: | String | Security name |
| security_symbol: | String | Secirity symbol |
| security_securityType: | String | Security type name |
| createdBy | String | Full Name of user who created the block order into the system. |
| createdDate | Date | Block creation date into application. |
| maturityDate | Date | Block maturity date. |
| allocationStatus_id | Number | Allocation status id |
| allocationStatus_name | Sring | Allocation status name |
| allocationId | Number | Allocation id |
| execInst | String | Block execution instructions |
| expireTime | Date | Block expiration time |
| fullSettDate | Date | Block full set trade |
| handlInst | String | Block handl instructions |
| isDiscretionary | Boolean | Block is discretionary |
| isAutoAllocate | Boolean | Tells whether the block order will automatically be allocated or not |
| longTermGain | Number | Block long term gain |
| masterAccountNumber | String | custodian master account |
| orderStatus_id | Number | Block order status id |
| orderStatus.name | Number | Block order status name |
| fixVersion | Number | Block fix version |
| settlementType.id | Number | Settlement type id |
| settlementType.name | Number | Settlement type name |
| cfiCode.id | Number | Cfi code id |
| cfiCode.name | Number | Cfi code name |
| positionEffect.id | Number | Position effect id |
| positionEffect.name | Number | Position effect name |
| orderCapacity.id | Number | Order Capacity effect id |
| orderCapacity.name | Number | Order Capacity name |
| clOrderId | Number |
| orderId | String | returned by the executing broker |
| pendingOrderStatus | String | Pending order status. |
| shortTermGain | Number | Block short term gain |
| stopPrice | Decimal | Block stop price |
| strikePrice | Decimal | Block strike price |
| limitPrice | Decimal | Block limitPrice |
| transactionTime | Date | Transation Time |
| isSolicited | Boolean | Block is solicited |
| isNeedAttention | Boolean | Block need attention or not |
| messageSequenceNumber | Number | Block message sequence number |
| lastPrice | Number | The price at which the last lot of the security was executed at |
| lastShare | Number | The number of shares in the last executed lot |
| lastText | String | Last message returned by the executing broker for the block order |
| lastTextType | String | This is used to indicate what type of message returned the last message |
| rejectreason | Sring | The reason why a block was rejected. |
| routing | Sring | Custodian.FixRouting. |
| cusip | Sring | The Cusip of the security being traded. Pulled from Security.Cusip column |
| blockName | Sring | A description of Action, Ticker and Status of the block order. |
| allocationRejectCode | Sring | The reason an allocation was rejected. |
| cancelRejectReason | Sring | The reason that a cancel request of the block order was rejected. |
| editedBy | Sring | Full Name of user who edited the block order into the system. |
| editedDate | Date | Block edit date into application. |
| tradedBy | Sring | User Name of the user who executes the block |

```http
HTTP/1.1 200 OK
[
{
"block": {
"id": 13,
"action": {
"name": "SELL",
"id": 2
},
"orderQty": 0,
"security": {
"id": 44087,
"name": "Boeing Co",
"symbol": "BA",
"securityType": "Equity"
},
"estimateAmount": 0,
"limitPrice": 0,
"stopPrice": 0,
"cumQty": 0,
"leavesQty": 0,
"avgPrice": 0,
"allocationAmount": 0,
"allocationQuantity": 100
},
"orders": [
{
"id": 13331,
"isEnabled": 1,
"account": {
"id": 87077,
"name": "Brett Leslie",
"number": "L0C2-ELPMAS",
"type": "IND"
},
"originalOrderQty": 0,
"sweepCash": 0,
"shareOwned": null,
"action": null,
"orderQty": 100,
"orderAmount": 0,
"orderPercent": 40,
"estimateAmount": 0,
"orderType": null,
"price": null,
"createdBy": "Prime",
"createdDate": "2017-01-25T06:56:52.000Z",
"custodian": "Fidelity",
"security": {
"id": 44087,
"name": "Boeing Co",
"symbol": "BA",
"securityType": "Equity"
},
"portfolio": {
"id": 11217157,
"name": "Ameritrade, Ted and Mary"
}
}
],
"similarBlocks": []
},
{
"block": {
"id": 39,
"action": {
"name": "BUY",
"id": 1
},
"orderQty": 0,
"security": {
"id": 44034,
"name": "3M Company",
"symbol": "MMM",
"securityType": "CASH"
},
"estimateAmount": 0,
"limitPrice": 0,
"stopPrice": 0,
"cumQty": 0,
"leavesQty": 0,
"avgPrice": 0,
"allocationAmount": 0,
"allocationQuantity": 100
},
"orders": [
{
"id": 13332,
"isEnabled": 1,
"account": {
"id": 87077,
"name": "Brett Leslie",
"number": "L0C2-ELPMAS",
"type": "IND"
},
"originalOrderQty": 0,
"sweepCash": 0,
"shareOwned": null,
"action": null,
"orderQty": 100,
"orderAmount": 0,
"orderPercent": 40,
"estimateAmount": 0,
"orderType": null,
"price": null,
"createdBy": "Prime",
"createdDate": "2017-01-25T06:56:52.000Z",
"custodian": "Fidelity",
"security": {
"id": 44034,
"name": "3M Company",
"symbol": "MMM",
"securityType": "CASH"
},
"portfolio": {
"id": 11217157,
"name": "Ameritrade, Ted and Mary"
}
}
],
"similarBlocks": [
32,
11
]
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Update fee details of block

This API get all fees.

**PUT** `https://baseurl/v1/tradeorder/blocks/unallocated/{blockId}/fees`

**Permission:** `Update fees of all the trades with specified BlockId`

```bash
curl -i http://baseurl/v1/tradeorder/blocks/unallocated/2/fees
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

```json
{
"orders":[{
"id": 1,
"orderId":1,
"accountNumber": "sample string 2",
"registrationName": "sample string 3",
"accountType": "sample string 4",
"orderQty": 5.1,
"regulatory": 1.1,
"tax": 1.1,
"localCommission": 1.1,
"exchange": 1.1,
"stamp": 1.1,
"levy": 1.1,
"other": 1.1,
"commission": 1.1,
},
{
"id": 1,
"orderId":1,
"accountNumber": "sample string 2",
"registrationName": "sample string 3",
"accountType": "sample string 4",
"orderQty": 5.1,
"regulatory": 1.1,
"tax": 1.1,
"localCommission": 1.1,
"exchange": 1.1,
"stamp": 1.1,
"levy": 1.1,
"other": 1.1,
"commission": 1.1,
}]
}
```

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| orderId | Number | Blocks order Id. |
| id | Number | Autoincemented id of fee. |
| accountNumber | String | Account Number of the orders associated with the block. |
| registrationName | String | Registration name of the orders associated with the block. |
| accountType | String | Account Type of the orders associated with the block. |
| orderQty | Number | Order Quantity |
| regulatory | Number | Regulatory Value |
| tax | Number | Tax value |
| localCommission | String | Local commisison |
| exchange | String | Exchange |
| stamp | Date | Stamp |
| levy | Date | Levy value. |
| other | Number | Other value. |
| commission | Sring | Commisison value. |
| allocationId | Number | Allocation id |

```http
HTTP/1.1 200 OK
[
{
"id": 18,
"orderId": 1057,
"accountNumber": "LGNIHSREP",
"registrationName": "Regression Testing *DO NOT DEMO* Cost Basis",
"accountType": "401K",
"orderQty": 20,
"regulatory": 20,
"tax": 10,
"localCommission": 10,
"exchange": 10,
"stamp": 10,
"levy": 10,
"other": 10,
"commission": 10
},
{
"id": 19,
"orderId": 1058,
"accountNumber": "LGNIHSREP",
"registrationName": "Regression Testing *DO NOT DEMO* Cost Basis",
"accountType": "401K",
"orderQty": 20,
"regulatory": 10,
"tax": 30,
"localCommission": 30,
"exchange": 30,
"stamp": 30,
"levy": 30,
"other": 30,
"commission": 30
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


---

# Views


## Add new View

This API adds new View.

**POST** `https://baseurl/v1/settings/views/`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/settings/views/
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| name | String | Name of the View. |
| viewTypeId | Number | View type Id. |
| isPublic | Boolean | True/False  Whether View is public View. |
| isDefault | Boolean | True/False  Whether View is default View. |
| filter | String | Filter used in View. |
| gridColumnDefs | JSON | All columns Details needed to display View. |

```json
{
"name": "Custom API list View",
"viewTypeId": "1",
"isPublic": true,
"isDefault": false,
"filter": "APIStatusId",
"gridColumnDefs": {
"columnDefs": [
{
"id": "id",
"name": "Portfolio ID",
"field": "id",
"width": 200,
"visible": true,
"isSorted": false,
"isFilterActive": false,
"isColumnResized": false
},
{
"id": "name",
"name": "Description",
"field": "name",
"width": 140,
"visible": false,
"isSorted": false,
"isFilterActive": false,
"isColumnResized": false
}
]
}
}
```

### Success 201

| Field | Type | Description |
|-------|------|-------------|
| id | Number | View id. |
| name | String | Name of the View. |
| viewTypeId | Number | View type id. |
| viewType | String | Name of the View type. |
| isDefault | Boolean | True/False  Whether View is default View. |
| isPublic | Boolean | True/False  Whether View is public View. |
| filter | String | Filter used in View. |
| gridColumnDefs | JSON | All columns Details needed to display View. |
| createdOn | Date | View creation date into application. |
| createdBy | String | Id of user who created the View details into the system. |
| editedOn | Date | View edited date into application. |
| editedBy | String | Id of user who edited the View details into the system. |

```http
HTTP/1.1 201 OK
{
"id": 1,
"name": "Custom API list View",
"viewTypeId":1,
"viewType": "API_List",
"isDefault": true,
"isPublic": false,
"filter": "APIStatusId",
"gridColumnDefs": {
"columnDefs": [
{
"id": "id",
"name": "Portfolio ID",
"field": "id",
"width": 200,
"visible": true,
"isSorted": false,
"isFilterActive": false,
"isColumnResized": false
},
{
"id": "name",
"name": "Description",
"field": "name",
"width": 140,
"visible": false,
"isSorted": false,
"isFilterActive": false,
"isColumnResized": false
}
]
},
"createdBy": "user login id",
"createdOn": "2016-09-13 15:15:34",
"editedBy": "user login id",
"editedOn": "2016-09-13 15:15:34"
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |
| Bad_Request | When without request data. |
| Unprocessable_Entity | When View already exist with same Name. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```

```http
HTTP/1.1 400 Bad_Request
{
"message": "Bad Request: Verify request data"
}
```

```http
HTTP/1.1 422 Unprocessable_Entity
{
"message": "View already exists with same name"
}
```


## Delete View

This API deletes View (Soft Delete).

**DELETE** `https://baseurl/v1/settings/views/:id`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/settings/views/:id
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| message | String | Success message. |

```http
HTTP/1.1 200 OK
{
"message": "View deleted successfully"
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |
| Not_Found | When View does not exist or already deleted. |
| Unprocessable_Entity | When View is public and created by another user. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```

```http
HTTP/1.1 404 Not_Found
{
"message": "View does not exist"
}
```

```http
HTTP/1.1 422 Unprocessable_Entity
{
"message": "You do not have permissions to delete this view"
}
```


## Get list of all View Types

This API gets list of all View Types.

**GET** `https://baseurl/v1/settings/views/viewTypes`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/settings/views/viewTypes
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | The View type id. |
| viewType | String | Name of View type. |

```http
HTTP/1.1 200 OK
[
{
"id" : 1,
"viewType" : "CustomListing"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get list of all Views by View type Id

This API gets list of all Views by View type Id.

**GET** `https://baseurl/v1/settings/views?type={viewTypeId}`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/settings/views?type=1
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | View id. |
| name | String | Name of the View. |
| viewTypeId | Number | View type id. |
| viewType | String | Name of the View type. |
| isDefault | Boolean | True/False  Whether View is default View. |
| isPublic | Boolean | True/False  Whether View is public View. |
| createdBy | String | Id of user who created the View details into the system. |
| createdOn | Date | View created date into application. |
| editedBy | String | Id of user who edited the View details into the system. |
| editedOn | Date | View edited date into application. |

```http
HTTP/1.1 200 OK
[
{
"id": 12,
"name": "Custom List View",
"viewTypeId":1,
"viewType": "API_List",
"isDefault": true,
"isPublic": false,
"createdBy": "user login id",
"createdOn": "2016-09-13 15:15:34",
"editedBy": "user login id",
"editedOn": "2016-09-13 15:15:34"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get list of all Views

This API gets list of all Views.

**GET** `https://baseurl/v1/settings/views/`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/settings/views/
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | View id. |
| name | String | Name of the View. |
| viewTypeId | Number | View type id. |
| viewType | String | Name of the View type. |
| isDefault | Boolean | True/False  Whether View is default View. |
| isPublic | Boolean | True/False  Whether View is public View. |
| createdBy | String | Id of user who created the View details into the system. |
| createdOn | Date | View created date into application. |
| editedBy | String | Id of user who edited the View details into the system. |
| editedOn | Date | View edited date into application. |

```http
HTTP/1.1 200 OK
[
{
"id": 12,
"name": "Custom List View",
"viewTypeId":1,
"viewType": "API_List",
"isDefault": true,
"isPublic": false,
"createdBy": "user login id",
"createdOn": "2016-09-13 15:15:34",
"editedBy": "user login id",
"editedOn": "2016-09-13 15:15:34"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get View by name

This API gets View by name.

**GET** `https://baseurl/v1/settings/views?name={viewName}`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/settings/views?name=PortfolioList
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | View id. |
| name | String | Name of the View. |
| viewTypeId | Number | View type id. |
| viewType | String | Name of the View type. |
| isDefault | Boolean | True/False  Whether View is default View. |
| isPublic | Boolean | True/False  Whether View is public View. |
| createdBy | String | Id of user who created the View details into the system. |
| createdOn | Date | View created date into application. |
| editedBy | String | Id of user who edited the View details into the system. |
| editedOn | Date | View edited date into application. |

```http
HTTP/1.1 200 OK
[
{
"id": 12,
"name": "PortfolioList",
"viewTypeId":1,
"viewType": "API_List",
"isDefault": true,
"isPublic": false,
"createdBy": "user login id",
"createdOn": "2016-09-13 15:15:34",
"editedBy": "user login id",
"editedOn": "2016-09-13 15:15:34"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get View by name

This API gets View by View Type. Additional parameters: Simple:when true, does not return the grid definitions. FilterRequired:when true, will only return views containing at least one filter.

**GET** `https://baseurl/v1/settings/views?type={viewTypeId}&amp;simple={simple}&amp;filterRequired={filterRequired}`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/settings/views?name=PortfolioList&type=2
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | View id. |
| name | String | Name of the View. |
| viewTypeId | Number | View type id. |
| viewType | String | Name of the View type. |
| isDefault | Boolean | True/False  Whether View is default View. |
| isPublic | Boolean | True/False  Whether View is public View. |
| createdBy | String | Id of user who created the View details into the system. |
| createdOn | Date | View created date into application. |
| editedBy | String | Id of user who edited the View details into the system. |
| editedOn | Date | View edited date into application. |

```http
HTTP/1.1 200 OK
[
{
"id": 12,
"name": "PortfolioList",
"viewTypeId":2,
"viewType": "API_List",
"isDefault": true,
"isPublic": false,
"createdBy": "user login id",
"createdOn": "2016-09-13 15:15:34",
"editedBy": "user login id",
"editedOn": "2016-09-13 15:15:34"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Get View Details

This API gets View Details.

**GET** `https://baseurl/v1/settings/views/:id`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/settings/views/13
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | View id. |
| name | String | Name of the View. |
| viewTypeId | Number | View type id. |
| viewType | String | Name of the View type. |
| isDefault | Boolean | True/False  Whether View is default View. |
| isPublic | Boolean | True/False  Whether View is public View. |
| filter | String | Filter used in View. |
| gridColumnDefs | JSON | All columns Details needed to display View. |
| createdOn | Date | View creation date into application. |
| createdBy | String | Id of user who created the View details into the system. |
| editedOn | Date | View edited date into application. |
| editedBy | String | Id of user who edited the View details into the system. |

```http
HTTP/1.1 200 OK
{
"id": 1,
"name": "Custom list View",
"viewTypeId":1,
"viewType": "API_List",
"isDefault": true,
"isPublic": false,
"filter": "APIStatusId",
"gridColumnDefs": {
"field1" : "Whatever is saved for ng-grid state ",
"field2" : "Whatever is saved for ng-grid state "
},
"createdBy": "user login id",
"createdOn": "2016-09-13 15:15:34",
"editedBy": "user login id",
"editedOn": "2016-09-13 15:15:34"
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |
| Bad_Request | When without request data. |
| Not_Found | When View does not exist. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```

```http
HTTP/1.1 400 Bad_Request
{
"message": "Bad Request: Verify request data"
}
```

```http
HTTP/1.1 404 Not_Found
{
"message": "View does not exist"
}
```


## Sets view as default view

This API sets view as default view.

**POST** `https://baseurl/v1/settings/views/defaultView/:id`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/settings/views/defaultView/12
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | View id. |
| name | String | Name of the View. |
| viewTypeId | Number | View type id. |
| viewType | String | Name of the View type. |
| isDefault | Boolean | True/False  Whether View is default View. |
| isPublic | Boolean | True/False  Whether View is public View. |
| filter | String | Filter used in View. |
| gridColumnDefs | JSON | All columns Details needed to display View. |
| createdOn | Date | View creation date into application. |
| createdBy | String | Id of user who created the View details into the system. |
| editedOn | Date | View edited date into application. |
| editedBy | String | Id of user who edited the View details into the system. |

```http
HTTP/1.1 200 OK
{
"id": 12,
"name": "Custom API list View",
"viewTypeId":1,
"viewType": "API_List",
"isDefault": true,
"isPublic": false,
"filter": "APIStatusId",
"gridColumnDefs": {
"field1" : "Whatever is saved for ng-grid state ",
"field2" : "Whatever is saved for ng-grid state "
},
"createdBy": "user login id",
"createdOn": "2016-09-13 15:15:34",
"editedBy": "user login id",
"editedOn": "2016-09-13 15:15:34"
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |
| Bad_Request | When without request data. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```

```http
HTTP/1.1 400 Bad_Request
{
"message": "Bad Request: Verify request data"
}
```


## Update View

This API updates View.

**PUT** `https://baseurl/v1/settings/views/:id`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/settings/views/12
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| name | String | Name of the View. |
| viewTypeId | Number | View type id. |
| viewType | String | Name of the View type. |
| isDefault | Boolean | True/False  Whether View is default View. |
| isPublic | Boolean | True/False  Whether View is public View. |
| filter | String | Filter used in View. |
| gridColumnDefs | JSON | All columns Details needed to display View. |

```json
{
"name": "Custom Portfolio list View",
"viewTypeId": 1,
"isDefault": false,
"isPublic": true,
"filter": "APIStatusId",
"gridColumnDefs": {
"field1": "Store whatever is needed by ng-grid to store",
"field2": "filters/columns/sort order, column width, grouping, sums, etc"
}
}
```

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | View id. |
| name | String | Name of the View. |
| viewTypeId | Number | View type id. |
| viewType | String | Name of the View type. |
| isDefault | Boolean | True/False  Whether View is default View. |
| isPublic | Boolean | True/False  Whether View is public View. |
| filter | String | Filter used in View. |
| gridColumnDefs | JSON | All columns Details needed to display View. |
| createdOn | Date | View creation date into application. |
| createdBy | String | Id of user who created the View details into the system. |
| editedOn | Date | View edited date into application. |
| editedBy | String | Id of user who edited the View details into the system. |

```http
HTTP/1.1 200 OK
{
"id": 12,
"name": "Custom API list View",
"viewTypeId":1,
"viewType": "API_List",
"isDefault": true,
"isPublic": false,
"filter": "APIStatusId",
"gridColumnDefs": {
"field1" : "Whatever is saved for ng-grid state ",
"field2" : "Whatever is saved for ng-grid state "
},
"createdBy": "user login id",
"createdOn": "2016-09-13 15:15:34",
"editedBy": "user login id",
"editedOn": "2016-09-13 15:15:34"
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid / Without JWT Token. |
| Bad_Request | When without request data. |
| Unprocessable_Entity | When View already exist with same Name. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```

```http
HTTP/1.1 400 Bad_Request
{
"message": "Bad Request: Verify request data"
}
```

```http
HTTP/1.1 422 Unprocessable_Entity
{
"message": "View already exists with same name"
}
```


---

# aws


## Get All Firms From s3

This API gets category list.

**GET** `https://baseurl/v1/admin/aws/firms`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/admin/aws/firms
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| firms | String[] | List of Firms. |

```http
HTTP/1.1 200 OK
{
firms : ['firm1', 'firm2', 'firm3', 'firm4']
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


---

# rebalancer


## Get list of all Auto-Rebalance Options

This API gets list of all Auto-Rebalance Options.

**GET** `https://baseurl/v1/rebalancer/rebalanceOptions`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/rebalancer/rebalanceOptions
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | Auto-Rebalance Type id. |
| rebalanceType | String | Auto-Rebalance Type Name. |
| rebalanceOptions | Array | Auto-Rebalance Options. |
| -id | Number | Auto-Rebalance Option Id. |
| -rebalanceMonth | Number | Auto-Rebalance Month. |

```http
HTTP/1.1 200 OK
[
{
"id": 1,
"rebalanceType": "None",
"rebalanceOptions": [
{
"id": 1,
"rebalanceMonth": "NA"
}
]
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Run the Scheduler task.

This API Run scheduler task on the bases of task name.

**POST** `https://baseurl/v1/scheduler/runSchedulerTask`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/scheduler/runSchedulerTask
```


---

# reverseSynch


## Get All reverse synch logs

This API gets reverse log list.

**GET** `https://baseurl/v1/reversesynch/`

**Permission:** `appuser`

```bash
curl -i http://baseurl/v1/reversesynch/
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

### Success 200

| Field | Type | Description |
|-------|------|-------------|
| id | Number | ID. |
| logId | String | The Log ID. |
| startDateTime | Date | Reverse Synch Request start date. |
| endDateTime | Date | Reverse Synch Request end date. |
| user | String | User who initiated the reverse synch. |
| status | String | Status of reverse synch request. |
| message | String | Message . |

```http
HTTP/1.1 200 OK
[
{
"id": 57,
"logId": "e76693f5-79f3-f9b2-b3a8-81bce8743884",
"user": "prime@tgi.com",
"startDateTime": "2017-04-05T00:50:39.000Z",
"endDateTime": "2017-04-05T00:50:39.000Z",
"message": null,
"status": "Pending"
}
]
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without JWT Token. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header""
}
```


## Retry Reverse Synch Request Status

This api will be used to process the failed trades due to any fatal error and insert in reverseSync log of reverse synch request.

**POST** `https://baseurl/v1/reversesynch/retryReverseSyncProcess/`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/reversesynch/retryReverseSyncProcess/
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

```json
{}
```

```http
HTTP/1.1 200 OK
{
"message": "ReverseSync Trades processed Successfully"
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without Shared Key. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```


## Send Reverse Sync Message To Orion Connect

This api will be used to process the reverse sync message and insert in reverseSync log of reverse sync request.

**POST** `https://baseurl/v1/reversesynch/sendReverseSyncMessage`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/reversesynch/sendReverseSyncMessage/
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | eclipse_access_token. |

```http
HTTP/1.1 200 OK
{
"message": "ReverseSync Trades processed Successfully"
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without Shared Key. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```


## Update Reverse Synch Request Status

This api will be used to update status of reverse synch request.

**PUT** `https://baseurl/v1/reversesynch/updatestatus/`

**Permission:** `appUser`

```bash
curl -i http://baseurl/v1/reversesynch/updatestatus/
```

### Header

| Field | Type | Description |
|-------|------|-------------|
| Authorization | String | super key. |

### Parameter

| Field | Type | Description |
|-------|------|-------------|
| logId | String | The reverse synch logId. |
| status | String | Possible values : RUNNING, SUCCESS and FAILURE |
| firmId | Number | The reverse synch orion connect firmId. |
| message | String | Message Detail. |

```json
{
"logId": "f95014f7-a3e3-1f81-112d-8274d3acd24a",
"status": "SUCCESS",
"firmId": 477,
"message": "warning message"
}
```

```http
HTTP/1.1 200 OK
{
"message": "Status of reverse synch log updated successfully"
}
```

### Error 4xx

| Name | Description |
|------|-------------|
| Unauthorized | Invalid/Without Shared Key. |

```http
HTTP/1.1 401 Unauthorized
{
"message": "Invalid Authorization Header"
}
```

